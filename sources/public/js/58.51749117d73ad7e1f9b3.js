(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{"4K7x":function(e,a,t){"use strict";t.d(a,"b",(function(){return r})),t.d(a,"a",(function(){return l}));var n=t("83d4");function r(e){return[{label:e("user.role.".concat(n.c)),value:n.c},{label:e("user.role.".concat(n.a)),value:n.a},{label:e("user.role.".concat(n.b)),value:n.b}]}function l(e){return function(){return new Promise((function(a){a(r(e))}))}}},"5TAD":function(e,a,t){"use strict";var n=t("q1tI"),r=t.n(n),l=t("17x9"),c=t.n(l),i=t("55Ip"),o=t("TSYQ"),u=t.n(o);function s(e){var a=e.url,t=e.icon,n=e.text,l=e.realLink,c=e.className,o=r.a.createElement(r.a.Fragment,null,t,n?r.a.createElement("span",{className:"text-main color-blue"},n):null);return l?r.a.createElement("a",{className:u()("p-3 d-flex action-dropdown-item edit color-black",c),href:a},o):r.a.createElement(i.a,{className:u()("p-3 d-flex action-dropdown-item edit color-black",c),to:a},o)}s.defaultProps={realLink:!1},s.propTypes={url:c.a.string.isRequired,icon:c.a.any,text:c.a.string,realLink:c.a.bool,className:c.a.string},a.a=r.a.memo(s)},E4lw:function(e,a,t){"use strict";var n=t("q1tI"),r=t.n(n),l=t("17x9"),c=t.n(l),i=t("jeY2"),o=t("lYjl"),u=t("MwQV"),s=t("c8c+"),m=t("Qu/B"),d=t("EW+5"),p=Object(d.a)(o.a),g=p.loading,b=p.itemsListLoaded,f=p.error,E=t("4vsJ"),v=t("2pJb"),h=t("eOHm"),x=t("9Koi"),y=t("QPV6"),j=t("OKOT"),O=t("GmYL"),N=t("ridt"),P=t("Uf9I"),w=t("1Y33"),q=t("4K7x"),k=t("jQco"),I=t("kvuc"),R=t("ma3e");function F(e){var a=e.userId,t=Object(x.a)().t;return r.a.createElement(I.a,{className:"p-3 d-flex action-dropdown-item edit color-black",tag:"a",href:"/user/impersonate/".concat(a)},r.a.createElement(R.ob,{className:"icon-size-15 color-blue mr-2"}),r.a.createElement("span",{className:"text-main color-blue"},t("tables.action-impersonate")))}F.propTypes={userId:c.a.number.isRequired};var T=r.a.memo(F),S=t("rpa7"),L=t("Yfk4"),Y=t("dbgk"),Q=t("19iC"),z=t("Jxq0"),C=t("55Ip");function J(e){var a=e.user,t=Object(x.a)().t,n=Object(Q.a)();return a.isOnline?r.a.createElement("div",null,r.a.createElement("div",{className:"online-dot d-inline-block rounded-circle mr-1"}),r.a.createElement("span",null,"online")):a.last_activity?r.a.createElement("span",null,t("user.index-page.last-user-activity",{date:n(a.last_activity)})):null}function K(e){return function(){return new Promise((function(a){a([{label:e("user.index-page.status-online"),value:1},{label:e("user.index-page.status-offline"),value:0}])}))}}function _(e){var a=e.sort,t=e.filters,n=e.data,l=e.currentPage,c=e.lastPage,i=e.changeSort,o=e.changeFilters,u=e.changePage,s=e.paginatorRoute,m=e.showCreationButton,d=Object(x.a)().t,p=Object(S.a)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,null,d("user.index-page.title")),m?r.a.createElement("div",{className:"text-right"},r.a.createElement(C.a,{to:"/users/create",className:"btn btn-primary mt-2 mb-4"},d("user.index-page.create-btn-text"))):null,r.a.createElement(k.d,{changeFilters:o,filters:t}),r.a.createElement(L.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement(v.a,{title:d("user.index-page.column-name"),active:Object(E.b)(a,"name")||Object(w.b)(t,"name")},r.a.createElement(E.a,{sort:a,name:"name",displayName:d("user.index-page.column-name"),changeSort:i,order:1}),r.a.createElement(P.a,{displayName:d("user.index-page.column-name"),filters:t,changeFilters:o,column:"name"}))),r.a.createElement("th",null,r.a.createElement(v.a,{title:d("user.index-page.column-email"),active:Object(E.b)(a,"email")||Object(w.b)(t,"email")},r.a.createElement(E.a,{sort:a,name:"email",displayName:d("user.index-page.column-email"),changeSort:i,order:2}),r.a.createElement(P.a,{displayName:d("user.index-page.column-email"),filters:t,changeFilters:o,column:"email"}))),r.a.createElement("th",null,r.a.createElement(v.a,{title:d("user.index-page.column-role"),active:Object(w.b)(t,"role")},r.a.createElement(N.a,{displayName:d("user.index-page.column-role"),filters:t,changeFilters:o,column:"role",loadOptions:Object(q.a)(d)}))),r.a.createElement("th",null,r.a.createElement(v.a,{title:d("user.index-page.column-status"),active:Object(E.b)(a,"last_activity")||Object(w.b)(t,"role")},r.a.createElement(E.a,{sort:a,name:"last_activity",displayName:d("user.index-page.column-status"),changeSort:i,order:3}),r.a.createElement(N.a,{displayName:d("user.index-page.column-status"),filters:t,changeFilters:o,column:"scopeStatus",loadOptions:K(d)}))),r.a.createElement("th",null,"Â "))),r.a.createElement("tbody",null,n.length?n.map((function(e){return r.a.createElement("tr",{key:e.id,id:e.id},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.email),r.a.createElement("td",null,d("user.role.".concat(e.role))),r.a.createElement("td",null,r.a.createElement(J,{user:e})),r.a.createElement(y.a,null,(function(a){return r.a.createElement(r.a.Fragment,null,p.id!==e.id&&p.isSystemAdministrator?r.a.createElement(T,{userId:e.id}):null,r.a.createElement(O.a,{url:"/users/".concat(e.id,"/edit")}),p.id===e.id?null:r.a.createElement(j.a,{url:"/methods/user/".concat(e.id),setConfirm:a,onSuccess:function(){return u(l)}}))})))})):r.a.createElement(z.a,{colspan:5}))),r.a.createElement(h.a,{currentPage:l,lastPage:c,loadPage:u,route:s}))}_.propTypes={changeFilters:c.a.func.isRequired,changeSort:c.a.func.isRequired,changePage:c.a.func.isRequired,data:c.a.array.isRequired,currentPage:c.a.number,lastPage:c.a.number,filters:c.a.object.isRequired,sort:c.a.object.isRequired,paginatorRoute:c.a.string.isRequired,showCreationButton:c.a.bool};a.a=Object(i.a)(_,(function(e){var a,t=e.users;return{loading:t.get("loading"),data:null===(a=t.get("data"))||void 0===a?void 0:a.toArray(),errors:t.get("errors"),currentPage:t.get("currentPage"),lastPage:t.get("lastPage"),filters:t.get("filters"),sort:t.get("sort")}}),(function(e,a){return{loadPage:function(t,n,r){e(function(e,a,t,n){return function(r){var l={page:e};(a.size||n.size)&&(l.filter=Object(s.a)(n?a.concat(n):a)),t.size&&(l.order=Object(m.a)(t)),r(g()),u.a.call("get","/methods/user",l,{}).then((function(e){r(b({filters:a,sort:t,response:e}))})).catch((function(e){return r(f(e))}))}}(t,n,r,a.defaultFilters))}}}))},GmYL:function(e,a,t){"use strict";var n=t("q1tI"),r=t.n(n),l=t("17x9"),c=t.n(l),i=t("ma3e"),o=t("9Koi"),u=t("5TAD");function s(e){var a=e.url,t=Object(o.a)().t;return r.a.createElement(u.a,{url:a,icon:r.a.createElement(i.N,{className:"icon-size-15 color-blue mr-2"}),text:t("common.edit-link")})}s.propTypes={url:c.a.string.isRequired},a.a=r.a.memo(s)},mN8t:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return s}));var n=t("q1tI"),r=t.n(n),l=t("jQco"),c=t("E4lw"),i=t("Mpt7"),o=t("Ty5D"),u=t("rpa7");function s(){var e=Object(o.j)().companyId,a=[{column:"company_id",operator:"eq",value:e,filterValue:e,display:"",displayingType:l.c}],t=Object(u.a)();return r.a.createElement(c.a,{showCreationButton:t.companyId===e,defaultFilters:Object(i.d)(a),additionalPageUrlParams:{companyId:e},paginatorRoute:"/companies/".concat(e,"/users")})}}}]);