(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"/kxI":function(e,t,n){"use strict";var r=n("wx14"),a=n("zLVn"),o=n("q1tI"),i=n.n(o),s=n("17x9"),c=n.n(s),l=n("TSYQ"),u=n.n(l),d=n("33Jr"),f={tag:d.q,className:c.a.string,cssModule:c.a.object,innerRef:c.a.oneOfType([c.a.object,c.a.string,c.a.func])},m=function(e){var t=e.className,n=e.cssModule,o=e.innerRef,s=e.tag,c=Object(a.a)(e,["className","cssModule","innerRef","tag"]),l=Object(d.m)(u()(t,"card-body"),n);return i.a.createElement(s,Object(r.a)({},c,{className:l,ref:o}))};m.propTypes=f,m.defaultProps={tag:"div"},t.a=m},"9qca":function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),s=n("FrZM"),c=n("sOKU"),l=n("L3zb"),u=n("k/iu"),d=n("9Koi"),f=n("Mpt7"),m=n("MwQV");function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e){var t=e.attachment,n=e.handleChange,o=Object(d.a)().t,i=p(Object(r.useState)(!!t&&t.get("type")===s.a),2),g=i[0],b=i[1];return a.a.createElement("div",{className:"limiter form-group 3"},a.a.createElement("div",null,a.a.createElement(c.a,{className:"mr-2 mb-4 px-sm-5 px-4",outline:g,onClick:function(){return b(!1)},color:g?"secondary":"primary"},o("chatbot.edit.attachment-file")),a.a.createElement(c.a,{className:"mr-2 mb-4 px-sm-5 px-4",outline:!g,onClick:function(){return b(!0)},color:g?"primary":"secondary"},o("chatbot.edit.attachment-url"))),a.a.createElement("div",{className:"mb-4"},g?a.a.createElement(l.a,{onChange:function(e){var t=Object(f.b)({type:s.a,url:e.target.value});n(t)},defaultValue:t?t.get("url",""):"",placeholder:o("chatbot.edit.attachment-url-input")}):a.a.createElement("div",null,a.a.createElement(u.a,{onChange:function(e){var t=new FormData;return t.append("file",e.target.files[0]),m.a.call("post","/methods/chat-bots/attachment",{},t).data((function(e){n(Object(f.b)(e))}))},name:"customFile",label:o("chatbot.edit.attachment-file-input"),id:"attachment-file"}))),a.a.createElement("div",null,t?a.a.createElement(s.b,{attachment:t}):null))}b.propTypes={attachment:i.a.instanceOf(f.b),handleChange:i.a.func.isRequired},t.a=b},BLzl:function(e,t,n){"use strict";var r=n("wx14"),a=n("zLVn"),o=n("q1tI"),i=n.n(o),s=n("17x9"),c=n.n(s),l=n("TSYQ"),u=n.n(l),d=n("33Jr"),f={tag:d.q,inverse:c.a.bool,color:c.a.string,body:c.a.bool,outline:c.a.bool,className:c.a.string,cssModule:c.a.object,innerRef:c.a.oneOfType([c.a.object,c.a.string,c.a.func])},m=function(e){var t=e.className,n=e.cssModule,o=e.color,s=e.body,c=e.inverse,l=e.outline,f=e.tag,m=e.innerRef,p=Object(a.a)(e,["className","cssModule","color","body","inverse","outline","tag","innerRef"]),g=Object(d.m)(u()(t,"card",!!c&&"text-white",!!s&&"card-body",!!o&&(l?"border":"bg")+"-"+o),n);return i.a.createElement(f,Object(r.a)({},p,{className:g,ref:m}))};m.propTypes=f,m.defaultProps={tag:"div"},t.a=m},FrZM:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("q1tI"),a=n.n(r),o=n("Mpt7"),i=n("17x9"),s=n.n(i),c=n("ma3e"),l=n("Gv9V"),u=6;function d(e){var t=e.attachment,n=t.get("type"),r=t.get("url");if(!r||r.startsWith("sticker::"))return null;if(/\{\@[\w\d]*\}/.test(r))return a.a.createElement(c.C,null);switch(n){case u:return a.a.createElement("embed",{key:r,className:"attachment-preview",src:r,type:""});case 2:return a.a.createElement(c.C,null);case 1:return a.a.createElement("img",{className:"attachment-preview",src:r});case 7:return a.a.createElement("video",{controls:!0,className:"attachment-preview"},a.a.createElement("source",{src:r}));case 9:return a.a.createElement(l.a,{url:r})}return null}t.b=d,d.propTypes={attachment:s.a.instanceOf(o.b).isRequired}},Gv9V:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),s=n("ma3e");function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e){var t=e.url,n=Object(r.useRef)(),o=c(Object(r.useState)(!1),2),i=o[0],l=o[1];Object(r.useEffect)((function(){var e=n.current;l(!e.paused),e.onended=function(){l(!1)}}),[]);return a.a.createElement("div",null,a.a.createElement("button",{type:"button",onClick:function(){var e=n.current;e.paused?e.play():(e.pause(),e.currentTime=0),l(!e.paused)},className:"btn btn-outline-dark"},i?a.a.createElement(s.ob,null):a.a.createElement(s.U,null)),a.a.createElement("audio",{ref:n,src:t,controls:!0,className:"d-none"}))}u.propTypes={url:i.a.string.isRequired}},PLmP:function(e,t,n){"use strict";let r=/(-?(?:\d+\.?\d*|\d*\.?\d+)(?:e[-+]?\d+)?)\s*([\p{L}]*)/giu;function a(e="",t="ms"){var n=null;return(e=(e+"").replace(/(\d)[,_](\d)/g,"$1$2")).replace(r,(function(e,t,r){(r=o(r))&&(n=(n||0)+parseFloat(t,10)*r)})),n&&n/(o(t)||1)}function o(e){return a[e]||a[e.toLowerCase().replace(/s$/,"")]}a.nanosecond=a.ns=1e-6,a["µs"]=a["μs"]=a.us=a.microsecond=.001,a.millisecond=a.ms=a[""]=1,a.second=a.sec=a.s=1e3*a.ms,a.minute=a.min=a.m=60*a.s,a.hour=a.hr=a.h=60*a.m,a.day=a.d=24*a.h,a.week=a.wk=a.w=7*a.d,a.month=a.b=30.4375*a.d,a.year=a.yr=a.y=365.25*a.d,t.a=a},QDav:function(e,t,n){"use strict";n.d(t,"b",(function(){return u}));var r=n("q1tI"),a=n.n(r),o=(n("qKvR"),n("i8i4"),n("17x9"),n("q/f6")),i=n("njTy"),s=(n("iYmT"),n("FUBA"),n("1m/E"));function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l={cacheOptions:!1,defaultOptions:!1,filterOption:null,isLoading:!1},u=function(e){var t,n;return n=t=function(t){var n,r;function i(e){var n;return(n=t.call(this)||this).select=void 0,n.lastRequest=void 0,n.mounted=!1,n.optionsCache={},n.handleInputChange=function(e,t){var r=n.props,a=r.cacheOptions,i=r.onInputChange,s=Object(o.k)(e,t,i);if(!s)return delete n.lastRequest,void n.setState({inputValue:"",loadedInputValue:"",loadedOptions:[],isLoading:!1,passEmptyOptions:!1});if(a&&n.optionsCache[s])n.setState({inputValue:s,loadedInputValue:s,loadedOptions:n.optionsCache[s],isLoading:!1,passEmptyOptions:!1});else{var c=n.lastRequest={};n.setState({inputValue:s,isLoading:!0,passEmptyOptions:!n.state.loadedInputValue},(function(){n.loadOptions(s,(function(e){n.mounted&&(e&&(n.optionsCache[s]=e),c===n.lastRequest&&(delete n.lastRequest,n.setState({isLoading:!1,loadedInputValue:s,loadedOptions:e||[],passEmptyOptions:!1})))}))}))}return s},n.state={defaultOptions:Array.isArray(e.defaultOptions)?e.defaultOptions:void 0,inputValue:void 0!==e.inputValue?e.inputValue:"",isLoading:!0===e.defaultOptions,loadedOptions:[],passEmptyOptions:!1},n}r=t,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var s=i.prototype;return s.componentDidMount=function(){var e=this;this.mounted=!0;var t=this.props.defaultOptions,n=this.state.inputValue;!0===t&&this.loadOptions(n,(function(t){if(e.mounted){var n=!!e.lastRequest;e.setState({defaultOptions:t||[],isLoading:n})}}))},s.UNSAFE_componentWillReceiveProps=function(e){e.cacheOptions!==this.props.cacheOptions&&(this.optionsCache={}),e.defaultOptions!==this.props.defaultOptions&&this.setState({defaultOptions:Array.isArray(e.defaultOptions)?e.defaultOptions:void 0})},s.componentWillUnmount=function(){this.mounted=!1},s.focus=function(){this.select.focus()},s.blur=function(){this.select.blur()},s.loadOptions=function(e,t){var n=this.props.loadOptions;if(!n)return t();var r=n(e,t);r&&"function"==typeof r.then&&r.then(t,(function(){return t()}))},s.render=function(){var t=this,n=this.props,r=(n.loadOptions,n.isLoading),o=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(n,["loadOptions","isLoading"]),i=this.state,s=i.defaultOptions,l=i.inputValue,u=i.isLoading,d=i.loadedInputValue,f=i.loadedOptions,m=i.passEmptyOptions?[]:l&&d?f:s||[];return a.a.createElement(e,c({},o,{ref:function(e){t.select=e},options:m,isLoading:u||r,onInputChange:this.handleInputChange}))},i}(r.Component),t.defaultProps=l,n},d=Object(s.a)(i.a),f=u(d);t.a=f},R5y6:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n("q1tI"),a=n.n(r),o=n("QDav"),i=n("xilt"),s=n("jrRI"),c=n("3OM0"),l=n("TSYQ"),u=n.n(l),d=n("sPdi"),f=n("17x9"),m=n.n(f),p=n("9Koi");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y={control:function(e){return b(b({},e),{},{"&, &:hover, &:focus":{borderColor:"#ced4da",boxShadow:"none"}})},menu:function(e){return b(b({},e),{},{zIndex:10})}};function v(e){var t,n,r=e.id,l=e.label,f=e.errors,m=e.loadOptions,g=e.name,b=e.setFieldValue,h=e.handleBlur,v=e.value,O=e.className,w=e.labelClass,E=e.placeholder,C=e.isClearable,j=e.cacheOptions,x=e.isMulti,S=e.isDisabled,R=e.defaultOptions,k=Object(p.a)().t,I=C?i.a:o.a;return a.a.createElement(s.a,{className:u()(O)},a.a.createElement(c.a,{className:u()(w),htmlFor:r},l),a.a.createElement(I,{cacheOptions:j,defaultOptions:R,loadOptions:m,onChange:function(e){b(g,e)},value:v,isClearable:C,className:u()({"is-invalid":!!(null===(t=f[g])||void 0===t?void 0:t.length)}),placeholder:E||k("common.default-select-placeholder"),styles:y,isMulti:x,isDisabled:S,onBlur:h}),(null===(n=f[g])||void 0===n?void 0:n.length)?a.a.createElement(d.a,{errors:f[g]}):null)}v.defaultProps={isClearable:!0,cacheOptions:!0,defaultOptions:!0},v.propTypes={errors:m.a.object.isRequired,id:m.a.oneOfType([m.a.string,m.a.number]),value:m.a.oneOfType([m.a.shape({label:m.a.string,value:m.a.oneOfType([m.a.string,m.a.number])}),m.a.array]),label:m.a.any.isRequired,name:m.a.string.isRequired,handleBlur:m.a.func,setFieldValue:m.a.func.isRequired,loadOptions:m.a.func.isRequired,className:m.a.string,labelClass:m.a.string,placeholder:m.a.string,isClearable:m.a.bool,isMulti:m.a.bool,isDisabled:m.a.bool,cacheOptions:m.a.bool,defaultOptions:m.a.oneOfType([m.a.bool,m.a.array])}},UiJU:function(e,t,n){"use strict";var r=n("o0o1"),a=n.n(r),o=n("q1tI"),i=n.n(o),s=n("17x9"),c=n.n(s),l=n("nc57"),u=n("6Rhw"),d=n("x37D"),f=n("9Koi"),m=n("ok1R"),p=n("rhny"),g=n("sOKU"),b=n("ma3e"),h=n("CXWj"),y=n("BLzl"),v=n("/kxI"),O=n("+z1p"),w=n("AEIT"),E=n("jrRI"),C=n("BAJy"),j=n("3OM0"),x=(n("jWsU"),n("9qca"));function S(e){return function(e){if(Array.isArray(e))return R(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var k={toolbar:["bold","italic","underline","link","bulletedList","numberedList","undo","redo"],mention:{feeds:[{marker:"@",feed:function(e){return Promise.resolve([{id:"@".concat(e)}].concat(S([{id:"@first_name"},{id:"@last_name"},{id:"@email"},{id:"@phone_number"}].filter((function(t){return t.id.toLowerCase().includes(e.toLowerCase())})))))}}]}};function I(e){var t=e.item,n=e.onItemChange,r=e.onRemove,a=e.index,o=e.errors,s=Object(f.a)().t;return i.a.createElement(y.a,{className:"mb-2"},i.a.createElement(v.a,null,i.a.createElement(m.a,null,i.a.createElement(p.a,{sm:12,md:6},i.a.createElement(E.a,null,i.a.createElement(j.a,null,s("campaigns.form.message-text-label")),i.a.createElement(w.CKEditor,{editor:O.ClassicEditor,data:t.get("text"),onChange:function(e,r){n(t.set("text",r.getData()))},placeholder:s("campaigns.form.message-text-placeholder"),config:k})),i.a.createElement(E.a,null,i.a.createElement(j.a,null,s("campaigns.form.message-attachment-label")),i.a.createElement(x.a,{attachment:t.get("attachment"),handleChange:function(e){n(t.set("attachment",e))}}))),i.a.createElement(p.a,{sm:12,md:6},i.a.createElement(u.a,{className:"mr-sm-3 mr-2",id:"messages.".concat(a,".trigger"),name:"messages.".concat(a,".trigger"),label:s("campaigns.form.message-trigger-label"),placeholder:s("campaigns.form.message-trigger-placeholder"),value:t.get("trigger"),onChange:function(e){n(t.set("trigger",e.target.value))},errors:o}),i.a.createElement(u.a,{className:"mr-sm-3 mr-2",id:"messages.".concat(a,".delay"),name:"messages.".concat(a,".delay"),label:s("campaigns.form.message-delay-label"),placeholder:s("campaigns.form.message-delay-placeholder"),value:t.get("delay"),onChange:function(e){n(t.set("delay",e.target.value))},errors:o})),i.a.createElement(p.a,{sm:12},S(Array(7).keys()).map((function(e){var r;return i.a.createElement("span",{key:e},i.a.createElement(C.a,{id:"messages.".concat(a,".day-config.").concat(e),className:"day-select-btn",name:"messages.".concat(a,".day-config.").concat(e),type:"checkbox",checked:t.get("days_config").includes(e),onChange:function(r){if(+r.target.checked)n(t.set("days_config",t.get("days_config").push(e).sort()));else{var a=t.get("days_config").filter((function(t){return t!==e})).sort(),o=t.set("days_config",a);a.count()||(o=o.set("only_working_time",!1)),n(o)}},invalid:!!(null===(r=o[name])||void 0===r?void 0:r.length),label:s("common.daysOfWeek.".concat(e))}))}))),i.a.createElement(p.a,{sm:10},i.a.createElement(h.a,{id:"messages.".concat(a,".only_working_time"),name:"messages.".concat(a,".only_working_time"),label:s("campaigns.form.message-only-working-time-label"),disabled:!t.get("days_config").count(),value:t.get("only_working_time"),setFieldValue:function(e,r){n(t.set("only_working_time",r))},errors:o})),i.a.createElement(p.a,{sm:2,className:"text-right pt-2"},i.a.createElement("button",{className:"btn btn-link no-shadow",type:"button",onClick:r},i.a.createElement(b.xb,{className:"color-gray icon-size-20"}))))))}I.propTypes={item:c.a.object.isRequired,errors:c.a.object.isRequired,onItemChange:c.a.func.isRequired,onRemove:c.a.func.isRequired,index:c.a.number.isRequired};var A=I,L=n("R5y6"),q=n("MwQV");function N(e){return new Promise((function(t){q.a.call("get","/methods/time-zones/search",{q:e}).data((function(e){t(e.map((function(e){return{label:e.name,value:e.id}})))}))}))}function P(e){var t=e.handleBlur,n=e.values,r=e.errors,a=e.isSubmitting,o=e.handleNameChange,s=e.handleTimeZoneChange,c=e.handleMessageChange,l=e.handleClickRemoveMessage,b=e.handleClickAddMessage,h=Object(f.a)().t;return i.a.createElement(m.a,null,i.a.createElement(p.a,{md:12},i.a.createElement(u.a,{className:"limiter",id:"name",name:"name",label:h("campaigns.form.name-label"),placeholder:h("campaigns.form.name-placeholder"),onChange:o,onBlur:t,value:n.name,errors:r}),i.a.createElement(L.a,{className:"limiter",name:"timeZone",label:h("campaigns.form.time-zone-label"),value:n.timeZone,setFieldValue:s,errors:r,loadOptions:N,isMulti:!1,isClearable:!1}),i.a.createElement("div",null,n.messages.map((function(e,t){return i.a.createElement(A,{key:t,index:t,item:e,onItemChange:function(e){c(t,e)},onRemove:function(){return l(t)},errors:r})}))),i.a.createElement("div",{className:"text-right"},i.a.createElement(g.a,{className:"mb-3",type:"button",onClick:b},h("campaigns.form.add-message-btn")))),i.a.createElement(p.a,{sm:12},i.a.createElement(d.a,{className:"pt-2 px-4 mb-4",disabled:a},h("common.saveBtnText"))))}P.propTypes={handleMessageChange:c.a.func.isRequired,handleClickRemoveMessage:c.a.func.isRequired,handleClickAddMessage:c.a.func.isRequired,handleNameChange:c.a.func.isRequired,handleTimeZoneChange:c.a.func.isRequired,handleBlur:c.a.func.isRequired,values:c.a.object.isRequired,errors:c.a.object.isRequired,isSubmitting:c.a.bool,fromList:c.a.bool,calculation:c.a.bool};var T=P,_=n("Mpt7"),M=n("PLmP"),V=n("sveX");function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function B(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){F(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function Q(e){var t=e.initialData,n=e.handleSubmit,r=e.afterSave,s=e.fromFilters,c=Object(o.useCallback)(function(){var e,t=(e=a.a.mark((function e(t,o){var i,s,c,l,u,d,f;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=t.messages?t.messages.toJS():[],s=[],c=U(i),e.prev=3,c.s();case 5:if((l=c.n()).done){e.next=16;break}if(!(u=l.value).attachment||u.attachment.id){e.next=12;break}return e.next=10,Object(V.a)(u.attachment);case 10:d=e.sent,u.attachment=d.data;case 12:u.attachment&&(u.attachment_id=u.attachment.id),s.push(u);case 14:e.next=5;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(3),c.e(e.t0);case 21:return e.prev=21,c.f(),e.finish(21);case 24:f={name:t.name||null,timeZone:t.timeZone?t.timeZone.value:null,messages:s.map((function(e){return z(z({},e),{},{delay:""!==e.delay?Object(M.a)(e.delay)/6e4:null})}))},n(f).data((function(e){o.setSubmitting(!1),r(e)})).validation((function(e,t){o.setErrors(t),o.setSubmitting(!1)})).catch((function(){o.setSubmitting(!1)}));case 26:case"end":return e.stop()}}),e,null,[[3,18,21,24]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){K(o,r,a,i,s,"next",e)}function s(e){K(o,r,a,i,s,"throw",e)}i(void 0)}))});return function(e,n){return t.apply(this,arguments)}}(),[n,r]);return i.a.createElement(l.a,{initialValues:t,handleSubmit:c,renderForm:function(e){var t=e.setFieldValue,n=e.handleChange,r=e.values,a=e.errors,o=e.setErrors,c=B(e,["setFieldValue","handleChange","values","errors","setErrors"]);return i.a.createElement(T,W({},c,{errors:a,setErrors:o,values:r,fromList:s,handleNameChange:function(e){n(e),t("isNameChanged",!!e.target.value)},handleTimeZoneChange:function(e,n){t(e,n)},handleClickRemoveMessage:function(e){var n=z({},a);n.messages&&delete n.messages,o(n),t("messages",r.messages.delete(e))},handleMessageChange:function(e,n){t("messages",r.messages.set(e,n))},handleClickAddMessage:function(){t("messages",r.messages.push(Object(_.b)({text:"",trigger:"",only_working_time:0,delay:"",days_config:Object(_.a)([0,1,2,3,4,5,6])})))}}))}})}Q.propTypes={initialData:c.a.object.isRequired,handleSubmit:c.a.func.isRequired,afterSave:c.a.func.isRequired,fromFilters:c.a.bool};t.a=Q},dbgk:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o);function s(e){var t=e.children;return a.a.createElement("h1",{className:"title-main mb-3"},t)}s.propTypes={children:i.a.any.isRequired}},jWsU:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.closeButton=t.inputErrorIconAfter=t.inputErrorIconBefore=t.inputErrorIconBeforeAfter=t.inputErrorIcon=t.exclamationIcon=t.validationMessage=t.button=t.iconCustom=t.iconSuccessLineLong=t.iconSuccessLineTip=t.iconSuccessLine=t.iconSuccessFix=t.iconSuccessPlaceholder=t.iconSuccessAfter=t.iconSuccessBefore=t.iconSuccessBeforeAfter=t.iconSuccess=t.iconInfoAfter=t.iconInfoBefore=t.iconInfo=t.iconWarningDot=t.iconWarningBody=t.iconWarning=t.iconErrorLineRight=t.iconErrorLineLeft=t.iconErrorLine=t.iconErrorX=t.iconError=t.icon=t.actions=t.contentContainer=t.title=t.sweetAlert=t.sweetAlertContainer=t.overlay=void 0,t.overlay={backgroundColor:"rgba(0, 0, 0, 0.4)",position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:5e3},t.sweetAlertContainer={display:"flex",position:"fixed",top:0,right:0,left:0,bottom:0,flexDirection:"row",alignItems:"center",justifyContent:"center",padding:".625em",overflowX:"hidden",overflowY:"auto",zIndex:5400},t.sweetAlert={display:"flex",overflow:"hidden",backgroundColor:"#fff",outline:"none",width:"32em",padding:"1.25rem",margin:"auto",borderRadius:".3125em",textAlign:"center",position:"relative",flexDirection:"column",justifyContent:"center",maxWidth:"100%",zIndex:5600},t.title={position:"relative",maxWidth:"100%",margin:"0 0 .4em",padding:0,fontSize:"1.875em",fontWeight:600,textAlign:"center",textTransform:"none",wordWrap:"break-word"},t.contentContainer={zIndex:1,justifyContent:"center",margin:0,padding:0,fontSize:"1.125em",fontWeight:300,lineHeight:"normal",textAlign:"center",wordWrap:"break-word"},t.actions={display:"flex",zIndex:1,flexWrap:"wrap",alignItems:"center",justifyContent:"center",width:"100%",margin:"1.25em auto 0"},t.icon={width:80,height:80,borderWidth:4,borderStyle:"solid",borderColor:"gray",borderRadius:"50%",margin:"20px auto",position:"relative",boxSizing:"content-box"},t.iconError={borderColor:"#d43f3a",animation:"animateErrorIcon 0.5s"},t.iconErrorX={position:"relative",display:"block",animation:"animateXMark 0.5s"},t.iconErrorLine={position:"absolute",height:5,width:47,backgroundColor:"#d9534f",display:"block",top:37,borderRadius:2},t.iconErrorLineLeft={transform:"rotate(45deg)",left:17},t.iconErrorLineRight={transform:"rotate(-45deg)",right:16},t.iconWarning={borderColor:"#eea236",animation:"pulseWarning 0.75s infinite alternate"},t.iconWarningBody={position:"absolute",width:5,height:47,left:"50%",top:10,borderRadius:2,marginLeft:-2,backgroundColor:"#f0ad4e",animation:"pulseWarningIns 0.75s infinite alternate"},t.iconWarningDot={position:"absolute",width:7,height:7,borderRadius:"50%",marginLeft:-3,left:"50%",bottom:10,backgroundColor:"#f0ad4e",animation:"pulseWarningIns 0.75s infinite alternate"},t.iconInfo={borderColor:"#46b8da"},t.iconInfoBefore={content:"",position:"absolute",width:5,height:29,left:"50%",bottom:17,borderRadius:2,marginLeft:-2,backgroundColor:"#5bc0de"},t.iconInfoAfter={content:"",position:"absolute",width:7,height:7,borderRadius:"50%",marginLeft:-3,left:"50%",top:19,backgroundColor:"#5bc0de"},t.iconSuccess={borderColor:"#4cae4c"},t.iconSuccessBeforeAfter={content:"",borderRadius:"50%",position:"absolute",width:60,height:120,background:"white",transform:"rotate(45deg)"},t.iconSuccessBefore={borderRadius:"120px 0 0 120px",height:100,top:-7,left:-33,transform:"rotate(-45deg)",transformOrigin:"60px 60px"},t.iconSuccessAfter={borderRadius:"0 120px 120px 0",top:-11,left:30,transform:"rotate(-45deg)",transformOrigin:"0px 60px",animation:"rotatePlaceholder 4.25s ease-in"},t.iconSuccessPlaceholder={width:80,height:80,border:"4px solid rgba(92, 184, 92, 0.2)",borderRadius:"50%",boxSizing:"content-box",position:"absolute",left:-4,top:-4,zIndex:2},t.iconSuccessFix={width:5,height:90,backgroundColor:"#fff",position:"absolute",left:28,top:8,zIndex:1,transform:"rotate(-45deg)"},t.iconSuccessLine={height:5,backgroundColor:"#5cb85c",display:"block",borderRadius:2,position:"absolute",zIndex:2},t.iconSuccessLineTip={width:25,left:14,top:46,transform:"rotate(45deg)",animation:"animateSuccessTip 0.75s"},t.iconSuccessLineLong={width:47,right:8,top:38,transform:"rotate(-45deg)",animation:"animateSuccessLong 0.75s"},t.iconCustom={backgroundSize:"contain",borderRadius:0,border:"none",backgroundPosition:"center center",backgroundRepeat:"no-repeat"},t.button={marginRight:8},t.validationMessage={display:"block",backgroundColor:"#f1f1f1",marginLeft:"-1.25rem",marginRight:"-1.25rem",marginTop:20,overflow:"hidden",padding:10,maxHeight:100,transition:"padding 0.25s, max-height 0.25s",color:"#797979",fontSize:16,textAlign:"center",fontWeight:300},t.exclamationIcon={display:"inline-block",width:24,height:24,borderRadius:"50%",backgroundColor:"#ea7d7d",color:"white",lineHeight:"24px",textAlign:"center",marginRight:5},t.inputErrorIcon={position:"absolute",top:8,right:8,width:20,height:20,transformOrigin:"50% 50%",transition:"all 0.1s",opacity:1,transform:"scale(1)"},t.inputErrorIconBeforeAfter={content:"",width:20,height:6,backgroundColor:"#f06e57",borderRadius:3,position:"absolute",top:"50%",marginTop:-4,left:"50%",marginLeft:-9},t.inputErrorIconBefore={transform:"rotate(-45deg)"},t.inputErrorIconAfter={transform:"rotate(45deg)"},t.closeButton={position:"absolute",right:4,top:-2,fontSize:25,fontWeight:900,color:"rgb(113, 113, 113)",zIndex:1,cursor:"pointer"}},sveX:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("MwQV");function a(e){return r.a.call("post","/methods/chat-bots/attachment",{},e)}},vwsU:function(e,t,n){"use strict";n.d(t,"b",(function(){return d}));var r=n("q1tI"),a=n.n(r),o=(n("qKvR"),n("i8i4"),n("17x9"),n("q/f6")),i=n("njTy"),s=(n("iYmT"),n("FUBA"),n("1m/E"));function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l=function(e,t){void 0===e&&(e="");var n=String(e).toLowerCase(),r=String(t.value).toLowerCase(),a=String(t.label).toLowerCase();return r===n||a===n},u=c({allowCreateWhileLoading:!1,createOptionPosition:"last"},{formatCreateLabel:function(e){return'Create "'+e+'"'},isValidNewOption:function(e,t,n){return!(!e||t.some((function(t){return l(e,t)}))||n.some((function(t){return l(e,t)})))},getNewOptionData:function(e,t){return{label:t,value:e,__isNew__:!0}}}),d=function(e){var t,n;return n=t=function(t){var n,r;function i(e){var n;(n=t.call(this,e)||this).select=void 0,n.onChange=function(e,t){var r=n.props,a=r.getNewOptionData,i=r.inputValue,s=r.isMulti,c=r.onChange,l=r.onCreateOption,u=r.value,d=r.name;if("select-option"!==t.action)return c(e,t);var f=n.state.newOption,m=Array.isArray(e)?e:[e];if(m[m.length-1]!==f)c(e,t);else if(l)l(i);else{var p=a(i,i),g={action:"create-option",name:d};c(s?[].concat(Object(o.e)(u),[p]):p,g)}};var r=e.options||[];return n.state={newOption:void 0,options:r},n}r=t,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var s=i.prototype;return s.UNSAFE_componentWillReceiveProps=function(e){var t=e.allowCreateWhileLoading,n=e.createOptionPosition,r=e.formatCreateLabel,a=e.getNewOptionData,i=e.inputValue,s=e.isLoading,c=e.isValidNewOption,l=e.value,u=e.options||[],d=this.state.newOption;d=c(i,Object(o.e)(l),u)?a(i,r(i)):void 0,this.setState({newOption:d,options:!t&&s||!d?u:"first"===n?[d].concat(u):[].concat(u,[d])})},s.focus=function(){this.select.focus()},s.blur=function(){this.select.blur()},s.render=function(){var t=this,n=this.state.options;return a.a.createElement(e,c({},this.props,{ref:function(e){t.select=e},options:n,onChange:this.onChange}))},i}(r.Component),t.defaultProps=u,n},f=d(i.a),m=Object(s.a)(f);t.a=m},xilt:function(e,t,n){"use strict";n("q1tI"),n("qKvR"),n("i8i4"),n("17x9");var r=n("njTy"),a=(n("iYmT"),n("FUBA"),n("1m/E")),o=n("QDav"),i=n("vwsU"),s=Object(i.b)(r.a),c=Object(a.a)(s),l=Object(o.b)(c);t.a=l}}]);