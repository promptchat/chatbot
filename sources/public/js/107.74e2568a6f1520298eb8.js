(window.webpackJsonp=window.webpackJsonp||[]).push([[107],{bhnu:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return g}));var n=a("q1tI"),o=a.n(n),r=a("MwQV"),c=a("vDqi"),l=a.n(c),i=a("Ty5D"),u=a("TtP3"),_=a("9Koi"),s=a("h4JF"),f=a("YN8i");function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,o=!1,r=void 0;try{for(var c,l=e[Symbol.iterator]();!(n=(c=l.next()).done)&&(a.push(c.value),!t||a.length!==t);n=!0);}catch(e){o=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(o)throw r}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function g(){var e=Object(_.a)().t,t=Object(i.j)().id,a=d(Object(n.useState)(null),2),c=a[0],m=a[1];Object(n.useEffect)((function(){var e=l.a.CancelToken.source();return r.a.call("get","/methods/product-catalogs/".concat(t),{},{},{cancelToken:e.token}).then((function(e){m(e.data)})),function(){e.cancel()}}),[t,m]);var g,b=Object(n.useCallback)((function(e,a){var n=a.setSubmitting,o=a.setErrors,c=a.setRedirect,l={name:e.name,company_google_account_id:e.company_google_account_id,sheet_id:e.sheet_id,google_table_name:e.google_table_name,page_name:e.page_name,facebook_catalog_id:e.facebook_catalog_id,facebook_set_id:e.facebook_set_id,fb_token:e.fb_token};r.a.call("patch","/methods/product-catalogs/".concat(t),{},l).data((function(){c(!0)})).validation((function(e,t){o(t)})).finally((function(){n(!1)}))}),[t]);return g=c?o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a,{initialFormData:{name:c.name,facebook_catalog_id:c.facebook_catalog_id,facebook_set_id:c.facebook_set_id,fb_token:c.fb_token,google_table_name:c.google_table_name,company_google_account_id:c.company_google_account_id,sheet_id:c.sheet_id,page_name:c.page_name},submitData:b}),c.last_sync_error?o.a.createElement("div",{className:"mt-3"},o.a.createElement("h5",null,e("shop.catalog.edit-page.last-sync-error-title")),o.a.createElement("code",null,c.last_sync_error)):null):o.a.createElement(s.a,null),o.a.createElement(u.a,{title:e("shop.catalog.edit-page.title")},g)}}}]);