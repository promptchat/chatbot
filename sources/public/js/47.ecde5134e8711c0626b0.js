(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{"+AQ4":function(e,t,n){"use strict";var a=n("q1tI"),r=n.n(a),i=n("17x9"),o=n.n(i),l=n("8WGv");function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function m(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function d(e){var t=e.loadOptions,n=m(e,["loadOptions"]),i=c(Object(a.useState)(null),2),o=i[0],u=i[1];return Object(a.useEffect)((function(){o||t().then(u)}),[t,o]),o?r.a.createElement(l.a,s({},n,{options:o})):null}d.propTypes={loadOptions:o.a.func.isRequired},t.a=r.a.memo(d)},"/kxI":function(e,t,n){"use strict";var a=n("wx14"),r=n("zLVn"),i=n("q1tI"),o=n.n(i),l=n("17x9"),s=n.n(l),c=n("TSYQ"),u=n.n(c),m=n("33Jr"),d={tag:m.q,className:s.a.string,cssModule:s.a.object,innerRef:s.a.oneOfType([s.a.object,s.a.string,s.a.func])},f=function(e){var t=e.className,n=e.cssModule,i=e.innerRef,l=e.tag,s=Object(r.a)(e,["className","cssModule","innerRef","tag"]),c=Object(m.m)(u()(t,"card-body"),n);return o.a.createElement(l,Object(a.a)({},s,{className:c,ref:i}))};f.propTypes=d,f.defaultProps={tag:"div"},t.a=f},"4K7x":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("83d4"),r=n("MwQV");function i(e,t){return function(e,t){var n=[{label:e("user.role.".concat(a.a)),value:a.a},{label:e("user.role.".concat(a.b)),value:a.b}];return function(){return new Promise((function(e){r.a.call("get","/methods/user-roles/search",{companyId:t}).data((function(t){var a=t.map((function(e){return{label:e.name,value:e.id}}));e(n.concat(a))}))}))}}(e,t)}},"8WGv":function(e,t,n){"use strict";var a=n("q1tI"),r=n.n(a),i=n("17x9"),o=n.n(i),l=n("sPdi"),s=n("jrRI"),c=n("3OM0"),u=n("y2Vs"),m=n("TSYQ"),d=n.n(m),f=n("9Koi");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h={control:function(e){return b(b({},e),{},{"&, &:hover, &:focus":{borderColor:"#ced4da",boxShadow:"none"}})}};function g(e){var t,n,a=e.id,i=e.label,o=e.errors,m=e.name,p=e.setFieldValue,b=e.options,v=e.value,g=e.className,y=e.placeholder,E=e.isClearable,O=e.isDisabled,j=Object(f.a)().t,S=b.find((function(e){return e.value===v}));return r.a.createElement(s.a,{className:d()(g)},r.a.createElement(c.a,{htmlFor:a},i),r.a.createElement(u.a,{id:a,name:m,isDisabled:O,onChange:function(e){return p(m,e?e.value:null)},options:b,value:S,isClearable:E,className:d()("select-field",{"is-invalid":!!(null===(t=o[m])||void 0===t?void 0:t.length)}),placeholder:y||j("common.default-select-placeholder"),styles:h}),(null===(n=o[m])||void 0===n?void 0:n.length)?r.a.createElement(l.a,{errors:o[m]}):null)}g.defaultProps={isClearable:!0},g.propTypes={errors:o.a.object.isRequired,id:o.a.oneOfType([o.a.string,o.a.number]),value:o.a.oneOfType([o.a.string,o.a.number]),label:o.a.any.isRequired,name:o.a.string.isRequired,setFieldValue:o.a.func.isRequired,options:o.a.array,className:o.a.string,placeholder:o.a.string,isClearable:o.a.bool,isDisabled:o.a.bool},t.a=r.a.memo(g)},BLzl:function(e,t,n){"use strict";var a=n("wx14"),r=n("zLVn"),i=n("q1tI"),o=n.n(i),l=n("17x9"),s=n.n(l),c=n("TSYQ"),u=n.n(c),m=n("33Jr"),d={tag:m.q,inverse:s.a.bool,color:s.a.string,body:s.a.bool,outline:s.a.bool,className:s.a.string,cssModule:s.a.object,innerRef:s.a.oneOfType([s.a.object,s.a.string,s.a.func])},f=function(e){var t=e.className,n=e.cssModule,i=e.color,l=e.body,s=e.inverse,c=e.outline,d=e.tag,f=e.innerRef,p=Object(r.a)(e,["className","cssModule","color","body","inverse","outline","tag","innerRef"]),b=Object(m.m)(u()(t,"card",!!s&&"text-white",!!l&&"card-body",!!i&&(c?"border":"bg")+"-"+i),n);return o.a.createElement(d,Object(a.a)({},p,{className:b,ref:f}))};f.propTypes=d,f.defaultProps={tag:"div"},t.a=f},"K1+J":function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n("o0o1"),r=n.n(a),i=n("q1tI"),o=n.n(i),l=n("17x9"),s=n.n(l),c=n("83d4"),u=n("P2Na"),m=n("MwQV"),d=n("rpa7"),f=n("/MKj"),p=n("hAFs"),b=n("a6YV"),v=n("ma3e");function h(e,t,n,a,r,i,o){try{var l=e[i](o),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(a,r)}function g(e){var t=e.user,n=e.afterSave,a=e.editable,i=Object(d.a)(),l=Object(f.d)(),s=function(){var e,a=(e=r.a.mark((function e(a){var o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(o=a.target.files).length&&Object(u.a)(o[0]).then((function(e){var a,r,o=e.data;(a=t.id,r=o.id,m.a.call("patch","/methods/user/".concat(a),{},{image_id:r})).then((function(){t.id===i.id&&l(Object(p.c)(o)),n(o)}))}));case 2:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function o(e){h(i,a,r,o,l,"next",e)}function l(e){h(i,a,r,o,l,"throw",e)}o(void 0)}))});return function(e){return a.apply(this,arguments)}}();return o.a.createElement("label",{className:"user-avatar d-block position-relative mb-4 pb-2"},o.a.createElement("div",{className:"user-photo-block rounded-circle"},o.a.createElement("img",{src:Object(b.a)(t.imageUrl),alt:t.name,className:"user-photo"})),o.a.createElement("input",{className:"d-none",type:"file",multiple:!1,accept:"image/*",onChange:s,disabled:!a}),a?o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"photo-cam-bg position-absolute"}),o.a.createElement(v.m,{className:"photo-icon icon-size-25 color-gray position-absolute"})):null)}g.propTypes={user:s.a.instanceOf(c.d).isRequired,afterSave:s.a.func.isRequired,editable:s.a.bool}},P2Na:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("MwQV");function r(e){var t=new FormData;return t.append("file",e),a.a.call("post","/methods/image",{},t)}},"T+da":function(e,t,n){"use strict";var a=n("2BYM"),r=n.n(a),i=n("PSD3"),o=n.n(i),l=n("ltXA"),s=r()(o.a);s.success=function(e){return s.fire({icon:"success",text:e})},s.error=function(e){return s.fire({icon:"error",text:e})},s.prompt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return s.fire({text:e,input:"text",inputLabel:"",inputValue:t,showCancelButton:!0,inputValidator:function(e){if(!e)return"You need to write something!"}})},s.confirm=function(e){return new Promise((function(t,n){return s.fire({showConfirmButton:!0,showCancelButton:!0,confirmButtonText:l.b.t("common.yes"),cancelButtonText:l.b.t("common.no"),text:e}).then((function(e){e.isConfirmed?t():n()}))}))},t.a=s},Z04g:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n("q1tI"),r=n.n(a),i=n("17x9"),o=n.n(i),l=n("sOKU"),s=n("nsn4"),c=n("BLzl"),u=n("/kxI"),m=n("TSYQ"),d=n.n(m);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function b(e){var t=e.items,n=e.className,i=f(Object(a.useState)(0),2),o=i[0],m=i[1];return r.a.createElement("div",{className:d()("accordion",n)},t.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(l.a,{className:"btn-notification",color:"",onClick:function(){return m(o===t?null:t)}},e.renderButton()),r.a.createElement(s.a,{isOpen:o===t},r.a.createElement(c.a,{className:"accordion-card"},r.a.createElement(u.a,{className:"border-0"},e.renderContent()))))})))}b.propTypes={items:o.a.arrayOf(o.a.shape({renderButton:o.a.func.isRequired,renderContent:o.a.func.isRequired})).isRequired,className:o.a.string}},afej:function(e,t,n){"use strict";var a=n("wx14"),r=n("zLVn"),i=n("q1tI"),o=n.n(i),l=n("17x9"),s=n.n(l),c=n("TSYQ"),u=n.n(c),m=n("33Jr"),d={tag:m.q,className:s.a.string,cssModule:s.a.object},f=function(e){var t=e.className,n=e.cssModule,i=e.tag,l=Object(r.a)(e,["className","cssModule","tag"]),s=Object(m.m)(u()(t,"card-header"),n);return o.a.createElement(i,Object(a.a)({},l,{className:s}))};f.propTypes=d,f.defaultProps={tag:"div"},t.a=f},gmZo:function(e,t,n){"use strict";n("iYuL");var a=n("f0Wu");a.locale(window.locale),t.a=a},muO8:function(e,t,n){"use strict";var a=n("q1tI"),r=n.n(a),i=n("17x9"),o=n.n(i),l=n("sPdi"),s=n("jrRI"),c=n("3OM0"),u=n("y2Vs"),m=n("TSYQ"),d=n.n(m);function f(e){var t,n,a=e.id,i=e.label,o=e.errors,m=e.name,f=e.setFieldValue,p=e.options,b=e.value,v=e.formGroupClass;return r.a.createElement(s.a,{className:d()(v)},r.a.createElement(c.a,{htmlFor:a},i),r.a.createElement(u.a,{id:a,name:m,onChange:function(e){return f(m,e)},isMulti:!0,options:p,value:b,isClearable:!0,className:d()({"is-invalid":!!(null===(t=o[m])||void 0===t?void 0:t.length)})}),(null===(n=o[m])||void 0===n?void 0:n.length)?r.a.createElement(l.a,{errors:o[m]}):null)}f.propTypes={errors:o.a.object.isRequired,id:o.a.oneOfType([o.a.string,o.a.number]),value:o.a.array,label:o.a.any.isRequired,name:o.a.string.isRequired,setFieldValue:o.a.func.isRequired,options:o.a.array.isRequired,formGroupClass:o.a.string},t.a=r.a.memo(f)},nLSp:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("83d4"),r=n("ltXA");function i(e){var t=e.id,n=e.name;return[a.c,a.b,a.a].includes(t)?r.b.t("user.role.".concat(t)):n}},nsn4:function(e,t,n){"use strict";var a,r=n("wx14"),i=n("zLVn"),o=n("JX7q"),l=n("dI71"),s=n("rePB"),c=n("q1tI"),u=n.n(c),m=n("17x9"),d=n.n(m),f=n("TSYQ"),p=n.n(f),b=n("1w3K"),v=n("33Jr");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=g(g({},b.Transition.propTypes),{},{isOpen:d.a.bool,children:d.a.oneOfType([d.a.arrayOf(d.a.node),d.a.node]),tag:v.q,className:d.a.node,navbar:d.a.bool,cssModule:d.a.object,innerRef:d.a.oneOfType([d.a.func,d.a.string,d.a.object])}),E=g(g({},b.Transition.defaultProps),{},{isOpen:!1,appear:!1,enter:!0,exit:!0,tag:"div",timeout:v.e.Collapse}),O=((a={})[v.d.ENTERING]="collapsing",a[v.d.ENTERED]="collapse show",a[v.d.EXITING]="collapsing",a[v.d.EXITED]="collapse",a);function j(e){return e.scrollHeight}var S=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={height:null},["onEntering","onEntered","onExit","onExiting","onExited"].forEach((function(e){n[e]=n[e].bind(Object(o.a)(n))})),n}Object(l.a)(t,e);var n=t.prototype;return n.onEntering=function(e,t){this.setState({height:j(e)}),this.props.onEntering(e,t)},n.onEntered=function(e,t){this.setState({height:null}),this.props.onEntered(e,t)},n.onExit=function(e){this.setState({height:j(e)}),this.props.onExit(e)},n.onExiting=function(e){e.offsetHeight;this.setState({height:0}),this.props.onExiting(e)},n.onExited=function(e){this.setState({height:null}),this.props.onExited(e)},n.render=function(){var e=this,t=this.props,n=t.tag,a=t.isOpen,o=t.className,l=t.navbar,s=t.cssModule,c=t.children,m=(t.innerRef,Object(i.a)(t,["tag","isOpen","className","navbar","cssModule","children","innerRef"])),d=this.state.height,f=Object(v.o)(m,v.c),h=Object(v.n)(m,v.c);return u.a.createElement(b.Transition,Object(r.a)({},f,{in:a,onEntering:this.onEntering,onEntered:this.onEntered,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}),(function(t){var a=function(e){return O[e]||"collapse"}(t),i=Object(v.m)(p()(o,a,l&&"navbar-collapse"),s),m=null===d?null:{height:d};return u.a.createElement(n,Object(r.a)({},h,{style:g(g({},h.style),m),className:i,ref:e.props.innerRef}),c)}))},t}(c.Component);S.propTypes=y,S.defaultProps=E,t.a=S},pbA8:function(e,t,n){"use strict";var a=n("q1tI"),r=n.n(a),i=n("17x9"),o=n.n(i),l=n("sPdi"),s=n("jrRI"),c=n("3OM0"),u=n("TSYQ"),m=n.n(u),d=n("AEIT"),f=n("+z1p");function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function b(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function v(e){var t,n=e.value,a=e.label,i=e.errors,o=e.name,u=e.className,v=e.setFieldValue,h=b(e,["value","label","errors","name","className","setFieldValue"]);return r.a.createElement(s.a,{className:m()(u)},a?r.a.createElement(c.a,null,"function"==typeof a?a():a):null,r.a.createElement(d.CKEditor,p({editor:f.ClassicEditor,data:n,onChange:function(e,t){v(o,t.getData())},config:{toolbar:["bold","italic","underline","link","bulletedList","numberedList","undo","redo"]}},h)),i&&(null===(t=i[o])||void 0===t?void 0:t.length)?r.a.createElement(l.a,{errors:i[o]}):null)}v.propTypes={value:o.a.string,errors:o.a.object,label:o.a.any,name:o.a.string.isRequired,className:o.a.string,setFieldValue:o.a.func.isRequired},t.a=v},q6mc:function(e,t,n){"use strict";var a=n("q1tI"),r=n.n(a),i=n("17x9"),o=n.n(i),l=n("sPdi"),s=n("jrRI"),c=n("3OM0"),u=n("L3zb"),m=n("TSYQ"),d=n.n(m);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function b(e){var t,n,a=e.id,i=e.label,o=e.errors,m=e.name,b=e.onChange,v=e.className,h=p(e,["id","label","errors","name","onChange","className"]);return r.a.createElement(s.a,{className:d()(v)},r.a.createElement(c.a,{htmlFor:a},i),r.a.createElement(u.a,f({id:a,name:m,type:"tel",onChange:function(e){var t=e.target.value;/^[\+]?[0-9]*$/.test(t)&&b(e)}},h,{invalid:!!(null===(t=o[m])||void 0===t?void 0:t.length)})),(null===(n=o[m])||void 0===n?void 0:n.length)?r.a.createElement(l.a,{errors:o[m]}):null)}b.propTypes={onChange:o.a.func.isRequired,errors:o.a.object.isRequired,id:o.a.oneOfType([o.a.string,o.a.number]),label:o.a.any.isRequired,name:o.a.string.isRequired,className:o.a.string},t.a=r.a.memo(b)},sgT3:function(e,t,n){"use strict";n.r(t),n.d(t,"SCREEN_MAIN_SETTINGS",(function(){return ae})),n.d(t,"SCREEN_NOTIFICATIONS_SETTINGS",(function(){return re})),n.d(t,"SCREEN_SETTINGS",(function(){return ie})),n.d(t,"SCREEN_DEFAULT_MESSAGE_SETTINGS",(function(){return oe})),n.d(t,"default",(function(){return le}));var a=n("q1tI"),r=n.n(a),i=n("TtP3"),o=n("17x9"),l=n.n(o),s=n("9Koi"),c=n("MwQV"),u=n("nc57"),m=n("ldny"),d=n("x37D"),f=n("83d4"),p=n("rhny"),b=n("T+da");function v(e){var t=e.user,n=Object(s.a)().t;return r.a.createElement(p.a,{md:6},r.a.createElement(u.a,{initialValues:{password:"",password_confirmation:""},handleSubmit:function(e,a){var r=a.setSubmitting,i=a.setErrors;c.a.call("post","/methods/user/".concat(t.id,"/update-password"),{},e).then((function(){b.a.success(n("user.password.password-changed-message"))})).validation((function(e,t){i(t)})),r(!1)},renderForm:function(e){var t=e.handleChange,a=e.handleBlur,i=e.values,o=e.errors,l=e.isSubmitting;return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{className:"limiter",id:"password",name:"password",label:n("user.password.password-label"),placeholder:n("user.password.password-placeholder"),onChange:t,onBlur:a,value:i.password,errors:o}),r.a.createElement(m.a,{className:"limiter",id:"password_confirmation",name:"password_confirmation",label:n("user.password.password-confirmation-label"),placeholder:n("user.password.password-confirmation-placeholder"),onChange:t,onBlur:a,value:i.password_confirmation,errors:o}),r.a.createElement(d.a,{className:"pt-2 px-4 my-4",disabled:l},n("common.saveBtnText")))}}))}v.propTypes={user:l.a.instanceOf(f.d).isRequired};var h=n("6Rhw"),g=n("q6mc"),y=n("CXWj"),E=n("8WGv"),O=n("gmZo"),j=n("rpa7");function S(e){var t=e.user,n=e.afterSave,a=Object(s.a)().t,i=Object(j.a)(),o=Object(O.a)();return r.a.createElement(p.a,{md:6},r.a.createElement(u.a,{initialValues:{name:t.name,email:t.email,phone:t.phone,is_am_pm:t.is_am_pm,preferred_date_format:t.preferred_date_format},handleSubmit:function(e,r){var i=r.setSubmitting,o=r.setErrors;c.a.call("patch","/methods/user/".concat(t.id),{},e).then((function(e){b.a.success(a("user.user-info.info-changed-message")),n(e.data)})).validation((function(e,t){o(t)})),i(!1)},renderForm:function(e){var t=e.handleChange,n=e.handleBlur,l=e.values,s=e.errors,c=e.isSubmitting,u=e.setFieldValue;return r.a.createElement(r.a.Fragment,null,i.hasAbility("ownAuth")&&r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{className:"limiter",id:"name",name:"name",label:a("user.user-info.name-label"),placeholder:a("user.user-info.name-placeholder"),onChange:t,onBlur:n,value:l.name||"",errors:s}),r.a.createElement(h.a,{className:"limiter",id:"email",name:"email",type:"email",label:a("user.user-info.email-label"),placeholder:a("user.user-info.email-placeholder"),onChange:t,onBlur:n,value:l.email||"",errors:s}),r.a.createElement(g.a,{className:"limiter",id:"phone",name:"phone",label:a("user.user-info.phone-label"),placeholder:a("user.user-info.phone-placeholder"),onChange:t,onBlur:n,value:l.phone||"",errors:s})),r.a.createElement(y.a,{id:"is-am-pm",name:"is_am_pm",label:a("user.user-info.show-am-pm-time-format-label"),setFieldValue:u,onBlur:n,value:l.is_am_pm,errors:s}),r.a.createElement(E.a,{className:"limiter",id:"preferred-format",label:a("user.user-info.date-format-label"),placeholder:a("user.user-info.date-format-placeholder"),name:"preferred_date_format",setFieldValue:u,onBlur:n,value:l.preferred_date_format,errors:s,options:[{label:o.format("MM/DD/YYYY"),value:"MM/DD/YYYY"},{label:o.format("DD.MM.YYYY"),value:"DD.MM.YYYY"}]}),r.a.createElement(d.a,{className:"pt-2 px-4 my-4",disabled:c},a("common.saveBtnText")))}}))}S.propTypes={user:l.a.instanceOf(f.d).isRequired,afterSave:l.a.func.isRequired};var w=n("Z04g"),_=n("ma3e"),N=n("h4JF"),x=n("sOKU");function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var I=function(e){var t=e.userId,n=Object(s.a)().t,i=T(Object(a.useState)(null),2),o=i[0],l=i[1],u=Object(a.useCallback)((function(){c.a.call("get","/methods/user/".concat(t,"/connection-code")).data((function(e){l(e)}))}),[t,l]);Object(a.useEffect)((function(){u()}),[u]);var m=Object(a.useCallback)((function(){l(null),c.a.call("post","/methods/user/".concat(t,"/disconnect")).finally((function(){return u()}))}),[t,u,l]);return o?o.client?r.a.createElement("div",null,n("user.notifications.connected-msg"),r.a.createElement(x.a,{type:"button",color:"link",onClick:m},n("user.notifications.disconnect-btn"))):r.a.createElement("div",null,r.a.createElement("p",null,n("user.notifications.code-label")),r.a.createElement("code",null,"CONNECT: #",o.code)):r.a.createElement(N.a,null)};function R(e){var t=e.user,n=Object(s.a)().t,a=t.user_notifications_setting;return r.a.createElement(p.a,{xl:7,lg:8},r.a.createElement(u.a,{initialValues:{site_short_notifications:a.site_short_notifications,site_long_notifications:a.site_long_notifications,email_notifications_chatbot_activity:a.email_notifications_chatbot_activity,integration_notifications_chatbot_activity:a.integration_notifications_chatbot_activity},handleSubmit:function(e,t){var r=t.setSubmitting,i=t.setErrors;c.a.call("patch","/methods/user/notifications-settings/".concat(a.id),{},e).then((function(){b.a.success(n("user.notifications.settings-changed-message"))})).validation((function(e,t){i(t)})),r(!1)},renderForm:function(e){var a=e.handleBlur,i=e.values,o=e.errors,l=e.isSubmitting,s=e.setFieldValue;return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{items:[{renderButton:function(){return r.a.createElement("div",null,r.a.createElement(_.j,{className:"icon-size-15 mr-2 color-gray"}),r.a.createElement("span",null,n("user.notifications.title-notification-sound")),r.a.createElement(_.nb,{className:"icon-size-15 color-gray mb-2"}))},renderContent:function(){return r.a.createElement("div",null,r.a.createElement(y.a,{formGroupClass:"p-2",id:"site_short_notifications",name:"site_short_notifications",label:n("user.notifications.site-short-notifications-label"),placeholder:n("user.notifications.site-short-notifications-placeholder"),setFieldValue:s,onBlur:a,value:i.site_short_notifications,errors:o}),r.a.createElement(y.a,{formGroupClass:"p-2",id:"site_long_notifications",name:"site_long_notifications",label:n("user.notifications.site-long-notifications-label"),placeholder:n("user.notifications.site-long-notifications-placeholder"),setFieldValue:s,onBlur:a,value:i.site_long_notifications,errors:o}))}},{renderButton:function(){return r.a.createElement("div",null,r.a.createElement(_.mb,{className:"icon-size-15 mr-2 color-gray"}),r.a.createElement("span",null,n("user.notifications.title-notification-text")),r.a.createElement(_.nb,{className:"icon-size-15 color-gray mb-2"}))},renderContent:function(){return r.a.createElement("div",null,r.a.createElement(y.a,{formGroupClass:"p-2",id:"email_notifications_chatbot_activity",name:"email_notifications_chatbot_activity",label:n("user.notifications.email-notifications-chatbot-activity-label"),placeholder:n("user.notifications.email-notifications-chatbot-activity-placeholder"),setFieldValue:s,onBlur:a,value:i.email_notifications_chatbot_activity,errors:o}),r.a.createElement("hr",null),r.a.createElement(y.a,{formGroupClass:"p-2",id:"integration_notifications_chatbot_activity",name:"integration_notifications_chatbot_activity",label:n("user.notifications.sms-notifications-chatbot-activity-label"),placeholder:n("user.notifications.sms-notifications-chatbot-activity-placeholder"),setFieldValue:s,onBlur:a,value:i.integration_notifications_chatbot_activity,errors:o}))}},{renderButton:function(){return r.a.createElement("div",null,r.a.createElement(_.j,{className:"icon-size-15 mr-2 color-gray"}),r.a.createElement("span",null,n("user.notifications.title-connection-code")),r.a.createElement(_.nb,{className:"icon-size-15 color-gray mb-2"}))},renderContent:function(){return r.a.createElement(I,{userId:t.id})}}],className:"change-notification-settings"}),r.a.createElement(d.a,{className:"pt-2 px-4 mt-5 mb-4",disabled:l},n("common.saveBtnText")))}}))}I.propTypes={userId:l.a.number.isRequired},R.propTypes={user:l.a.instanceOf(f.d).isRequired};var q=n("pbA8");function A(e){var t=e.user,n=Object(s.a)().t;return r.a.createElement(p.a,{md:7},r.a.createElement(u.a,{initialValues:{default_conversation_message:t.default_conversation_message},handleSubmit:function(e,a){var r=a.setSubmitting,i=a.setErrors;c.a.call("patch","/methods/user/".concat(t.id),{},e).then((function(){b.a.success(n("user.default-conversation-message.default-conversation-message-changed-message"))})).validation((function(e,t){i(t)})),r(!1)},renderForm:function(e){var t=e.values,a=e.errors,i=e.isSubmitting,o=e.setFieldValue;return r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{className:"default-message",name:"default_conversation_message",label:n("user.default-conversation-message.default-conversation-message-label"),placeholder:n("user.default-conversation-message.default-conversation-message-placeholder"),setFieldValue:o,value:t.default_conversation_message||"",errors:a}),r.a.createElement(d.a,{className:"pt-2 px-4 my-4",disabled:i},n("common.saveBtnText")))}}))}A.propTypes={user:l.a.instanceOf(f.d).isRequired};var P=n("muO8"),F=n("4K7x"),V=n("+AQ4");function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function B(e){var t=e.user,n=e.afterSave,i=t.id,o=M(Object(a.useState)(!1),2),l=(o[0],o[1],M(Object(a.useState)(null),2)),m=l[0],f=l[1],v=Object(s.a)().t,h=Object(j.a)();Object(a.useEffect)((function(){c.a.call("get","/methods/user/".concat(i,"/departments")).then((function(e){var t=e.data.map((function(e){return{label:e.name,value:e.id}}));f(t)}))}),[i]);return m?r.a.createElement(p.a,{md:7},r.a.createElement(u.a,{initialValues:{departments:t.departments.map((function(e){return{label:e.name,value:e.id}})),role_id:t.role_id},handleSubmit:function(e,a){var r=e.departments,i=e.role_id,o=a.setSubmitting,l=a.setErrors;c.a.call("patch","/methods/user/".concat(t.id),{},{departments:r?r.map((function(e){return e.value})):[],role_id:i}).then((function(e){n(e.data),b.a.success(v("user.settings.departments-changed-message"))})).validation((function(e,t){l(t)})).finally((function(){o(!1)}))},renderForm:function(e){var n=e.setFieldValue,a=e.handleBlur,i=e.values,o=e.errors,l=e.isSubmitting;return r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{id:"departments",name:"departments",label:v("user.settings.departments-label"),options:m,setFieldValue:n,onBlur:a,value:i.departments,errors:o}),t.id!==h.id?r.a.createElement(V.a,{className:"limiter",id:"role_id",label:v("user.settings.role-label"),name:"role_id",setFieldValue:n,value:i.role_id,errors:o,loadOptions:Object(F.a)(v,t.company_id),isClearable:!1}):null,r.a.createElement(d.a,{className:"pt-2 px-4 my-4",disabled:l},v("common.saveBtnText")))}})):null}B.propTypes={user:l.a.instanceOf(f.d).isRequired,afterSave:l.a.func.isRequired};var Y=n("ok1R"),D=n("BLzl"),z=n("/kxI"),G=n("afej"),L=n("TSYQ"),K=n.n(L),Q=n("K1+J"),J=n("HgaL"),U=n("nLSp");function X(e){var t,n=e.user,a=e.screen,i=e.children,o=e.setScreen,l=e.afterImageChanged,c=Object(s.a)().t,u=Object(j.a)(),m=u.id===n.id;return r.a.createElement(Y.a,null,r.a.createElement(p.a,{xl:4},r.a.createElement(D.a,{className:"mb-5 shadow"},r.a.createElement(z.a,{className:"d-flex flex-wrap"},r.a.createElement("div",{className:"mr-5"},r.a.createElement(Q.a,{afterSave:l,user:n,editable:u.hasAbility("ownAuth")})),r.a.createElement("div",null,r.a.createElement("p",{className:"text-large font-weight-bold mb-1"},n.name),r.a.createElement("hr",null),r.a.createElement("table",{className:"user-info-table mb-3"},r.a.createElement("tbody",null,n.isSystemAdministrator?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,r.a.createElement("th",null,c("user.user-info-block.company")),r.a.createElement("td",null,null===(t=n.company)||void 0===t?void 0:t.name)),r.a.createElement("tr",null,r.a.createElement("th",null,c("user.user-info-block.department")),r.a.createElement("td",null,n.departments.map((function(e){return e.name})).join(", ")))),r.a.createElement("tr",null,r.a.createElement("th",null,c("user.user-info-block.role")),r.a.createElement("td",null,Object(U.a)(n.role))))),m?r.a.createElement(J.a,{toggleClass:"user-language px-0 btn-noShadow"}):null)))),r.a.createElement(p.a,{xl:8},r.a.createElement(D.a,{className:"mb-5 card-navbar shadow"},r.a.createElement(G.a,{className:"p-0"},n.isSystemAdministrator?null:r.a.createElement("div",{className:"navigation-bar-wrapper"},r.a.createElement("div",{className:"navigation-bar w-100 d-flex"},r.a.createElement("button",{className:K()("navigation-item rounded-top w-100 py-2 px-3",{active:a===ae}),onClick:function(){return o(ae)}},c("user.settings-menu.personal-data")),r.a.createElement("button",{className:K()("navigation-item rounded-top w-100 py-2 px-3",{active:a===re}),onClick:function(){return o(re)}},c("user.settings-menu.notifications")),n.hasAbility("ownAuth")&&n.hasAbility("manageCompany")&&!m?r.a.createElement("button",{className:K()("navigation-item rounded-top w-100 py-2 px-3",{active:a===ie}),onClick:function(){return o(ie)}},c("user.settings-menu.settings")):null,r.a.createElement("button",{className:K()("navigation-item rounded-top w-100 py-2 px-3",{active:a===oe}),onClick:function(){return o(oe)}},c("user.settings-menu.live-chat"))))),r.a.createElement(z.a,{className:"px-4 rounded-bottom"},r.a.createElement(Y.a,null,i)))))}X.propTypes={user:l.a.instanceOf(f.d).isRequired,screen:l.a.string.isRequired,setScreen:l.a.func.isRequired,afterImageChanged:l.a.func.isRequired,children:l.a.any};var $=n("/MKj"),W=n("hAFs"),H=n("Ty5D"),Z=n("vDqi"),ee=n.n(Z);function te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ne(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var ae="main-settings",re="notifications-settings",ie="additional-settings",oe="default-message-settings";function le(){var e=te(Object(a.useState)(null),2),t=e[0],n=e[1],o=te(Object(a.useState)(ae),2),l=o[0],s=o[1],u=Object(H.j)().id,m=Object(j.a)(),d=Object($.d)(),p=function(e){s(t.isSystemAdministrator?ae:e)};Object(a.useEffect)((function(){var e=ee.a.CancelToken.source();return c.a.call("get","/methods/user/".concat(u),{},{},{cancelToken:e.token}).then((function(e){n(e.data?new f.d(e.data):null)})),function(){e.cancel()}}),[u,n]);var b=function(e){var a=t.set("role",e.role).set("name",e.name).set("email",e.email).set("phone",e.phone).set("image_id",e.image_id).set("image",e.image).set("departments",e.departments);n(a),+m.id==+u&&d(Object(W.a)(e))},h=function(e){n(t.set("image_id",e.id).set("image",e))},g=null;if(t)switch(l){case ae:g=r.a.createElement(X,{user:t,screen:l,setScreen:p,afterImageChanged:h},r.a.createElement(S,{user:t,afterSave:b}),m.hasAbility("ownAuth")&&r.a.createElement(v,{user:t}));break;case re:g=r.a.createElement(X,{user:t,screen:l,setScreen:p,afterImageChanged:h},r.a.createElement(R,{user:t}));break;case ie:g=r.a.createElement(X,{user:t,screen:l,setScreen:p,afterImageChanged:h},r.a.createElement(B,{user:t,afterSave:b}));break;case oe:g=r.a.createElement(X,{user:t,screen:l,setScreen:p,afterImageChanged:h},r.a.createElement(A,{user:t}))}else g=r.a.createElement(N.a,null);return r.a.createElement(i.a,null,g)}},y2Vs:function(e,t,n){"use strict";var a=n("HhE6"),r=n("4Jst"),i=n("q1tI"),o=n("2k+j"),l=(n("zIvK"),n("+1VY"),n("yUKz"),n("ROju"),n("EPfG"),n("cO97"),n("SKuE"),n("/ouT"),n("g/0L"),n("9IRi"),n("5KkY"),n("qEaO"),n("X4k0"),n("i8i4"),n("y74/"),Object(i.forwardRef)((function(e,t){var n=Object(a.a)(e);return i.createElement(o.a,Object(r.a)({ref:t},n))})));t.a=l}}]);