(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"/Zzm":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("DCcX"),a=n("vkoW"),o=n("q1tI"),c=n.n(o),l=n("17x9"),i=n.n(l);function u(e){var t=e.close,n=e.chatBotId;return c.a.createElement(r.a,{isOpen:!0,size:"md",onRequestClose:t},c.a.createElement(a.a,{toggle:t},"Preview"),c.a.createElement("iframe",{style:{width:500,height:600},src:"/preview/".concat(n,"?embed=1")}))}u.propTypes={close:i.a.func.isRequired,chatBotId:i.a.number.isRequired}},"2AaS":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n("q1tI"),a=n.n(r),o=n("17x9"),c=n.n(o),l=n("/MKj"),i=n("1Yj4"),u=n("tiWs"),s=n("a5/R"),d=n("nsn4"),f=n("isk+"),p=n("Ty5D"),m=n("rpa7");function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,l=e[Symbol.iterator]();!(r=(c=l.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e){var t=e.children,n=e.redirectIfForbidden,o=Object(m.a)(),c=Object(l.e)((function(e){return e.auth.get("showForbiddenMessage")})),g=b(Object(r.useState)(!1),2),v=g[0],y=g[1];return c&&n?a.a.createElement(p.a,{to:"/403"}):a.a.createElement(i.a,{fluid:!0,className:"d-lg-flex d-block p-0"},a.a.createElement(u.a,{dark:!0,expand:"lg",className:"personal-account-right-bar p-0"},a.a.createElement(s.a,{color:"dark",onClick:function(){return y(!v)}}),a.a.createElement(d.a,{isOpen:v,navbar:!0},a.a.createElement(f.a,{user:o}))),a.a.createElement("div",{className:"personal-account-content without-paddings non-select"},t))}v.defaultProps={redirectIfForbidden:!0},v.propTypes={children:c.a.any,redirectIfForbidden:c.a.bool}},"2Te1":function(e,t,n){"use strict";var r=n("wx14"),a=n("zLVn"),o=n("q1tI"),c=n.n(o),l=n("17x9"),i=n.n(l),u=n("TSYQ"),s=n.n(u),d=n("33Jr"),f={color:i.a.string,pill:i.a.bool,tag:d.q,innerRef:i.a.oneOfType([i.a.object,i.a.func,i.a.string]),children:i.a.node,className:i.a.string,cssModule:i.a.object},p=function(e){var t=e.className,n=e.cssModule,o=e.color,l=e.innerRef,i=e.pill,u=e.tag,f=Object(a.a)(e,["className","cssModule","color","innerRef","pill","tag"]),p=Object(d.m)(s()(t,"badge","badge-"+o,!!i&&"badge-pill"),n);return f.href&&"span"===u&&(u="a"),c.a.createElement(u,Object(r.a)({},f,{className:p,ref:l}))};p.propTypes=f,p.defaultProps={color:"secondary",pill:!1,tag:"span"},t.a=p},"5f+b":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("MwQV");function a(e){return new Promise((function(t){r.a.call("get","/methods/campaigns/search",{q:e}).data((function(e){t(e.map((function(e){return{label:e.name,value:e.id,client:e}})))}))}))}},"8N4D":function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.matchesSelector=d,t.matchesSelectorAndParentsTo=function(e,t,n){var r=e;do{if(d(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1},t.addEvent=function(e,t,n,r){if(!e)return;var a=i({capture:!0},r);e.addEventListener?e.addEventListener(t,n,a):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},t.removeEvent=function(e,t,n,r){if(!e)return;var a=i({capture:!0},r);e.removeEventListener?e.removeEventListener(t,n,a):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null},t.outerHeight=function(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,a.int)(n.borderTopWidth),t+=(0,a.int)(n.borderBottomWidth)},t.outerWidth=function(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,a.int)(n.borderLeftWidth),t+=(0,a.int)(n.borderRightWidth)},t.innerHeight=function(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,a.int)(n.paddingTop),t-=(0,a.int)(n.paddingBottom)},t.innerWidth=function(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,a.int)(n.paddingLeft),t-=(0,a.int)(n.paddingRight)},t.offsetXYFromParent=function(e,t,n){var r=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),a=(e.clientX+t.scrollLeft-r.left)/n,o=(e.clientY+t.scrollTop-r.top)/n;return{x:a,y:o}},t.createCSSTransform=function(e,t){var n=f(e,t,"px");return u({},(0,o.browserPrefixToKey)("transform",o.default),n)},t.createSVGTransform=function(e,t){return f(e,t,"")},t.getTranslation=f,t.getTouch=function(e,t){return e.targetTouches&&(0,a.findInArray)(e.targetTouches,(function(e){return t===e.identifier}))||e.changedTouches&&(0,a.findInArray)(e.changedTouches,(function(e){return t===e.identifier}))},t.getTouchIdentifier=function(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier},t.addUserSelectStyles=function(e){if(!e)return;var t=e.getElementById("react-draggable-style-el");t||((t=e.createElement("style")).type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t));e.body&&p(e.body,"react-draggable-transparent-selection")},t.removeUserSelectStyles=function(e){if(!e)return;try{if(e.body&&m(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{var t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}}catch(e){}},t.addClassName=p,t.removeClassName=m;var a=n("gbW8"),o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var l=a?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(n,o,l):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n("Ga4A"));function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s="";function d(e,t){return s||(s=(0,a.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return(0,a.isFunction)(e[t])}))),!!(0,a.isFunction)(e[s])&&e[s](t)}function f(e,t,n){var r=e.x,a=e.y,o="translate(".concat(r).concat(n,",").concat(a).concat(n,")");if(t){var c="".concat("string"==typeof t.x?t.x:t.x+n),l="".concat("string"==typeof t.y?t.y:t.y+n);o="translate(".concat(c,", ").concat(l,")")+o}return o}function p(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function m(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}},"8WGv":function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),c=n.n(o),l=n("sPdi"),i=n("jrRI"),u=n("3OM0"),s=n("Cs6D"),d=n("TSYQ"),f=n.n(d),p=n("9Koi");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v={control:function(e){return b(b({},e),{},{"&, &:hover, &:focus":{borderColor:"#ced4da",boxShadow:"none"}})}};function y(e){var t,n,r=e.id,o=e.label,c=e.errors,d=e.name,m=e.setFieldValue,b=e.options,g=e.value,y=e.className,h=e.placeholder,E=e.isClearable,O=e.isDisabled,j=Object(p.a)().t,T=b.findIndex((function(e){return e.value===g})),x=-1===T?null:b[T];return a.a.createElement(i.a,{className:f()(y)},a.a.createElement(u.a,{htmlFor:r},o),a.a.createElement(s.a,{id:r,name:d,isDisabled:O,onChange:function(e){return m(d,e?e.value:null)},options:b,value:x,isClearable:E,className:f()("select-field",{"is-invalid":!!(null===(t=c[d])||void 0===t?void 0:t.length)}),placeholder:h||j("common.default-select-placeholder"),styles:v}),(null===(n=c[d])||void 0===n?void 0:n.length)?a.a.createElement(l.a,{errors:c[d]}):null)}y.defaultProps={isClearable:!0},y.propTypes={errors:c.a.object.isRequired,id:c.a.oneOfType([c.a.string,c.a.number]),value:c.a.oneOfType([c.a.string,c.a.number]),label:c.a.any.isRequired,name:c.a.string.isRequired,setFieldValue:c.a.func.isRequired,options:c.a.array.isRequired,className:c.a.string,placeholder:c.a.string,isClearable:c.a.bool,isDisabled:c.a.bool},t.a=a.a.memo(y)},Buep:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n("q1tI"),a=n.n(r),o=n("QDav"),c=n("jrRI"),l=n("3OM0"),i=n("TSYQ"),u=n.n(i),s=n("sPdi"),d=n("17x9"),f=n.n(d),p=n("9Koi");function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,l=e[Symbol.iterator]();!(r=(c=l.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E={control:function(e){return y(y({},e),{},{"&, &:hover, &:focus":{borderColor:"#ced4da",boxShadow:"none"}})}};function O(e){var t,n,i=e.id,d=e.label,f=e.errors,g=e.loadOptions,v=e.loadValue,y=e.name,h=e.setFieldValue,O=e.setFieldLabel,j=e.value,T=e.className,x=e.placeholder,S=e.isClearable,k=e.selectOptions,w=b(Object(r.useState)(null),2),I=w[0],P=w[1],C=Object(p.a)().t;return Object(r.useEffect)((function(){j&&!I&&v(j).then((function(e){P(e)}))}),[v,I,j]),a.a.createElement(c.a,{className:u()(T)},a.a.createElement(l.a,{htmlFor:i},d),a.a.createElement(o.a,m({},k,{cacheOptions:!0,defaultOptions:!0,loadOptions:g,onChange:function(e){h(y,e?e.value:null),O&&O(e?e.label:null),P(e)},value:j?I:null,isClearable:S,className:u()({"is-invalid":!!(null===(t=f[y])||void 0===t?void 0:t.length)}),placeholder:x||C("common.default-select-placeholder"),styles:E})),(null===(n=f[y])||void 0===n?void 0:n.length)?a.a.createElement(s.a,{errors:f[y]}):null)}O.defaultProps={isClearable:!0},O.propTypes={errors:f.a.object.isRequired,id:f.a.oneOfType([f.a.string,f.a.number]),value:f.a.oneOfType([f.a.string,f.a.number]),label:f.a.any.isRequired,name:f.a.string.isRequired,setFieldValue:f.a.func.isRequired,setFieldLabel:f.a.func,loadOptions:f.a.func.isRequired,loadValue:f.a.func.isRequired,className:f.a.string,placeholder:f.a.string,isClearable:f.a.bool,selectOptions:f.a.object}},Cs6D:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("Wwog"),c=n("qKvR"),l=(n("i8i4"),n("17x9"),n("njTy")),i=(n("iYmT"),n("FUBA"),n("1m/E")),u=n("TqVZ");r.Component;var s=Object(i.a)(l.a);t.a=s},DMen:function(e,t,n){"use strict";n.d(t,"o",(function(){return m})),n.d(t,"p",(function(){return b})),n.d(t,"i",(function(){return g})),n.d(t,"h",(function(){return v})),n.d(t,"b",(function(){return y})),n.d(t,"j",(function(){return h})),n.d(t,"k",(function(){return E})),n.d(t,"e",(function(){return O})),n.d(t,"r",(function(){return j})),n.d(t,"n",(function(){return T})),n.d(t,"d",(function(){return x})),n.d(t,"f",(function(){return S})),n.d(t,"m",(function(){return k})),n.d(t,"v",(function(){return w})),n.d(t,"t",(function(){return I})),n.d(t,"u",(function(){return P})),n.d(t,"w",(function(){return C})),n.d(t,"s",(function(){return N})),n.d(t,"y",(function(){return A})),n.d(t,"x",(function(){return R})),n.d(t,"q",(function(){return D})),n.d(t,"g",(function(){return _})),n.d(t,"a",(function(){return M})),n.d(t,"l",(function(){return q})),n.d(t,"c",(function(){return Y}));var r=n("STRW"),a=n("MwQV"),o=n("c8c+"),c=n("Qu/B"),l=n("EW+5"),i=Object(l.a)(r.a),u=i.loading,s=i.itemsListLoaded,d=i.error,f=d,p=function(e){return{type:r.a.ITEM_LOADED,payload:e}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n){var r=n().chatbot.get("item");return a.a.call("patch","/methods/chat-bots/".concat(r.get("id")),{temporary:+e},r.toJSON())}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n){var r=n().chatbot.get("item");return a.a.call("patch","/methods/templates/".concat(r.get("id")),{temporary:+e},r.toJSON())}},g=function(e,t,n){return function(r){var l={page:e};t.size&&(l.filter=Object(o.a)(t)),n.size&&(l.order=Object(c.a)(n)),r(u()),a.a.call("get","/methods/chat-bots",l,{}).then((function(e){r(s({filters:t,sort:n,response:e}))})).catch((function(e){return r(d(e))}))}},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){n(u()),a.a.call("get","/methods/chat-bots/".concat(e),{temporary:+t}).data((function(e){n(p(e))})).catch((function(e){return n(d(e))}))}},y=function(e){return function(t){return a.a.call("get","/methods/chat-bots/".concat(e,"/pure-chat-bot")).data((function(e){t({type:r.a.APPLY_FROM_TEMPLATE,payload:{anchors:e.anchors,blocks:e.blocks}})})).catch((function(e){return t(f(e))}))}},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){n(u()),a.a.call("get","/methods/templates/".concat(e),{temporary:+t}).data((function(e){n(p(e))})).catch((function(e){return n(d(e))}))}},E=function(e){return{type:r.a.MOVE,payload:{position:e}}},O=function(e){return{type:r.a.NEW_BLOCK,payload:e}},j=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:r.a.SELECT,payload:{index:e,add:t}}},T=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:r.a.RENDERED,payload:{id:e.toString(),onlySide:t}}},x=function(e){return{type:r.a.START_CONNECTION,payload:{state:e}}},S=function(e,t){return{type:r.a.CREATE_CONNECTION,payload:{from:e,to:t}}},k=function(e){return{type:r.a.REMOVE_CONNECTION,payload:{from:e}}},w=function(e){return{type:r.a.SET_SCALE,payload:{scale:e}}},I=function(e){return{type:r.a.CHANGE_NAME,payload:{name:e}}},P=function(e){return{type:r.a.CHANGE_PREVIEW_IMAGE,payload:{name:e}}},C=function(e){return{type:r.a.CHANGE_TAGS,payload:{template_tags:e}}},N=function(e){return{type:r.a.SET_EDIT,payload:{index:e&&e.toString()}}},A=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return{type:r.a.UPDATE_EDIT,payload:{key:e,value:t,path:n}}},R=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return{type:r.a.UPDATE_CARD_INDEX_EDIT,payload:{key:e,index:t}}},D=function(){return{type:r.a.SAVE_EDIT,payload:{}}},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:r.a.DELETE,payload:{id:e}}},M=function(){return{type:r.a.ADD_BUTTON,payload:{}}},q=function(e){return{type:r.a.REMOVE_BUTTON,payload:{index:e}}},Y=function(e){return{type:r.a.CLONE,payload:{index:e}}}},"EW+5":function(e,t,n){"use strict";function r(e){return{loading:function(){return{type:e.LOADING}},error:function(t){return{type:e.LOADING_ERROR,payload:t}},itemsListLoaded:function(t){return{type:e.ITEMS_LOADED,payload:t}},selectAll:function(){return{type:e.SELECT_ALL}},selectToggle:function(t){return{type:e.SELECT_TOGGLE,payload:{id:t}}},clearSelected:function(t){return{type:e.SELECT_CLEAR,payload:{id:t}}}}}n.d(t,"a",(function(){return r}))},FBLP:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("q1tI"),a=n.n(r),o=n("17x9"),c=n.n(o),l=n("bFnZ"),i=n.n(l),u=n("9Koi");function s(e){var t=e.show,n=e.text,r=e.onConfirm,o=e.onCancel,c=Object(u.a)().t;return a.a.createElement(i.a,{title:"",show:t,onConfirm:r,onCancel:o,confirmBtnText:c("common.yes"),cancelBtnText:c("common.no"),showCancel:!0,type:"warning"},n)}s.propTypes={onConfirm:c.a.func.isRequired,onCancel:c.a.func.isRequired,show:c.a.bool.isRequired,text:c.a.string.isRequired}},FrZM:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("q1tI"),a=n.n(r),o=n("Mpt7"),c=n("17x9"),l=n.n(c),i=n("ma3e"),u=6;function s(e){var t=e.attachment,n=t.get("type"),r=t.get("url");if(!r||r.startsWith("sticker::"))return null;switch(n){case u:return a.a.createElement("embed",{key:r,className:"attachment-preview",src:r,type:""});case 2:return a.a.createElement(i.z,null);case 1:return a.a.createElement("img",{className:"attachment-preview",src:r});case 7:return a.a.createElement("video",{controls:!0,className:"attachment-preview"},a.a.createElement("source",{src:r}))}return null}t.b=s,s.propTypes={attachment:l.a.instanceOf(o.b).isRequired}},Ga4A:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPrefix=a,t.browserPrefixToKey=o,t.browserPrefixToStyle=function(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e},t.default=void 0;var r=["Moz","Webkit","O","ms"];function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window||void 0===window.document)return"";var t=window.document.documentElement.style;if(e in t)return"";for(var n=0;n<r.length;n++)if(o(e,r[n])in t)return r[n];return""}function o(e,t){return t?"".concat(t).concat(function(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}(e)):e}var c=a();t.default=c},KDeF:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n("rePB"),a=n("wx14"),o=n("JX7q"),c=n("dI71"),l=n("q1tI"),i=n.n(l),u=n("17x9"),s=n.n(u),d=n("rWSr"),f=n("33Jr");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var m=["defaultOpen"],b=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={isOpen:t.defaultOpen||!1},n.toggle=n.toggle.bind(Object(o.a)(n)),n}Object(c.a)(t,e);var n=t.prototype;return n.toggle=function(){this.setState({isOpen:!this.state.isOpen})},n.render=function(){return i.a.createElement(d.a,Object(a.a)({isOpen:this.state.isOpen,toggle:this.toggle},Object(f.n)(this.props,m)))},t}(l.Component);b.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({defaultOpen:s.a.bool},d.a.propTypes)},P2Na:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("MwQV");function a(e){var t=new FormData;return t.append("file",e),r.a.call("post","/methods/image",{},t)}},"Qu/B":function(e,t,n){"use strict";function r(e){return e.map((function(e){return e.get("sort")})).toArray().join(",")}n.d(t,"a",(function(){return r}))},R155:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==f(e)&&"function"!=typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n("q1tI")),a=s(n("17x9")),o=s(n("i8i4")),c=n("8N4D"),l=n("fJi3"),i=n("gbW8"),u=s(n("sS6v"));function s(e){return e&&e.__esModule?e:{default:e}}function d(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,l=e[Symbol.iterator]();!(r=(c=l.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var a=O(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?E(e):t}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T={start:"touchstart",move:"touchmove",stop:"touchend"},x={start:"mousedown",move:"mousemove",stop:"mouseup"},S=x,k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(s,e);var t,n,a,i=y(s);function s(){var e;b(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return j(E(e=i.call.apply(i,[this].concat(n))),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),j(E(e),"mounted",!1),j(E(e),"handleDragStart",(function(t){if(e.props.onMouseDown(t),!e.props.allowAnyClick&&"number"==typeof t.button&&0!==t.button)return!1;var n=e.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var r=n.ownerDocument;if(!(e.props.disabled||!(t.target instanceof r.defaultView.Node)||e.props.handle&&!(0,c.matchesSelectorAndParentsTo)(t.target,e.props.handle,n)||e.props.cancel&&(0,c.matchesSelectorAndParentsTo)(t.target,e.props.cancel,n))){"touchstart"===t.type&&t.preventDefault();var a=(0,c.getTouchIdentifier)(t);e.setState({touchIdentifier:a});var o=(0,l.getControlPosition)(t,a,E(e));if(null!=o){var i=o.x,s=o.y,d=(0,l.createCoreData)(E(e),i,s);(0,u.default)("DraggableCore: handleDragStart: %j",d),(0,u.default)("calling",e.props.onStart),!1!==e.props.onStart(t,d)&&!1!==e.mounted&&(e.props.enableUserSelectHack&&(0,c.addUserSelectStyles)(r),e.setState({dragging:!0,lastX:i,lastY:s}),(0,c.addEvent)(r,S.move,e.handleDrag),(0,c.addEvent)(r,S.stop,e.handleDragStop))}}})),j(E(e),"handleDrag",(function(t){var n=(0,l.getControlPosition)(t,e.state.touchIdentifier,E(e));if(null!=n){var r=n.x,a=n.y;if(Array.isArray(e.props.grid)){var o=r-e.state.lastX,c=a-e.state.lastY,i=p((0,l.snapToGrid)(e.props.grid,o,c),2);if(o=i[0],c=i[1],!o&&!c)return;r=e.state.lastX+o,a=e.state.lastY+c}var s=(0,l.createCoreData)(E(e),r,a);if((0,u.default)("DraggableCore: handleDrag: %j",s),!1!==e.props.onDrag(t,s)&&!1!==e.mounted)e.setState({lastX:r,lastY:a});else try{e.handleDragStop(new MouseEvent("mouseup"))}catch(t){var d=document.createEvent("MouseEvents");d.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.handleDragStop(d)}}})),j(E(e),"handleDragStop",(function(t){if(e.state.dragging){var n=(0,l.getControlPosition)(t,e.state.touchIdentifier,E(e));if(null!=n){var r=n.x,a=n.y,o=(0,l.createCoreData)(E(e),r,a);if(!1===e.props.onStop(t,o)||!1===e.mounted)return!1;var i=e.findDOMNode();i&&e.props.enableUserSelectHack&&(0,c.removeUserSelectStyles)(i.ownerDocument),(0,u.default)("DraggableCore: handleDragStop: %j",o),e.setState({dragging:!1,lastX:NaN,lastY:NaN}),i&&((0,u.default)("DraggableCore: Removing handlers"),(0,c.removeEvent)(i.ownerDocument,S.move,e.handleDrag),(0,c.removeEvent)(i.ownerDocument,S.stop,e.handleDragStop))}}})),j(E(e),"onMouseDown",(function(t){return S=x,e.handleDragStart(t)})),j(E(e),"onMouseUp",(function(t){return S=x,e.handleDragStop(t)})),j(E(e),"onTouchStart",(function(t){return S=T,e.handleDragStart(t)})),j(E(e),"onTouchEnd",(function(t){return S=T,e.handleDragStop(t)})),e}return t=s,(n=[{key:"componentDidMount",value:function(){this.mounted=!0;var e=this.findDOMNode();e&&(0,c.addEvent)(e,T.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.findDOMNode();if(e){var t=e.ownerDocument;(0,c.removeEvent)(t,x.move,this.handleDrag),(0,c.removeEvent)(t,T.move,this.handleDrag),(0,c.removeEvent)(t,x.stop,this.handleDragStop),(0,c.removeEvent)(t,T.stop,this.handleDragStop),(0,c.removeEvent)(e,T.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,c.removeUserSelectStyles)(t)}}},{key:"findDOMNode",value:function(){return this.props.nodeRef?this.props.nodeRef.current:o.default.findDOMNode(this)}},{key:"render",value:function(){return r.cloneElement(r.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}])&&g(t.prototype,n),a&&g(t,a),s}(r.Component);t.default=k,j(k,"displayName","DraggableCore"),j(k,"propTypes",{allowAnyClick:a.default.bool,disabled:a.default.bool,enableUserSelectHack:a.default.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:a.default.arrayOf(a.default.number),handle:a.default.string,cancel:a.default.string,nodeRef:a.default.object,onStart:a.default.func,onDrag:a.default.func,onStop:a.default.func,onMouseDown:a.default.func,scale:a.default.number,className:i.dontSetMe,style:i.dontSetMe,transform:i.dontSetMe}),j(k,"defaultProps",{allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},R2rE:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("q1tI"),a=n("/MKj");function o(e,t){var n=Object(r.useRef)(),o=Object(a.d)();Object(r.useEffect)((function(){return n.current=setInterval((function(){document.hasFocus()&&!e&&o(t(!0))}),15e3),function(){return clearInterval(n.current)}}),[o,e,t])}},R5y6:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("q1tI"),a=n.n(r),o=n("QDav"),c=n("xilt"),l=n("jrRI"),i=n("3OM0"),u=n("TSYQ"),s=n.n(u),d=n("sPdi"),f=n("17x9"),p=n.n(f),m=n("9Koi");function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y={control:function(e){return g(g({},e),{},{"&, &:hover, &:focus":{borderColor:"#ced4da",boxShadow:"none"}})},menu:function(e){return g(g({},e),{},{zIndex:10})}};function h(e){var t,n,r=e.id,u=e.label,f=e.errors,p=e.loadOptions,b=e.name,g=e.setFieldValue,v=e.handleBlur,h=e.value,E=e.className,O=e.placeholder,j=e.isClearable,T=e.cacheOptions,x=e.isMulti,S=e.isDisabled,k=e.defaultOptions,w=Object(m.a)().t,I=j?c.a:o.a;return a.a.createElement(l.a,{className:s()(E)},a.a.createElement(i.a,{htmlFor:r},u),a.a.createElement(I,{cacheOptions:T,defaultOptions:k,loadOptions:p,onChange:function(e){g(b,e)},value:h,isClearable:j,className:s()({"is-invalid":!!(null===(t=f[b])||void 0===t?void 0:t.length)}),placeholder:O||w("common.default-select-placeholder"),styles:y,isMulti:x,isDisabled:S,onBlur:v}),(null===(n=f[b])||void 0===n?void 0:n.length)?a.a.createElement(d.a,{errors:f[b]}):null)}h.defaultProps={isClearable:!0,cacheOptions:!0,defaultOptions:!0},h.propTypes={errors:p.a.object.isRequired,id:p.a.oneOfType([p.a.string,p.a.number]),value:p.a.oneOfType([p.a.shape({label:p.a.string,value:p.a.oneOfType([p.a.string,p.a.number])}),p.a.array]),label:p.a.any.isRequired,name:p.a.string.isRequired,handleBlur:p.a.func,setFieldValue:p.a.func.isRequired,loadOptions:p.a.func.isRequired,className:p.a.string,placeholder:p.a.string,isClearable:p.a.bool,isMulti:p.a.bool,isDisabled:p.a.bool,cacheOptions:p.a.bool,defaultOptions:p.a.oneOfType([p.a.bool,p.a.array])}},"Z+s4":function(e,t,n){"use strict";var r=n("wx14"),a=n("zLVn"),o=n("q1tI"),c=n.n(o),l=n("17x9"),i=n.n(l),u=n("TSYQ"),s=n.n(u),d=n("33Jr"),f={tag:d.q,className:i.a.string,cssModule:i.a.object},p=function(e){var t=e.className,n=e.cssModule,o=e.tag,l=Object(a.a)(e,["className","cssModule","tag"]),i=Object(d.m)(s()(t,"input-group-text"),n);return c.a.createElement(o,Object(r.a)({},l,{className:i}))};p.propTypes=f,p.defaultProps={tag:"span"},t.a=p},"c8c+":function(e,t,n){"use strict";function r(e){var t=e.map((function(e){return{column:e.get("column"),operator:e.get("operator"),value:e.get("value")}})).toArray();return JSON.stringify(t)}n.d(t,"a",(function(){return r}))},doQp:function(e,t,n){"use strict";var r=n("pzsr"),a=r.default,o=r.DraggableCore;e.exports=a,e.exports.default=a,e.exports.DraggableCore=o},ebzC:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("MwQV");function a(e){return new Promise((function(t){r.a.call("get","/methods/templates/search-template-tags",{q:e}).data((function(e){t(e.map((function(e){return{label:e.name,value:e.id}})))}))}))}},fJi3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBoundPosition=function(e,t,n){if(!e.props.bounds)return[t,n];var c=e.props.bounds;c="string"==typeof c?c:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(c);var l=o(e);if("string"==typeof c){var i,u=l.ownerDocument,s=u.defaultView;if(!((i="parent"===c?l.parentNode:u.querySelector(c))instanceof s.HTMLElement))throw new Error('Bounds selector "'+c+'" could not find an element.');var d=s.getComputedStyle(l),f=s.getComputedStyle(i);c={left:-l.offsetLeft+(0,r.int)(f.paddingLeft)+(0,r.int)(d.marginLeft),top:-l.offsetTop+(0,r.int)(f.paddingTop)+(0,r.int)(d.marginTop),right:(0,a.innerWidth)(i)-(0,a.outerWidth)(l)-l.offsetLeft+(0,r.int)(f.paddingRight)-(0,r.int)(d.marginRight),bottom:(0,a.innerHeight)(i)-(0,a.outerHeight)(l)-l.offsetTop+(0,r.int)(f.paddingBottom)-(0,r.int)(d.marginBottom)}}(0,r.isNum)(c.right)&&(t=Math.min(t,c.right));(0,r.isNum)(c.bottom)&&(n=Math.min(n,c.bottom));(0,r.isNum)(c.left)&&(t=Math.max(t,c.left));(0,r.isNum)(c.top)&&(n=Math.max(n,c.top));return[t,n]},t.snapToGrid=function(e,t,n){var r=Math.round(t/e[0])*e[0],a=Math.round(n/e[1])*e[1];return[r,a]},t.canDragX=function(e){return"both"===e.props.axis||"x"===e.props.axis},t.canDragY=function(e){return"both"===e.props.axis||"y"===e.props.axis},t.getControlPosition=function(e,t,n){var r="number"==typeof t?(0,a.getTouch)(e,t):null;if("number"==typeof t&&!r)return null;var c=o(n),l=n.props.offsetParent||c.offsetParent||c.ownerDocument.body;return(0,a.offsetXYFromParent)(r||e,l,n.props.scale)},t.createCoreData=function(e,t,n){var a=e.state,c=!(0,r.isNum)(a.lastX),l=o(e);return c?{node:l,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:l,deltaX:t-a.lastX,deltaY:n-a.lastY,lastX:a.lastX,lastY:a.lastY,x:t,y:n}},t.createDraggableData=function(e,t){var n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}};var r=n("gbW8"),a=n("8N4D");function o(e){var t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}},gbW8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findInArray=function(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]},t.isFunction=function(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)},t.isNum=function(e){return"number"==typeof e&&!isNaN(e)},t.int=function(e){return parseInt(e,10)},t.dontSetMe=function(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))}},"h/Eb":function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),a=n.n(r),o=n("Ty5D"),c=n("/MKj"),l=n("DMen"),i=n("bTjV"),u=n("zwA0"),s=n("hnXc"),d=n("2AaS"),f=n("MwQV"),p=n("FBLP"),m=n("9Koi"),b=n("R2rE"),g=n("ma3e"),v=n("17x9"),y=n.n(v),h=n("n7jJ"),E=n("/Zzm"),O=n("l4pp"),j=n("sOKU"),T=n("mI4U"),x=n("mt+J"),S=n("DCcX"),k=n("vkoW"),w=n("CaDr"),I=n("ebzC"),P=n("nc57"),C=n("x37D"),N=n("R5y6");function A(e){var t=e.close,n=e.onTagsSelected,o=e.tags,c=Object(m.a)().t,l=Object(r.useCallback)((function(e){var r=e.tags.map((function(e){return{id:e.__isNew__?null:e.value,name:e.label}}));n(r),t()}),[t,n]);return a.a.createElement(S.a,{isOpen:!0,size:"md",onClose:t},a.a.createElement(k.a,{toggle:t},c("templates.select-tags-modal.title")),a.a.createElement(w.a,null,a.a.createElement(P.a,{className:"limiter",initialValues:{tags:o},handleSubmit:l,renderForm:function(e){var t=e.values,n=e.errors,r=e.isSubmitting,o=e.setFieldValue;return a.a.createElement(a.a.Fragment,null,a.a.createElement(N.a,{className:"limiter",name:"tags",label:c("templates.select-tags-modal.tags-label"),value:t.tags,setFieldValue:o,errors:n,loadOptions:I.a,isMulti:!0,isClearable:!0}),a.a.createElement(C.a,{className:"pt-2 px-4 mt-3 mb-sm-4 mb-5",disabled:r},c("templates.select-tags-modal.ok-btn")))}})))}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,l=e[Symbol.iterator]();!(r=(c=l.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e){var t=e.onTagsSelected,n=e.tags,o=Object(m.a)().t,c=R(Object(r.useState)(!1),2),l=c[0],i=c[1],u=Object(r.useCallback)((function(){i(!0)}),[]),s=Object(r.useCallback)((function(){i(!1)}),[]);return a.a.createElement(a.a.Fragment,null,l?a.a.createElement(A,{close:s,onTagsSelected:t,tags:n}):null,a.a.createElement(j.a,{onClick:u,color:"info",title:o("templates.select-tags-modal.tags-btn")},a.a.createElement(g.eb,null)))}A.propTypes={close:y.a.func.isRequired,onTagsSelected:y.a.func.isRequired,tags:y.a.array},_.propTypes={onTagsSelected:y.a.func.isRequired,tags:y.a.array};var M=function(e){var t=e.handleAddFile;return a.a.createElement("label",{className:"btn btn-info mr-2",style:{marginBottom:0}},a.a.createElement(g.F,null),a.a.createElement("input",{type:"file",className:"d-none",maxLength:1,onInput:function(e){var n=e.target.files;t([n[0]])},multiple:!1,accept:"image/*"}))};M.propTypes={loadedImages:y.a.array.isRequired,handleAddFile:y.a.func.isRequired,deleteImage:y.a.func.isRequired};var q=function(e){var t=e.handleAddFile,n=e.loadedImages,o=e.deleteImage,c=e.viewPreview,l=e.saveBotCb,i=e.handleLoadFromTemplate,u=e.saved,s=e.setSaved,d=e.chatBotId,f=e.setChatBotId,p=e.tags,b=e.onTagsSelected,v=Object(m.a)().t,y=Object(r.useCallback)((function(){n.length&&o(n[0].internalId)}),[n,o]);return a.a.createElement("div",{className:"configure"},a.a.createElement(h.a,{show:[U,z].includes(u),type:u===U?"success":"danger",text:v(u===U?"chatbot.saved.success":"chatbot.saved.fail"),onConfirm:function(){return s(G)}}),d&&a.a.createElement(E.a,{close:function(){f(null)},chatBotId:d}),a.a.createElement(O.a,null),n.length?a.a.createElement("button",{type:"button",onClick:y,className:"template-image-btn"},a.a.createElement("img",{src:n[0].url,className:"img-fluid mr-2",style:{maxHeight:40}})):null,a.a.createElement(M,{handleAddFile:t,loadedImages:n,deleteImage:o}),a.a.createElement("div",{className:"mr-2 d-inline-block"},a.a.createElement(_,{tags:p,onTagsSelected:b})),a.a.createElement(j.a,{onClick:l,color:"success"},a.a.createElement(g.X,null)),a.a.createElement("div",{className:"mr-2 d-inline-block"},a.a.createElement(x.a,{onTemplateSelected:i})),a.a.createElement(j.a,{color:"primary",onClick:c},a.a.createElement(g.O,null)))};q.propTypes={handleAddFile:y.a.func.isRequired,loadedImages:y.a.array.isRequired,deleteImage:y.a.func.isRequired,viewPreview:y.a.func.isRequired,saveBotCb:y.a.func.isRequired,handleLoadFromTemplate:y.a.func.isRequired,saved:y.a.number,setSaved:y.a.func.isRequired,chatBotId:y.a.number,setChatBotId:y.a.func.isRequired,onTagsSelected:y.a.func.isRequired,tags:y.a.array};var Y=Object(T.b)(q),F=n("Mpt7");function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,l=e[Symbol.iterator]();!(r=(c=l.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var G=1,U=2,z=3;var V=function(){var e=L(Object(r.useState)(G),2),t=e[0],n=e[1],o=L(Object(r.useState)(null),2),i=o[0],u=o[1],s=Object(c.d)(),d=Object(r.useCallback)((function(){s(Object(l.p)()).then((function(){return n(U)})).catch((function(){return n(z)}))}),[s]);Object(b.a)(!!i,l.p);var f=Object(r.useCallback)((function(){s(Object(l.p)(!0)).data((function(e){var t=e.chat_bot_id;u(t)}))}),[s]),p=Object(r.useCallback)((function(e){s(Object(l.u)(e.length?e[0]:null))}),[s]),m=Object(r.useCallback)((function(e){s(Object(l.b)(e.chat_bot_id))}),[s]),g=Object(c.e)((function(e){return e.chatbot.getIn(["item","image_id"])})),v=Object(c.e)((function(e){return e.chatbot.getIn(["item","template_tags"]).toJS().map((function(e){return{label:e.name,value:e.id}}))})),y=Object(r.useCallback)((function(e){s(Object(l.w)(Object(F.d)(e)))}),[s]);return a.a.createElement(Y,{viewPreview:f,saveBotCb:d,handleLoadFromTemplate:m,saved:t,setSaved:n,chatBotId:i,setChatBotId:u,onChange:p,files:g?[g]:null,maxFilesCount:1,tags:v,onTagsSelected:y})};function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,l=e[Symbol.iterator]();!(r=(c=l.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(){var e=Object(o.j)(),t=Object(m.a)().t,n=e.id,b=Object(c.d)(),g=Object(c.e)((function(e){return e.chatbot.get("error")})),v=Object(c.e)((function(e){return e.chatbot.get("loading")})),y=W(Object(r.useState)(null),2),h=y[0],E=y[1],O=W(Object(r.useState)(!1),2),j=O[0],T=O[1];Object(r.useEffect)((function(){f.a.call("get","/methods/templates/".concat(n,"/all")).data((function(e){e.temporary?T(!0):E(!1)}))}),[n]),Object(r.useEffect)((function(){null!==h&&b(Object(l.j)(n,h))}),[b,n,h]);var x,S=Object(r.useCallback)((function(){return a.a.createElement(V,null)}),[]);return x=!0===j?a.a.createElement(p.a,{show:j,text:t("chatbot.edit.has_draft"),onConfirm:function(){T(!1),E(!0)},onCancel:function(){T(!1),E(!1)}}):v?a.a.createElement(i.a,null):g?a.a.createElement(u.a,null):a.a.createElement("div",null,a.a.createElement(s.b,{id:n,renderConfigure:S})),a.a.createElement(d.a,null,a.a.createElement("div",null,x))}},hnXc:function(e,t,n){"use strict";n.d(t,"a",(function(){return $n})),n.d(t,"b",(function(){return Zn}));var r=n("q1tI"),a=n.n(r),o=n("doQp"),c=n.n(o),l=n("/MKj"),i=n("Mpt7"),u=n("DMen"),s=n("TSYQ"),d=n.n(s),f=n("17x9"),p=n.n(f);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,l=e[Symbol.iterator]();!(r=(c=l.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e){var t=e.connectable,n=e.positions,o=void 0===n?["top","left","bottom","right"]:n,c=e.isConnectable,i=void 0===c||c,s=e.children,f=m(Object(r.useState)(!1),2),p=f[0],b=f[1],g=Object(l.d)(),v=Object(r.useCallback)((function(e){g(Object(u.d)({move:(new Date).getTime(),x:e.clientX,y:e.clientY})),g(Object(u.n)("connect-to"))}),[g]),y=Object(r.useCallback)((function(){var e=document.querySelector(".block:hover");e&&g(Object(u.f)(t,e.dataset.id)),g(Object(u.d)(!1)),b(!1),removeEventListener("mouseup",y),removeEventListener("mousemove",v)}),[t,g,v]);Object(r.useEffect)((function(){return p&&(window.addEventListener("mouseup",y),window.addEventListener("mousemove",v)),function(){window.removeEventListener("mouseup",y),window.removeEventListener("mousemove",v)}}),[p,v,y]);var h=Object(r.useCallback)((function(e){return function(t){b(e),g(Object(u.n)("connect-from")),g(Object(u.d)({x:t.clientX,y:t.clientY}))}}),[g]);return a.a.createElement("div",{className:"connectable"},i&&o.map((function(e){return a.a.createElement("span",{key:e,id:p===e?"block-connect-from":void 0,onMouseDown:h(e),className:d()("connect connect-".concat(e),{connecting:p===e})})})),a.a.createElement("div",{className:"connect-content"},s))}var v=g;g.propTypes={children:p.a.any,connectable:p.a.string.isRequired,isConnectable:p.a.bool,positions:p.a.array};var y=Object.freeze({TYPE_START:0,TYPE_MESSAGE:1,TYPE_QUESTION:2,TYPE_BUTTONS:3,TYPE_SELECT:4,TYPE_BUTTON:5,TYPE_CALENDAR:6,TYPE_API_CONTENT:7,TYPE_MAP:8,TYPE_SWITCH:9,TYPE_CAROUSEL:10,TYPE_SET_VARIABLE:11,TYPE_CALL_OPERATOR:12,TYPE_TRIGGER:13,TYPE_NOTIFICATION:14,TYPE_TAG:15,TYPE_DEPARTMENT:16,TYPE_SUBSCRIBE_CAMPAIGN:17,TYPE_TRIGGER_WORD:18,TYPE_GOOGLE_SHEET:19});function h(e){var t=e.block;return a.a.createElement("div",{className:"message",dangerouslySetInnerHTML:{__html:t.getIn(["data","text"])}})}var E=h;h.propTypes={block:p.a.instanceOf(i.b).isRequired};var O=n("29yR");function j(e){var t=e.block.getIn(["data","variable"]);return t?a.a.createElement("div",{className:"variable"},a.a.createElement(O.a,null)," ",a.a.createElement("span",{className:"variable-name"},"@",t)):null}var T=j;j.propTypes={block:p.a.instanceOf(i.b).isRequired};var x,S,k=n("ma3e"),w=n("LvDl"),I=n.n(w);function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=(C(x={},y.TYPE_SELECT,{Icon:O.F,color:"#D8EEFF",langKey:"chatbot.blocks.select"}),C(x,y.TYPE_MESSAGE,{Icon:O.A,color:"#D8EEFF",langKey:"chatbot.blocks.message"}),C(x,y.TYPE_SET_VARIABLE,{Icon:O.a,color:"#E9E1FF",langKey:"chatbot.blocks.variable"}),C(x,y.TYPE_QUESTION,{Icon:O.j,color:"#D8EEFF",langKey:"chatbot.blocks.question"}),C(x,y.TYPE_CALL_OPERATOR,{Icon:O.w,color:"#E9E1FF",langKey:"chatbot.blocks.operator"}),C(x,y.TYPE_TAG,{Icon:O.E,color:"#FFEBCD",langKey:"chatbot.blocks.tag"}),C(x,y.TYPE_NOTIFICATION,{Icon:O.b,color:"#FFEBCD",langKey:"chatbot.blocks.notification"}),C(x,y.TYPE_BUTTONS,{Icon:O.u,color:"#D8EEFF",langKey:"chatbot.blocks.buttons"}),C(x,y.TYPE_SWITCH,{Icon:O.z,color:"#E9E1FF",langKey:"chatbot.blocks.switch"}),C(x,y.TYPE_DEPARTMENT,{Icon:O.k,color:"#FFEBCD",langKey:"chatbot.blocks.department"}),C(x,y.TYPE_CALENDAR,{Icon:O.d,color:"#E9E1FF",langKey:"chatbot.blocks.calendar"}),C(x,y.TYPE_CAROUSEL,{Icon:O.B,color:"#E9E1FF",langKey:"chatbot.blocks.cards"}),C(x,y.TYPE_TRIGGER,{Icon:O.s,color:"#FFEBCD",langKey:"chatbot.blocks.trigger"}),C(x,y.TYPE_TRIGGER_WORD,{Icon:O.c,color:"#FFEBCD",langKey:"chatbot.blocks.trigger-word"}),C(x,y.TYPE_START,{Icon:O.e,color:"#D5FFD6",langKey:"chatbot.blocks.start"}),C(x,y.TYPE_MAP,{Icon:O.q,color:"#D5FFD6",langKey:"chatbot.blocks.map"}),C(x,y.TYPE_API_CONTENT,{Icon:O.m,color:"#D8EEFF",langKey:"chatbot.blocks.api"}),C(x,y.TYPE_SUBSCRIBE_CAMPAIGN,{Icon:O.o,color:"#E9E1FF",langKey:"chatbot.blocks.campaign-subscribe"}),C(x,y.TYPE_GOOGLE_SHEET,{Icon:O.i,color:"#E9E1FF",langKey:"chatbot.blocks.google-sheet"}),x);function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=R(e),r=n.Icon,o=n.color;return a.a.createElement(r,P({},t,{color:o}))}function R(e){return N[e]||{Icon:k.g,color:"#ff00000",langKey:"type"}}var D=(C(S={},y.TYPE_MESSAGE,(function(){return{text:"<p>Message</p>"}})),C(S,y.TYPE_SET_VARIABLE,(function(){return{text:"value",variable:"variable"}})),C(S,y.TYPE_QUESTION,(function(){return{text:"<p>Question?</p>",variable:"variable"}})),C(S,y.TYPE_CALL_OPERATOR,(function(){return{text:"<p>Waiting for opeartor</p>"}})),C(S,y.TYPE_TAG,(function(){return{text:"tag"}})),C(S,y.TYPE_NOTIFICATION,(function(){return{text:"<p>Email text</p>"}})),C(S,y.TYPE_BUTTONS,(function(){return{text:"<p>Select</p>",buttons:[{id:Object(w.uniqueId)("button-"),text:"Variant#1"}]}})),C(S,y.TYPE_SELECT,(function(){return{text:"<p>Select</p>",buttons:[{id:Object(w.uniqueId)("button-"),text:"Variant#1"}]}})),C(S,y.TYPE_SWITCH,(function(){return{variable:"variable",buttons:[{id:Object(w.uniqueId)("button-"),text:"Variant#1"}]}})),C(S,y.TYPE_DEPARTMENT,(function(){return{}})),C(S,y.TYPE_CALENDAR,(function(){return{}})),C(S,y.TYPE_CAROUSEL,(function(){return{cards:[{image_id:null,title:"Title",description:"Description",buttons:[]}]}})),C(S,y.TYPE_TRIGGER,(function(){return{variable:"",text:"trigger-name"}})),C(S,y.TYPE_TRIGGER_WORD,(function(){return{text:"keyword"}})),C(S,y.TYPE_START,(function(){return{}})),C(S,y.TYPE_MAP,(function(){return{}})),C(S,y.TYPE_API_CONTENT,(function(){return{api:{method:"GET",url:"https://example.com",headers:[{key:"Accept",value:"application/json"},{key:"Content-Type",value:"application/json"}],params:[{key:"query",value:"value"}],data:[{key:"key",value:"value"}]},buttons:[]}})),C(S,y.TYPE_SUBSCRIBE_CAMPAIGN,(function(){return{}})),C(S,y.TYPE_GOOGLE_SHEET,(function(){return{googleSheet:{googleAccountId:null,sheetId:null,page:null,variablesConfigs:[],meta:{email:null,sheetName:null,page:null}}}})),S);function _(e){return D[e]?D[e]():{}}var M=n("9Koi");function q(e){var t=e.type,n=e.index,r=R(t),o=Object(M.a)().t,c=Object(l.e)((function(e){return e.chatbot.getIn(["builder","edit","id"])===n})),i=Object(l.d)();return a.a.createElement("div",{style:{backgroundColor:r.color},className:"header"},c?a.a.createElement(O.C,null):A(t)," ",o(r.langKey),t!==y.TYPE_START&&a.a.createElement("a",{onClick:function(){i(Object(u.s)(n))},className:"context-menu position-relative"},a.a.createElement(k.u,null)),t!==y.TYPE_START&&!c&&a.a.createElement("a",{onClick:function(){i(Object(u.c)(n))},className:"context-menu position-relative mr-1"},a.a.createElement(k.r,null)),t!==y.TYPE_START&&!c&&a.a.createElement("a",{onClick:function(){i(Object(u.g)(n))},className:"context-menu position-relative mr-1"},a.a.createElement(k.kb,null)))}var Y=q;function F(e){var t=e.button,n=e.connect,o=void 0!==n&&n,c=Object(l.d)();return Object(r.useEffect)((function(){c(Object(u.n)(t.get("id"),!0))})),a.a.createElement("div",{className:"block-button",id:"block-".concat(t.get("id"))},a.a.createElement(v,{positions:o?["right","left"]:[],connectable:t.get("id").toString()},t.get("text")))}q.propTypes={type:p.a.number.isRequired,index:p.a.any.isRequired};var L=F;function B(e){var t=e.block,n=e.connect,r=void 0!==n&&n;return a.a.createElement("div",null,t.getIn(["data","buttons"],Object(i.a)()).map((function(e){return a.a.createElement(L,{connect:r,key:e.get("id"),button:e})})))}F.propTypes={button:p.a.instanceOf(i.b).isRequired,connect:p.a.bool};var G=B;function U(e){var t=e.block;return a.a.createElement("div",null,a.a.createElement(O.p,null),t.getIn(["data","text"]))}B.propTypes={block:p.a.instanceOf(i.b).isRequired,connect:p.a.bool};var z=U;function V(e){var t=e.block;return a.a.createElement("div",null,t.getIn(["data","text"]))}U.propTypes={block:p.a.instanceOf(i.b).isRequired};var W=V;V.propTypes={block:p.a.instanceOf(i.b).isRequired};var K=n("2Te1");function X(e){var t=e.block;return a.a.createElement(K.a,{color:"primary"},t.getIn(["data","text"]))}var H=X;function Q(e){var t=e.block;return a.a.createElement("div",{className:"api",title:t.getIn(["data","api","url"])},a.a.createElement("span",{className:"api-method"},t.getIn(["data","api","method"])),t.getIn(["data","api","url"]))}X.propTypes={block:p.a.instanceOf(i.b).isRequired};var J=Q;function $(e){var t=e.block;return a.a.createElement(K.a,{color:"success"},t.getIn(["data","text","label"]))}Q.propTypes={block:p.a.instanceOf(i.b).isRequired};var Z=$;$.propTypes={block:p.a.instanceOf(i.b).isRequired};var ee=n("FrZM");function te(e){var t=e.block.getIn(["data","attachment"]);return t?a.a.createElement(ee.b,{attachment:t}):null}var ne=te;function re(e){var t=e.block;return a.a.createElement("div",null,a.a.createElement(O.d,null),t.getIn(["data","text","label"]))}te.propTypes={block:p.a.instanceOf(i.b).isRequired};var ae=re;re.propTypes={block:p.a.instanceOf(i.b).isRequired};var oe=n("rePB"),ce=n("wx14"),le=n("zLVn"),ie=n("JX7q"),ue=n("dI71"),se=n("1w3K"),de=n("33Jr");function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){Object(oe.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var me=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={startAnimation:!1},n.onEnter=n.onEnter.bind(Object(ie.a)(n)),n.onEntering=n.onEntering.bind(Object(ie.a)(n)),n.onExit=n.onExit.bind(Object(ie.a)(n)),n.onExiting=n.onExiting.bind(Object(ie.a)(n)),n.onExited=n.onExited.bind(Object(ie.a)(n)),n}Object(ue.a)(t,e);var n=t.prototype;return n.onEnter=function(e,t){this.setState({startAnimation:!1}),this.props.onEnter(e,t)},n.onEntering=function(e,t){var n=e.offsetHeight;return this.setState({startAnimation:!0}),this.props.onEntering(e,t),n},n.onExit=function(e){this.setState({startAnimation:!1}),this.props.onExit(e)},n.onExiting=function(e){this.setState({startAnimation:!0}),e.dispatchEvent(new CustomEvent("slide.bs.carousel")),this.props.onExiting(e)},n.onExited=function(e){e.dispatchEvent(new CustomEvent("slid.bs.carousel")),this.props.onExited(e)},n.render=function(){var e=this,t=this.props,n=t.in,r=t.children,o=t.cssModule,c=t.slide,l=t.tag,i=t.className,u=Object(le.a)(t,["in","children","cssModule","slide","tag","className"]);return a.a.createElement(se.Transition,Object(ce.a)({},u,{enter:c,exit:c,in:n,onEnter:this.onEnter,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}),(function(t){var n=e.context.direction,c=t===de.d.ENTERED||t===de.d.EXITING,u=(t===de.d.ENTERING||t===de.d.EXITING)&&e.state.startAnimation&&("right"===n?"carousel-item-left":"carousel-item-right"),s=t===de.d.ENTERING&&("right"===n?"carousel-item-next":"carousel-item-prev"),f=Object(de.m)(d()(i,"carousel-item",c&&"active",u,s),o);return a.a.createElement(l,{className:f},r)}))},t}(a.a.Component);me.propTypes=pe(pe({},se.Transition.propTypes),{},{tag:de.q,in:p.a.bool,cssModule:p.a.object,children:p.a.node,slide:p.a.bool,className:p.a.string}),me.defaultProps=pe(pe({},se.Transition.defaultProps),{},{tag:"div",timeout:de.e.Carousel,slide:!0}),me.contextTypes={direction:p.a.string};var be=me,ge=n("BLzl"),ve={tag:de.q,top:p.a.bool,bottom:p.a.bool,className:p.a.string,cssModule:p.a.object},ye=function(e){var t=e.className,n=e.cssModule,r=e.top,o=e.bottom,c=e.tag,l=Object(le.a)(e,["className","cssModule","top","bottom","tag"]),i="card-img";r&&(i="card-img-top"),o&&(i="card-img-bottom");var u=Object(de.m)(d()(t,i),n);return a.a.createElement(c,Object(ce.a)({},l,{className:u}))};ye.propTypes=ve,ye.defaultProps={tag:"img"};var he=ye,Ee={tag:de.q,className:p.a.string,cssModule:p.a.object},Oe=function(e){var t=e.className,n=e.cssModule,r=e.tag,o=Object(le.a)(e,["className","cssModule","tag"]),c=Object(de.m)(d()(t,"card-subtitle"),n);return a.a.createElement(r,Object(ce.a)({},o,{className:c}))};Oe.propTypes=Ee,Oe.defaultProps={tag:"div"};var je=Oe,Te={tag:de.q,className:p.a.string,cssModule:p.a.object},xe=function(e){var t=e.className,n=e.cssModule,r=e.tag,o=Object(le.a)(e,["className","cssModule","tag"]),c=Object(de.m)(d()(t,"card-title"),n);return a.a.createElement(r,Object(ce.a)({},o,{className:c}))};xe.propTypes=Te,xe.defaultProps={tag:"div"};var Se=xe,ke={tag:de.q,className:p.a.string,cssModule:p.a.object},we=function(e){var t=e.className,n=e.cssModule,r=e.tag,o=Object(le.a)(e,["className","cssModule","tag"]),c=Object(de.m)(d()(t,"card-text"),n);return a.a.createElement(r,Object(ce.a)({},o,{className:c}))};we.propTypes=ke,we.defaultProps={tag:"p"};var Ie=we,Pe=function(e){function t(t){var n;return(n=e.call(this,t)||this).handleKeyPress=n.handleKeyPress.bind(Object(ie.a)(n)),n.renderItems=n.renderItems.bind(Object(ie.a)(n)),n.hoverStart=n.hoverStart.bind(Object(ie.a)(n)),n.hoverEnd=n.hoverEnd.bind(Object(ie.a)(n)),n.handleTouchStart=n.handleTouchStart.bind(Object(ie.a)(n)),n.handleTouchEnd=n.handleTouchEnd.bind(Object(ie.a)(n)),n.touchStartX=0,n.touchStartY=0,n.state={activeIndex:n.props.activeIndex,direction:"right",indicatorClicked:!1},n}Object(ue.a)(t,e);var n=t.prototype;return n.getChildContext=function(){return{direction:this.state.direction}},n.componentDidMount=function(){"carousel"===this.props.ride&&this.setInterval(),document.addEventListener("keyup",this.handleKeyPress)},t.getDerivedStateFromProps=function(e,t){var n=null,r=t.activeIndex,a=t.direction,o=t.indicatorClicked;return e.activeIndex!==r&&(e.activeIndex===r+1?a="right":e.activeIndex===r-1?a="left":e.activeIndex<r?a=o?"left":"right":e.activeIndex!==r&&(a=o?"right":"left"),n={activeIndex:e.activeIndex,direction:a,indicatorClicked:!1}),n},n.componentDidUpdate=function(e,t){t.activeIndex!==this.state.activeIndex&&this.setInterval(this.props)},n.componentWillUnmount=function(){this.clearInterval(),document.removeEventListener("keyup",this.handleKeyPress)},n.setInterval=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){void 0===e&&(e=this.props),this.clearInterval(),e.interval&&(this.cycleInterval=setInterval((function(){e.next()}),parseInt(e.interval,10)))})),n.clearInterval=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){clearInterval(this.cycleInterval)})),n.hoverStart=function(){var e;("hover"===this.props.pause&&this.clearInterval(),this.props.mouseEnter)&&(e=this.props).mouseEnter.apply(e,arguments)},n.hoverEnd=function(){var e;("hover"===this.props.pause&&this.setInterval(),this.props.mouseLeave)&&(e=this.props).mouseLeave.apply(e,arguments)},n.handleKeyPress=function(e){this.props.keyboard&&(37===e.keyCode?this.props.previous():39===e.keyCode&&this.props.next())},n.handleTouchStart=function(e){this.props.enableTouch&&(this.touchStartX=e.changedTouches[0].screenX,this.touchStartY=e.changedTouches[0].screenY)},n.handleTouchEnd=function(e){if(this.props.enableTouch){var t=e.changedTouches[0].screenX,n=e.changedTouches[0].screenY,r=Math.abs(this.touchStartX-t);r<Math.abs(this.touchStartY-n)||r<40||(t<this.touchStartX?this.props.next():this.props.previous())}},n.renderItems=function(e,t){var n=this,r=this.props.slide;return a.a.createElement("div",{className:t},e.map((function(e,t){var o=t===n.state.activeIndex;return a.a.cloneElement(e,{in:o,slide:r})})))},n.render=function(){var e=this,t=this.props,n=t.cssModule,r=t.slide,o=t.className,c=Object(de.m)(d()(o,"carousel",r&&"slide"),n),l=Object(de.m)(d()("carousel-inner"),n),i=this.props.children.filter((function(e){return null!=e&&"boolean"!=typeof e}));if(i.every((function(e){return e.type===be})))return a.a.createElement("div",{className:c,onMouseEnter:this.hoverStart,onMouseLeave:this.hoverEnd},this.renderItems(i,l));if(i[0]instanceof Array){var u=i[0],s=i[1],f=i[2];return a.a.createElement("div",{className:c,onMouseEnter:this.hoverStart,onMouseLeave:this.hoverEnd},this.renderItems(u,l),s,f)}var p=i[0],m=a.a.cloneElement(p,{onClickHandler:function(t){"function"==typeof p.props.onClickHandler&&e.setState({indicatorClicked:!0},(function(){return p.props.onClickHandler(t)}))}}),b=i[1],g=i[2],v=i[3];return a.a.createElement("div",{className:c,onMouseEnter:this.hoverStart,onMouseLeave:this.hoverEnd,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd},m,this.renderItems(b,l),g,v)},t}(a.a.Component);Pe.propTypes={activeIndex:p.a.number,next:p.a.func.isRequired,previous:p.a.func.isRequired,keyboard:p.a.bool,pause:p.a.oneOf(["hover",!1]),ride:p.a.oneOf(["carousel"]),interval:p.a.oneOfType([p.a.number,p.a.string,p.a.bool]),children:p.a.array,mouseEnter:p.a.func,mouseLeave:p.a.func,slide:p.a.bool,cssModule:p.a.object,className:p.a.string,enableTouch:p.a.bool},Pe.defaultProps={interval:5e3,pause:"hover",keyboard:!0,slide:!0,enableTouch:!0},Pe.childContextTypes={direction:p.a.string};var Ce=Pe,Ne=function(e){var t=e.direction,n=e.onClickHandler,r=e.cssModule,o=e.directionText,c=e.className,l=Object(de.m)(d()(c,"carousel-control-"+t),r),i=Object(de.m)(d()("carousel-control-"+t+"-icon"),r),u=Object(de.m)(d()("sr-only"),r);return a.a.createElement("a",{className:l,style:{cursor:"pointer"},role:"button",tabIndex:"0",onClick:function(e){e.preventDefault(),n()}},a.a.createElement("span",{className:i,"aria-hidden":"true"}),a.a.createElement("span",{className:u},o||t))};Ne.propTypes={direction:p.a.oneOf(["prev","next"]).isRequired,onClickHandler:p.a.func.isRequired,cssModule:p.a.object,directionText:p.a.string,className:p.a.string};var Ae=Ne,Re=n("/kxI"),De=n("sOKU");function _e(e){var t=e.block,n=t.getIn(["data","activeCard"],0),o=Object(l.d)(),c=t.getIn(["data","cards"]),i=Object(r.useCallback)((function(e){o(Object(u.x)(t.get("id"),e))}),[o,t]),s=function(){var e=n===c.size-1?0:n+1;i(e)},d=function(){var e=0===n?c.size-1:n-1;i(e)},f=c.map((function(e,t){var n=e.get("image");return a.a.createElement(be,{key:t},a.a.createElement(ge.a,null,n&&a.a.createElement(he,{top:!0,width:"100%",src:n.get("url"),alt:"Card image cap"}),a.a.createElement(Re.a,null,a.a.createElement(je,{tag:"h6",className:"mb-2 text-muted"},"Card#".concat(t+1)),a.a.createElement(Se,{tag:"h5"},e.get("title")),a.a.createElement(Ie,null,e.get("description")),e.get("buttons").map((function(e,t){return a.a.createElement(De.a,{className:"mr-1 mb-1",key:t},e.get("text"))})))))}));return a.a.createElement(Ce,{interval:!1,activeIndex:n,next:s,previous:d},a.a.createElement("span",null),f,a.a.createElement(Ae,{direction:"prev",directionText:"Previous",onClickHandler:d}),a.a.createElement(Ae,{direction:"next",directionText:"Next",onClickHandler:s}))}var Me=_e;function qe(e){var t=e.block;return a.a.createElement("div",null,a.a.createElement(O.o,null),t.getIn(["data","text","label"]))}_e.propTypes={block:p.a.instanceOf(i.b).isRequired};var Ye=qe;function Fe(e){var t=e.block.getIn(["data","googleSheet","meta"]),n=[];return t.get("email")&&n.push(t.get("email")),t.get("sheetName")&&n.push(t.get("sheetName")),t.get("page")&&n.push(t.get("page")),a.a.createElement("div",{className:"api"},n.map((function(e){return a.a.createElement("p",{key:e},e)})))}qe.propTypes={block:p.a.instanceOf(i.b).isRequired};var Le=Fe;function Be(e){var t=e.block;switch(t.get("type")){case y.TYPE_MESSAGE:return a.a.createElement(a.a.Fragment,null,a.a.createElement(Y,{index:t.get("id"),type:t.get("type")}),a.a.createElement("div",{className:"block-content"},a.a.createElement(E,{block:t}),a.a.createElement(ne,{block:t})));case y.TYPE_NOTIFICATION:return a.a.createElement(a.a.Fragment,null,a.a.createElement(Y,{index:t.get("id"),type:t.get("type")}),a.a.createElement("div",{className:"block-content"},a.a.createElement(E,{block:t})));case y.TYPE_START:return a.a.createElement(a.a.Fragment,null,a.a.createElement(Y,{index:t.get("id"),type:t.get("type")}));case y.TYPE_QUESTION:return a.a.createElement(a.a.Fragment,null,a.a.createElement(Y,{index:t.get("id"),type:t.get("type")}),a.a.createElement("div",{className:"block-content"},a.a.createElement(E,{block:t}),a.a.createElement(T,{block:t})));case y.TYPE_SWITCH:return a.a.createElement(a.a.Fragment,null,a.a.createElement(Y,{index:t.get("id"),type:t.get("type")}),a.a.createElement("div",{className:"block-content"},a.a.createElement(T,{block:t})),a.a.createElement(G,{connect:!0,block:t}));case y.TYPE_SELECT:return a.a.createElement(a.a.Fragment,null,a.a.createElement(Y,{index:t.get("id"),type:t.get("type")}),a.a.createElement("div",{className:"block-content"},a.a.createElement(E,{block:t}),a.a.createElement(T,{block:t})),a.a.createElement(G,{block:t}));case y.TYPE_BUTTONS:return a.a.createElement(a.a.Fragment,null,a.a.createElement(Y,{index:t.get("id"),type:t.get("type")}),a.a.createElement("div",{className:"block-content"},a.a.createElement(E,{block:t}),a.a.createElement(T,{block:t})),a.a.createElement(G,{connect:!0,block:t}));case y.TYPE_TRIGGER:return a.a.createElement(a.a.Fragment,null,a.a.createElement(Y,{index:t.get("id"),type:t.get("type")}),a.a.createElement("div",{className:"block-content"},a.a.createElement(z,{block:t}),a.a.createElement(T,{block:t})));case y.TYPE_TRIGGER_WORD:return a.a.createElement(a.a.Fragment,null,a.a.createElement(Y,{index:t.get("id"),type:t.get("type")}),a.a.createElement("div",{className:"block-content"},a.a.createElement(z,{block:t})));case y.TYPE_TAG:return a.a.createElement(a.a.Fragment,null,a.a.createElement(Y,{index:t.get("id"),type:t.get("type")}),a.a.createElement("div",{className:"block-content"},a.a.createElement(H,{block:t})));case y.TYPE_DEPARTMENT:return a.a.createElement(a.a.Fragment,null,a.a.createElement(Y,{index:t.get("id"),type:t.get("type")}),a.a.createElement("div",{className:"block-content"},a.a.createElement(Z,{block:t})));case y.TYPE_CALENDAR:return a.a.createElement(a.a.Fragment,null,a.a.createElement(Y,{index:t.get("id"),type:t.get("type")}),a.a.createElement("div",{className:"block-content"},a.a.createElement(ae,{block:t})));case y.TYPE_CALL_OPERATOR:return a.a.createElement(a.a.Fragment,null,a.a.createElement(Y,{index:t.get("id"),type:t.get("type")}),a.a.createElement("div",{className:"block-content"},a.a.createElement(E,{block:t})));case y.TYPE_SET_VARIABLE:return a.a.createElement(a.a.Fragment,null,a.a.createElement(Y,{index:t.get("id"),type:t.get("type")}),a.a.createElement("div",{className:"block-content"},a.a.createElement(T,{block:t}),a.a.createElement(W,{block:t})));case y.TYPE_CAROUSEL:return a.a.createElement(a.a.Fragment,null,a.a.createElement(Y,{index:t.get("id"),type:t.get("type")}),a.a.createElement("div",{className:"block-content"},a.a.createElement(Me,{block:t})));case y.TYPE_API_CONTENT:return a.a.createElement(a.a.Fragment,null,a.a.createElement(Y,{index:t.get("id"),type:t.get("type")}),a.a.createElement("div",{className:"block-content"},a.a.createElement(E,{block:t}),a.a.createElement(J,{block:t})),a.a.createElement(G,{connect:!0,block:t}));case y.TYPE_SUBSCRIBE_CAMPAIGN:return a.a.createElement(a.a.Fragment,null,a.a.createElement(Y,{index:t.get("id"),type:t.get("type")}),a.a.createElement("div",{className:"block-content"},a.a.createElement(Ye,{block:t})));case y.TYPE_GOOGLE_SHEET:return a.a.createElement(a.a.Fragment,null,a.a.createElement(Y,{index:t.get("id"),type:t.get("type")}),a.a.createElement("div",{className:"block-content"},a.a.createElement(Le,{block:t})));default:return a.a.createElement("div",null,"Not implemented view for ",t.get("type"))}}Fe.propTypes={block:p.a.instanceOf(i.b).isRequired};var Ge=Be;function Ue(e){var t=e.index,n=Object(l.e)((function(e){var n=e.chatbot.getIn(["builder","edit"]);return n&&n.get("id").toString()===t?n:null})),o=Object(l.e)((function(e){var r=e.chatbot;return n||r.getIn(["item","blocks",t])})),s=Object(l.e)((function(e){return e.chatbot.getIn(["builder","selected",t])})),f=Object(l.e)((function(e){return e.chatbot.getIn(["builder","scale"])})),p=Object(l.d)();Object(r.useEffect)((function(){p(Object(u.n)(t))}));var m=o.get("type"),b=[y.TYPE_MESSAGE,y.TYPE_QUESTION,y.TYPE_SELECT,y.TYPE_CAROUSEL,y.TYPE_START,y.TYPE_MAP,y.TYPE_CALENDAR,y.TYPE_SET_VARIABLE,y.TYPE_CALL_OPERATOR,y.TYPE_TRIGGER,y.TYPE_TRIGGER_WORD,y.TYPE_NOTIFICATION,y.TYPE_DEPARTMENT,y.TYPE_TAG,y.TYPE_SUBSCRIBE_CAMPAIGN,y.TYPE_GOOGLE_SHEET].includes(m);return m===y.TYPE_API_CONTENT&&(b=0===o.getIn(["data","buttons"],Object(i.a)()).size),a.a.createElement(c.a,{onMouseDown:function(e){window.wasSelected=s,s||p(Object(u.r)(t,e.ctrlKey))},scale:f/100,handle:".header",bounds:"parent",position:o.get("position").toJS(),onDrag:function(e,t){window.wasSelected=!1,p(Object(u.k)({x:t.deltaX,y:t.deltaY}))}},a.a.createElement("div",{id:"block-".concat(t),style:{zIndex:n?5:0},className:d()("block",{selected:s}),"data-id":t},a.a.createElement("div",{onMouseUp:function(e){window.wasSelected&&p(Object(u.r)(t,e.ctrlKey))}},a.a.createElement(v,{isConnectable:b,connectable:t},a.a.createElement(Ge,{block:o})))))}Be.propTypes={block:p.a.instanceOf(i.b).isRequired};var ze=a.a.memo(Ue);Ue.propTypes={index:p.a.string.isRequired};n("vs2M");function Ve(e){return function(e){if(Array.isArray(e))return Xe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Ke(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function We(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,l=e[Symbol.iterator]();!(r=(c=l.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||Ke(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ke(e,t){if(e){if("string"==typeof e)return Xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xe(e,t):void 0}}function Xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function He(e){var t=e.from,n=e.to,o=e.scroll,c=void 0===o?{x:0,y:0}:o,i=Object(l.e)((function(e){var r=e.chatbot,a=r.getIn(["builder","rendered",t.toString()]),o=r.getIn(["builder","rendered",n.toString()]);return!(!a||!o)&&a[0]+o[0]})),s=Object(l.e)((function(e){return e.chatbot.getIn(["builder","scale"])})),d=Object(l.e)((function(e){return e.chatbot.getIn(["builder","rendered",t.toString(),1])})),f=Object(l.d)(),p=document.getElementById("block-".concat(t));if(Object(r.useEffect)((function(){return function(){var e=document.getElementById("block-".concat(t));e&&e.removeAttribute("connected")}}),[t]),!i||!p)return null;var m=$n,b=100/s,g=12/b,v=p.getBoundingClientRect(),y=document.getElementById("block-".concat(n)).getBoundingClientRect(),h=0,E=0,O=v.x+c.x-h-m,j=v.y+c.y-E-0,T=v.width,x=v.height,S=y.x+c.x-h-m,w=y.y+c.y-E-0,I=y.width,P=y.height,C=O+T/2,N=j+x/2,A=S+I/2,R=w+P/2,D=N-R,_="connect-from"===t,M=_?-T/2/b:4/b,q=_?0:2/b,Y=_?1:0,F={top:{x:C-Y,y:j-M-q-Y},bottom:{x:C-Y,y:j+x+M-Y},left:{x:O-M-q-Y,y:N-Y},right:{x:O+T+M-Y,y:N-Y}},L={top:{x:A,y:w-g},bottom:{x:A,y:w+P+g},left:{x:S-g,y:R},right:{x:S+I+g,y:R}},B="connected-top",G="connected-left",U="connected-bottom",z="connected-right",V=[];C-A>0?D>0?(V=[[F.left,L.right,2,G],[F.left,L.bottom,3,G]],d||(V=V.concat([[F.top,L.right,2,B],[F.top,L.bottom,4,B]]))):(V=[[F.left,L.right,2,G],[F.left,L.top,3,G]],d||(V=V.concat([[F.bottom,L.right,2,U],[F.bottom,L.top,3,U]]))):D>0?(V=[[F.right,L.left,1,z],[F.right,L.bottom,4,z]],d||(V=V.concat([[F.top,L.left,1,B],[F.top,L.bottom,4,B]]))):(V=[[F.right,L.left,1,z],[F.right,L.top,4,z]],d||(V=V.concat([[F.bottom,L.left,1,U],[F.bottom,L.top,3,U]])));var W=Math.pow,K=function(e,t){return Math.sqrt(W(e.x-t.x,2)+W(e.y-t.y,2))},X=We(V.sort((function(e,t){return K.apply(void 0,Ve(e))-K.apply(void 0,Ve(t))}))[0],4),H=X[0],Q=X[1],J=X[2],$=X[3];p.setAttribute("connected",$),H.x*=b,H.y*=b,Q.x*=b,Q.y*=b;var Z,ee={top:(H.y+Q.y)/2,left:(H.x+Q.x)/2};switch(J){case 1:Z="M ".concat(H.x,",          ").concat(H.y,"\n                 C ").concat(H.x+50,",  ").concat(H.y,"\n                   ").concat(Q.x-50,",  ").concat(Q.y,"\n                   ").concat(Q.x,",          ").concat(Q.y);break;case 2:Z="M ".concat(H.x,",          ").concat(H.y,"\n                 C ").concat(H.x-50,",  ").concat(H.y,"\n                   ").concat(Q.x+50,",  ").concat(Q.y,"\n                   ").concat(Q.x,",          ").concat(Q.y);break;case 3:ee.left-=25,Z="M ".concat(H.x,",          ").concat(H.y,"\n                 Q ").concat(H.x-50,",  ").concat(H.y,"\n                   ").concat(Q.x,",          ").concat(Q.y);break;case 4:Z="M ".concat(H.x,",          ").concat(H.y,"\n                 Q ").concat(H.x+50,", ").concat(H.y,"\n                   ").concat(Q.x,",          ").concat(Q.y)}return a.a.createElement(a.a.Fragment,null,a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",style:{position:"absolute",width:"100%",height:"100%"}},a.a.createElement("defs",null,a.a.createElement("marker",{fill:"#94B3CB",id:"arrowhead",viewBox:"0 0 10 10",refX:"3",refY:"5",markerWidth:"6",markerHeight:"6",orient:"auto"},a.a.createElement("path",{d:"M 0 0 L 10 5 L 0 10 z"})),a.a.createElement("marker",{id:"circle",viewBox:"0 0 8 8",refX:"3",refY:"3",markerUnits:"userSpaceOnUse",markerWidth:"8",markerHeight:"8"},a.a.createElement("circle",{cx:"4",cy:"4",r:"3",fill:"white",stroke:"#94B3CB",strokeWidth:2}))),a.a.createElement("g",{fill:"none",stroke:"#94B3CB",strokeWidth:"2",markerStart:"url(#circle)",markerEnd:"url(#arrowhead)"},a.a.createElement("path",{d:Z}))),"connect-to"!==n&&a.a.createElement("button",{className:"remove-anchor",onClick:function(){return f(Object(u.m)(t.toString()))},style:ee},a.a.createElement(k.jb,null)))}var Qe=a.a.memo(He);function Je(e){var t=e.scroll,n=Object(l.e)((function(e){return e.chatbot.getIn(["builder","connection"])})),r=Object(l.e)((function(e){return 100/e.chatbot.getIn(["builder","scale"])}));return n?a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{id:"block-connect-to",style:{position:"fixed",width:2,height:5,top:(n.y+t.y)*r,left:(n.x+t.x-$n)*r,background:"red"}}),n.move&&a.a.createElement(Qe,{scroll:t,from:"connect-from",to:"connect-to"})):null}He.propTypes={from:p.a.any.isRequired,scroll:p.a.object.isRequired,to:p.a.any.isRequired};var $e=Je;function Ze(){var e=Object(l.e)((function(e){return e.chatbot.getIn(["builder","scale"])})),t=Object(l.d)();return a.a.createElement("div",{className:"minimap"},a.a.createElement("div",{className:"buttons"},a.a.createElement(De.a,{disabled:e<30,color:"white",onClick:function(){t(Object(u.v)(e-5))}},a.a.createElement(k.K,null)),a.a.createElement(De.a,{color:"white",disabled:e>145,onClick:function(){t(Object(u.v)(e+5))}},a.a.createElement(k.P,null)),a.a.createElement("span",{className:"counter"},e,"%"),a.a.createElement(De.a,{className:"float-right",color:"white",onClick:function(){document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen()}},a.a.createElement(k.v,null))))}Je.propTypes={scroll:p.a.object.isRequired},Ze.propTypes={scroll:p.a.object.isRequired,size:p.a.number.isRequired,wrapper:p.a.object.isRequired};var et=Ze,tt=n("mNz5"),nt=n.n(tt),rt=n("rhny");function at(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,l=e[Symbol.iterator]();!(r=(c=l.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ot(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ot(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ct(e){var t=e.type,n=e.scroll,o=at(Object(r.useState)(!1),2),s=o[0],d=o[1],f=Object(l.d)(),p=Object(l.e)((function(e){return e.chatbot.getIn(["builder","scale"])})),m=Object(M.a)().t,b=at(Object(r.useState)({}),2),g=b[0],v=b[1],y=R(t);return a.a.createElement(rt.a,{sm:12},a.a.createElement("div",{style:{position:"relative"}},a.a.createElement("div",{className:"create-btn"},a.a.createElement("span",{className:"color-label",style:{backgroundColor:y.color}}),a.a.createElement("span",null,A(t)," ",m(y.langKey)),a.a.createElement("span",{className:"float-right drag-element"},a.a.createElement(k.C,null))),a.a.createElement(c.a,{position:{x:0,y:0},onStart:function(e){var t=e.target.getBoundingClientRect(),n=t.top,r=t.left;v({x:e.clientX-r,y:e.clientY-n}),d(!0)},onStop:function(e){f(Object(u.e)(Object(i.d)({id:nt()("Z"),type:t,position:{x:(e.clientX+n.x-$n-g.x)/(p/100),y:(e.clientY+n.y-g.y)/(p/100)},data:_(t)}))),d(!1)}},s?a.a.createElement("div",{className:"block-creation",style:{position:"absolute",top:0,zIndex:100}},a.a.createElement("div",{className:"plus-icon"},a.a.createElement(k.P,null)),a.a.createElement("div",{className:"block"},a.a.createElement(Y,{index:-1,type:t}),a.a.createElement("div",null,"New block"))):a.a.createElement("div",{style:{position:"absolute",top:0,left:0,bottom:0,right:0,cursor:"grab"}}))))}var lt=ct;ct.propTypes={scroll:p.a.object.isRequired,type:p.a.number.isRequired};var it=n("ok1R");function ut(e){var t=e.size,n=e.scroll,r=Object(M.a)().t;return a.a.createElement("div",{className:"panel",style:{width:t}},a.a.createElement("div",{className:"panel-header"},r("chatbot.drag-and-drop")),a.a.createElement(it.a,null,[y.TYPE_MESSAGE,y.TYPE_QUESTION,y.TYPE_SELECT,y.TYPE_BUTTONS,y.TYPE_API_CONTENT,y.TYPE_CAROUSEL,y.TYPE_CALENDAR,y.TYPE_SWITCH,y.TYPE_SET_VARIABLE,y.TYPE_CALL_OPERATOR,y.TYPE_TRIGGER,y.TYPE_TRIGGER_WORD,y.TYPE_NOTIFICATION,y.TYPE_TAG,y.TYPE_DEPARTMENT,y.TYPE_SUBSCRIBE_CAMPAIGN,y.TYPE_GOOGLE_SHEET].map((function(e){return a.a.createElement(lt,{type:e,key:e,scroll:n})}))))}var st=ut;ut.propTypes={scroll:p.a.object.isRequired,size:p.a.number.isRequired};var dt=n("q7Gj"),ft=n("re1l"),pt=n("Z+s4"),mt=n("L3zb");function bt(e){var t=e.block,n=Object(l.d)();return a.a.createElement("div",{className:"editable-block"},a.a.createElement(dt.a,null,a.a.createElement(ft.a,{addonType:"prepend"},a.a.createElement(pt.a,null,"@")),a.a.createElement(mt.a,{onChange:function(e){return n(Object(u.y)("variable",e.target.value))},value:t.getIn(["data","variable"])})))}var gt=bt;bt.propTypes={block:p.a.instanceOf(i.b).isRequired};var vt=n("AEIT"),yt=n("+z1p"),ht=n.n(yt),Et=n("KDeF");function Ot(e){var t=e.title,n=e.tooltip,r="help"+Object(w.random)(0,99999);return a.a.createElement("div",null,t,n&&a.a.createElement(a.a.Fragment,null,a.a.createElement("a",{className:"help-question",id:r},a.a.createElement(k.V,null)),a.a.createElement(Et.a,{placement:"right",target:r},n)))}var jt=Ot;function Tt(e){return function(e){if(Array.isArray(e))return xt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return xt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function St(e){var t=e.block,n=Object(l.d)(),r=Object(l.e)((function(e){return e.chatbot.getIn(["item","blocks"]).map((function(e){return e.getIn(["data","variable"],null)})).valueSeq().filter((function(e){return null!==e})).toArray().map((function(e){return{id:"@".concat(e)}}))})),o=Object(M.a)().t;return a.a.createElement("div",{className:"editable-block"},a.a.createElement(jt,{title:o("chatbot.edit.message"),tooltip:o("chatbot.edit.message-help")}),a.a.createElement(vt.CKEditor,{editor:ht.a,data:t.getIn(["data","text"]),onChange:function(e,t){n(Object(u.y)("text",t.getData()))},config:{toolbar:["bold","italic","underline","link","bulletedList","numberedList","undo","redo"],mention:{feeds:[{marker:"@",feed:function(e){return Promise.resolve([{id:"@".concat(e)}].concat(Tt(r.filter((function(t){return t.id.toLowerCase().includes(e.toLowerCase())})))))}}]}}}))}Ot.propTypes={title:p.a.string.isRequired,tooltip:p.a.string};var kt=St;St.propTypes={block:p.a.instanceOf(i.b).isRequired};var wt=n("3OM0"),It=n("BAJy");function Pt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,l=e[Symbol.iterator]();!(r=(c=l.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ct(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ct(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nt(e){var t=e.block,n=Object(l.d)(),r=Object(M.a)().t;return a.a.createElement("div",{className:"editable-block"},a.a.createElement(jt,{title:r("chatbot.edit.buttons")}),t.getIn(["data","buttons"],Object(i.a)()).map((function(e,t){return a.a.createElement(At,{key:t,index:t,button:e,dispatch:n})})),a.a.createElement("a",{onClick:function(){return n(Object(u.a)())}},"+"))}function At(e){var t=e.dispatch,n=e.button,o=e.index,c=Pt(Object(r.useState)(!1),2),l=c[0],i=c[1],s=Object(M.a)().t;return a.a.createElement("div",{className:"input-with-remove editable-block"},a.a.createElement("div",null,a.a.createElement(it.a,null,a.a.createElement(rt.a,{xs:10},a.a.createElement(mt.a,{onChange:function(e){return t(Object(u.y)("text",e.target.value,["buttons",o]))},value:n.get("text")}),a.a.createElement("a",{className:"remove-btn",onClick:function(){i(!l)}},a.a.createElement(k.n,null))),a.a.createElement(rt.a,{xs:2},a.a.createElement("a",{className:"remove-btn",onClick:function(){t(Object(u.l)(o))}},a.a.createElement(k.jb,null))))),l&&a.a.createElement(it.a,{className:"mt-1"},a.a.createElement(rt.a,{xs:3},a.a.createElement(mt.a,{onChange:function(e){var n=e.target.value;(!n||n<7&&n>0)&&t(Object(u.y)("columns",n,["buttons",o,"configs"]))},value:n.getIn(["configs","columns"])})),a.a.createElement(rt.a,{xs:9},a.a.createElement(wt.a,{className:'"d-flex checkbox-label"'},a.a.createElement(It.a,{className:"d-inline-block",type:"checkbox",checked:!!n.getIn(["configs","auth"]),onChange:function(e){t(Object(u.y)("auth",e.target.checked,["buttons",o,"configs"]))},id:"auth"+o}),s("chatbot.edit.auth-button")))))}var Rt=Nt;function Dt(e){var t=e.block,n=Object(l.d)();return a.a.createElement("div",{className:"editable-block"},a.a.createElement(dt.a,null,a.a.createElement(ft.a,{addonType:"prepend"},a.a.createElement(pt.a,null,a.a.createElement(O.p,null))),a.a.createElement(mt.a,{onChange:function(e){return n(Object(u.y)("text",e.target.value))},value:t.getIn(["data","text"])})))}Nt.propTypes={block:p.a.instanceOf(i.b).isRequired},At.propTypes={button:p.a.instanceOf(i.b).isRequired,index:p.a.number.isRequired,dispatch:p.a.func.isRequired};var _t=Dt;function Mt(e){var t=e.block,n=Object(l.d)();return a.a.createElement("div",{className:"editable-block"},a.a.createElement(dt.a,null,a.a.createElement(mt.a,{onChange:function(e){return n(Object(u.y)("text",e.target.value))},value:t.getIn(["data","text"])})))}Dt.propTypes={block:p.a.instanceOf(i.b).isRequired};var qt=Mt;function Yt(e){var t=e.block,n=Object(l.d)();return a.a.createElement("div",{className:"editable-block"},a.a.createElement(dt.a,null,a.a.createElement(ft.a,{addonType:"prepend"},a.a.createElement(pt.a,null,"#")),a.a.createElement(mt.a,{onChange:function(e){return n(Object(u.y)("text",e.target.value))},value:t.getIn(["data","text"])})))}Mt.propTypes={block:p.a.instanceOf(i.b).isRequired};var Ft=Yt;Yt.propTypes={block:p.a.instanceOf(i.b).isRequired};var Lt=n("nsn4"),Bt=n("vwsU");function Gt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,l=e[Symbol.iterator]();!(r=(c=l.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ut(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ut(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zt(Object(n),!0).forEach((function(t){Wt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kt=["GET","POST","PATCH","PUT","OPTIONS","DELETE","HEAD","JSONP"];function Xt(e){var t=e.block,n=Object(l.d)(),r=t.getIn(["data","api","method"]),o=Object(M.a)().t;return a.a.createElement("div",{className:"editable-block"},a.a.createElement(jt,{title:o("chatbot.edit.method")}),a.a.createElement("div",{className:"value-group"},a.a.createElement(Bt.a,{styles:{valueContainer:function(e){return Vt(Vt({},e),{},{paddingTop:0,paddingBottom:0})},control:function(e){return Vt(Vt({},e),{},{height:29,minHeight:"unset"})},dropdownIndicator:function(e){return Vt(Vt({},e),{},{padding:0,paddingLeft:8,paddingRight:8})}},className:"value-group-key",value:{value:r,label:r},onChange:function(e){var t=e.value;return n(Object(u.y)("method",t,["api"]))},options:Kt.map((function(e){return{value:e,label:e}}))}),a.a.createElement(mt.a,{className:"value-group-value",onChange:function(e){return n(Object(u.y)("url",e.target.value,["api"]))},placeholder:o("chatbot.edit.api-url"),value:t.getIn(["data","api","url"])})),a.a.createElement(Qt,{name:"headers",block:t}),a.a.createElement(Qt,{name:"params",block:t}),a.a.createElement(Qt,{name:"data",block:t}))}var Ht=Xt;function Qt(e){var t=e.name,n=e.block,o=Object(l.d)(),c=n.getIn(["data","api",t]),s=Object(M.a)().t,d=Gt(Object(r.useState)(!1),2),f=d[0],p=d[1];return a.a.createElement("div",null,a.a.createElement("div",{className:"api-edit-collapse",onClick:function(){return p(!f)}},s("chatbot.edit.api-"+t),a.a.createElement("span",{className:"toggler"},f?a.a.createElement(k.b,null):a.a.createElement(k.a,null))),a.a.createElement(Lt.a,{isOpen:f},c.map((function(e,n){return a.a.createElement("div",{key:n,className:"value-group"},a.a.createElement(mt.a,{className:"value-group-key",onChange:function(e){return o(Object(u.y)("key",e.target.value,["api",t,n]))},value:e.get("key")}),a.a.createElement(mt.a,{className:"value-group-value",onChange:function(e){return o(Object(u.y)("value",e.target.value,["api",t,n]))},value:e.get("value")}),a.a.createElement("a",{className:"value-group-remove",onClick:function(){return o(Object(u.y)(t,c.delete(n),["api"]))}},a.a.createElement(k.jb,null)))})),a.a.createElement("a",{className:"add-value-group",onClick:function(){return o(Object(u.y)(t,c.push(Object(i.b)({key:"",value:""})),["api"]))}},a.a.createElement(k.P,null))))}Xt.propTypes={block:p.a.instanceOf(i.b).isRequired},Qt.propTypes={block:p.a.instanceOf(i.b).isRequired,name:p.a.string.isRequired};var Jt=n("MwQV");function $t(e){return new Promise((function(t){Jt.a.call("get","/methods/departments/search",{q:e}).data((function(e){t(e.map((function(e){return{label:e.name,value:e.id}})))}))}))}var Zt=n("QDav");function en(e){var t,n=e.block,r=Object(l.d)(),o=Object(M.a)().t;return a.a.createElement("div",{className:"editable-block"},a.a.createElement(jt,{title:o("chatbot.edit.department")}),a.a.createElement(Zt.a,{cacheOptions:!0,defaultOptions:!0,loadOptions:$t,onChange:function(e){r(Object(u.y)("text",Object(i.b)(e)))},value:null===(t=n.getIn(["data","text"]))||void 0===t?void 0:t.toJS(),isClearable:!1}))}var tn=en;en.propTypes={block:p.a.instanceOf(i.b).isRequired};var nn=n("k/iu");function rn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,l=e[Symbol.iterator]();!(r=(c=l.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return an(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return an(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function an(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function on(e){var t=e.block,n=Object(l.d)(),o=Object(M.a)().t,c=t.getIn(["data","attachment"])||Object(i.b)({}),s=rn(Object(r.useState)(c.get("type")===ee.a),2),d=s[0],f=s[1],p=rn(Object(r.useState)(d?c:Object(i.b)({type:ee.a})),2),m=p[0],b=p[1],g=rn(Object(r.useState)(d?Object(i.b)({}):c),2),v=g[0],y=g[1],h=d?m:v;Object(r.useEffect)((function(){n(Object(u.y)("attachment",h))}),[h,n]);var E=Object(r.useCallback)((function(e){var t=new FormData;return t.append("file",e.target.files[0]),Jt.a.call("post","/methods/chat-bots/attachment",{},t).data((function(e){var t=Object(i.b)(e);y(t)}))}),[]),O=Object(r.useCallback)((function(e){b((function(t){return t.set("url",e.target.value)}))}),[]);return a.a.createElement("div",{className:"editable-block"},a.a.createElement(De.a,{outline:d,onClick:function(){return f(!1)},color:d?"secondary":"primary"},o("chatbot.edit.attachment-file")),a.a.createElement(De.a,{outline:!d,onClick:function(){return f(!0)},color:d?"primary":"secondary"},o("chatbot.edit.attachment-url")),d?a.a.createElement(mt.a,{onChange:O,value:h.get("url",""),placeholder:o("chatbot.edit.attachment-url-input")}):a.a.createElement("div",null,a.a.createElement(nn.a,{onChange:E,name:"customFile",label:o("chatbot.edit.attachment-file-input"),id:"attachment-file"})),c&&a.a.createElement(ee.b,{attachment:c}))}var cn=on;function ln(e){return new Promise((function(t){Jt.a.call("get","/methods/calendars/search",{q:e}).data((function(e){t(e.map((function(e){return{label:e.name,value:e.id}})))}))}))}function un(e){var t,n=e.block,r=Object(l.d)(),o=Object(M.a)().t;return a.a.createElement("div",{className:"editable-block"},a.a.createElement(jt,{title:o("chatbot.edit.calendar")}),a.a.createElement(Zt.a,{cacheOptions:!0,defaultOptions:!0,loadOptions:ln,onChange:function(e){r(Object(u.y)("text",Object(i.b)(e)))},value:null===(t=n.getIn(["data","text"]))||void 0===t?void 0:t.toJS(),isClearable:!1}))}on.propTypes={block:p.a.instanceOf(i.b).isRequired};var sn=un;un.propTypes={block:p.a.instanceOf(i.b).isRequired};var dn,fn=n("Cs6D"),pn=n("mI4U");function mn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mn(Object(n),!0).forEach((function(t){yn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,l=e[Symbol.iterator]();!(r=(c=l.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hn=(yn(dn={},1,{type:1,text:"Select",value:"value"}),yn(dn,2,{type:2,text:"Link",url:"https://example.com"}),dn);function En(e){var t,n=e.block,r=Object(l.d)(),o=Object(M.a)().t,c=n.getIn(["data","activeCard"],0),s=n.getIn(["data","cards"]),d=s.get(c),f=I.a.range(0,s.size).map((function(e){return{label:"Card#".concat(e+1),value:e}})),p=(yn(t={},1,{value:1,label:o("chatbot.edit.card-button-postback")}),yn(t,2,{value:2,label:o("chatbot.edit.card-button-url")}),t);return a.a.createElement("div",null,a.a.createElement(it.a,{className:"mb-3"},a.a.createElement(rt.a,{sm:6},a.a.createElement(fn.a,{onChange:function(e){return r(Object(u.y)("activeCard",e?e.value:0))},options:f,value:f[c]})),a.a.createElement(rt.a,{sm:3},a.a.createElement("a",{className:"add-card",onClick:function(){r(Object(u.y)("cards",s.push(Object(i.b)({title:"New card",description:"",image_id:null,buttons:Object(i.a)([])})))),r(Object(u.y)("activeCard",s.size))}},a.a.createElement(k.P,null))),s.size>1&&a.a.createElement(rt.a,{sm:3},a.a.createElement("a",{className:"remove-card",onClick:function(){r(Object(u.y)("activeCard",c&&c-1)),r(Object(u.y)("cards",s.remove(c)))}},a.a.createElement(k.jb,null)))),a.a.createElement(ge.a,null,a.a.createElement(pn.a,{id:"card_image",name:"card_image",key:"image"+c,files:[d.get("image_id")],onChange:function(e,t){var n=gn(e,1)[0],a=gn(t,1)[0],o=d.set("image_id",n).set("image",a&&Object(i.b)(a));r(Object(u.y)(c,o,["cards"]))},maxFilesCount:1,types:["image/*"]}),a.a.createElement(Re.a,null,a.a.createElement(mt.a,{onChange:function(e){return r(Object(u.y)("title",e.target.value,["cards",c]))},value:d.get("title")}),a.a.createElement(mt.a,{type:"textarea",onChange:function(e){r(Object(u.y)("description",e.target.value,["cards",c]))},value:d.get("description")}),a.a.createElement("label",{className:"mt-3"},o("chatbot.edit.card-buttons")),d.get("buttons").map((function(e,t){return a.a.createElement("div",{key:t,className:"card-button-group"},a.a.createElement(fn.a,{styles:{valueContainer:function(e){return bn(bn({},e),{},{paddingTop:0,paddingBottom:0})},control:function(e){return bn(bn({},e),{},{height:29,minHeight:"unset"})},dropdownIndicator:function(e){return bn(bn({},e),{},{padding:0,paddingLeft:8,paddingRight:8})}},className:"card-button-group-type",options:Object.values(p),value:p[e.get("type")],onChange:function(e){var n=e.value;r(Object(u.y)(t,Object(i.b)(hn[n]),["cards",c,"buttons"]))}}),a.a.createElement(mt.a,{className:"card-button-group-text",value:e.get("text"),onChange:function(e){return r(Object(u.y)("text",e.target.value,["cards",c,"buttons",t]))}}),1===e.get("type")?a.a.createElement(mt.a,{className:"card-button-group-value",value:e.get("value"),onChange:function(e){return r(Object(u.y)("value",e.target.value,["cards",c,"buttons",t]))}}):a.a.createElement(mt.a,{className:"card-button-group-value",value:e.get("url"),onChange:function(e){return r(Object(u.y)("url",e.target.value,["cards",c,"buttons",t]))}}),a.a.createElement("a",{className:"card-button-group-remove",onClick:function(){r(Object(u.y)("buttons",d.get("buttons").remove(t),["cards",c]))}},a.a.createElement(k.jb,null)))})),a.a.createElement("a",{className:"add-button",onClick:function(){r(Object(u.y)("buttons",d.get("buttons").push(Object(i.b)(hn[2])),["cards",c]))}},a.a.createElement(k.P,null)))))}var On=En;En.propTypes={block:p.a.instanceOf(i.b).isRequired};var jn=n("5f+b");function Tn(e){var t,n=e.block,r=Object(l.d)(),o=Object(M.a)().t;return a.a.createElement("div",{className:"editable-block"},a.a.createElement(jt,{title:o("chatbot.edit.campaign")}),a.a.createElement(Zt.a,{cacheOptions:!0,defaultOptions:!0,loadOptions:jn.a,onChange:function(e){r(Object(u.y)("text",Object(i.b)(e)))},value:null===(t=n.getIn(["data","text"]))||void 0===t?void 0:t.toJS(),isClearable:!1}))}var xn=Tn;Tn.propTypes={block:p.a.instanceOf(i.b).isRequired};var Sn=n("Buep");function kn(e){var t=e.value,n=e.onChange,r=e.setFieldLabel,o=Object(M.a)().t;return a.a.createElement(Sn.a,{id:"google_account_id",label:o("chatbot.google-sheets-integration.google-account"),name:"google_account_id",value:t,setFieldValue:function(e,t){n(t)},setFieldLabel:r,loadOptions:function(){return new Promise((function(e){Jt.a.call("get","/methods/google-services/search-company-google-accounts").data((function(t){e(t.map((function(e){return{label:e.email,value:e.id}})))}))}))},loadValue:function(e){return new Promise((function(t){Jt.a.call("get","/methods/google-services/company-google-accounts/".concat(e)).data((function(e){t({label:e.email,value:e.id})}))}))},errors:{}})}kn.propTypes={value:p.a.number,onChange:p.a.func.isRequired,setFieldLabel:p.a.func.isRequired};var wn=kn;function In(e){var t=e.googleAccountId,n=e.value,r=e.onChange,o=e.setFieldLabel,c=Object(M.a)().t;return a.a.createElement(Sn.a,{key:t,id:"sheet_id",label:c("chatbot.google-sheets-integration.spreadsheet"),name:"sheet_id",value:n,setFieldValue:function(e,t){r(t)},setFieldLabel:o,loadOptions:function(){return new Promise((function(e){Jt.a.call("get","/methods/google-services/sheets/".concat(t)).data((function(t){e(t.map((function(e){return{label:e.name,value:e.id}})))}))}))},loadValue:function(){return new Promise((function(e){Jt.a.call("get","/methods/google-services/sheets/".concat(t,"/spreadsheets/").concat(n,"/")).data((function(t){e({label:t.title,value:t.id})}))}))},errors:{},selectOptions:{cacheOptions:!1}})}In.propTypes={googleAccountId:p.a.number.isRequired,value:p.a.string,onChange:p.a.func.isRequired,setFieldLabel:p.a.func.isRequired};var Pn=In,Cn=n("8WGv");function Nn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,l=e[Symbol.iterator]();!(r=(c=l.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return An(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return An(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function An(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Rn(e){var t=e.googleAccountId,n=e.sheetId,o=e.value,c=e.onChange,l=Object(M.a)().t,i=Nn(Object(r.useState)([]),2),u=i[0],s=i[1];Object(r.useEffect)((function(){t&&n?Jt.a.call("get","/methods/google-services/sheets/".concat(t,"/spreadsheets/").concat(n,"/pages")).data((function(e){s(e.map((function(e){return{label:e.name,value:e.name}})))})):s([])}),[t,n]);return a.a.createElement(Cn.a,{key:"".concat(t,"-").concat(n),id:"page",label:l("chatbot.google-sheets-integration.page"),name:"page",value:o,setFieldValue:function(e,t){c(t)},options:u,errors:{}})}Rn.propTypes={googleAccountId:p.a.number.isRequired,sheetId:p.a.string.isRequired,value:p.a.string,onChange:p.a.func.isRequired};var Dn=Rn,_n=n("6Rhw");function Mn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,l=e[Symbol.iterator]();!(r=(c=l.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return qn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yn(e){var t=e.index,n=e.configItem,r=e.onChange,o=e.onRemove,c=e.columns,l=Object(M.a)().t;return a.a.createElement(ge.a,{className:"mb-3"},a.a.createElement(Re.a,null,a.a.createElement(it.a,null,a.a.createElement(rt.a,{sm:10,className:"pr-0"},a.a.createElement("div",{className:"value-group"},a.a.createElement(Cn.a,{className:"value-group-column mr-2",id:"item[".concat(t,"][columnName]"),label:l("chatbot.google-sheets-integration.table-column"),name:"item[".concat(t,"][columnName]"),value:n.get("columnName"),setFieldValue:function(e,t){r(n.set("columnName",t))},options:c,errors:{}}),a.a.createElement(_n.a,{className:"value-group-variable",id:"item[".concat(t,"][variableName]"),label:l("chatbot.google-sheets-integration.variable"),value:n.get("variableName")||"",onChange:function(e){r(n.set("variableName",e.target.value))},name:"item[".concat(t,"][variableName]")}))),a.a.createElement(rt.a,{sm:2,className:"px-1"},a.a.createElement(De.a,{type:"button",className:"btn-action",onClick:o},"-")))))}function Fn(e){var t=e.googleAccountId,n=e.sheetId,o=e.page,c=e.value,l=e.onChange,u=Mn(Object(r.useState)([]),2),s=u[0],d=u[1],f=Object(r.useCallback)((function(){l(c.push(Object(i.b)({columnName:null,variableName:null})))}),[c,l]);return Object(r.useEffect)((function(){c.size||f()}),[c,f]),Object(r.useEffect)((function(){t&&n&&o&&Jt.a.call("get","/methods/google-services/sheets/".concat(t,"/spreadsheets/").concat(n,"/columns/").concat(o)).data((function(e){d(e.map((function(e){return{label:e,value:e}})))}))}),[t,n,o]),a.a.createElement("div",null,a.a.createElement("div",null,c.map((function(e,t){var n=c.slice(0,t).map((function(e){return e.get("columnName")})).filter(Boolean),r=s.filter((function(e){return-1===n.findIndex((function(t){return t===e.value}))}));return a.a.createElement(Yn,{key:t,columns:r,onChange:function(e){l(c.set(t,e))},onRemove:function(){l(c.delete(t))},configItem:e,index:t})}))),a.a.createElement("div",null,a.a.createElement(De.a,{type:"button",className:"btn-action",onClick:f},a.a.createElement(k.P,{className:"plus-icon"}))))}Yn.propTypes={index:p.a.number.isRequired,configItem:p.a.object.isRequired,onChange:p.a.func.isRequired,onRemove:p.a.func.isRequired,columns:p.a.array.isRequired},Fn.propTypes={googleAccountId:p.a.number.isRequired,sheetId:p.a.string.isRequired,page:p.a.string.isRequired,value:p.a.object,onChange:p.a.func.isRequired};var Ln=Fn;function Bn(e){var t=e.block,n=Object(l.d)(),r=t.getIn(["data","googleSheet"]),o=r.get("googleAccountId"),c=r.get("sheetId"),s=function(e){return n(Object(u.y)("sheetId",e,["googleSheet"]))},d=r.get("page"),f=function(e){return n(Object(u.y)("page",e,["googleSheet"]))},p=r.get("variablesConfigs"),m=function(e){n(Object(u.y)("variablesConfigs",e,["googleSheet"]))},b=r.get("meta"),g=function(e){n(Object(u.y)("meta",e,["googleSheet"]))};return a.a.createElement("div",{className:"editable-block"},a.a.createElement(wn,{value:o,onChange:function(e){!function(e){n(Object(u.y)("googleAccountId",e,["googleSheet"]))}(e),s(null),f(null),m(Object(i.a)([]))},setFieldLabel:function(e){g(b.set("email",e).set("sheetName",null).set("page",null))}}),o?a.a.createElement(Pn,{googleAccountId:o,value:c,onChange:function(e){s(e),f(null),m(Object(i.a)([]))},setFieldLabel:function(e){g(b.set("sheetName",e).set("page",null))}}):null,c?a.a.createElement(Dn,{googleAccountId:o,sheetId:c,value:d,onChange:function(e){f(e),m(Object(i.a)([])),g(b.set("page",e))}}):null,d?a.a.createElement(Ln,{googleAccountId:o,sheetId:c,page:d,value:p,onChange:function(e){m(e)}}):null)}var Gn=Bn;Bn.propTypes={block:p.a.instanceOf(i.b).isRequired};var Un=n("vtrE");function zn(e){var t=e.block,n=Object(M.a)().t,r=Object(l.d)(),o=t.getIn(["data","validators"]);return a.a.createElement("div",{className:"editable-block"},a.a.createElement(Un.a,{formGroupClass:"py-0",labelClass:"editable-label",label:n("chatbot.validator-label"),errors:{},name:"validator",value:o.toJS(),setFieldValue:function(e,t){r(Object(u.y)("validators",Object(i.a)(t.length?[t.pop()]:[])))},options:[{label:"number",value:"number"},{label:"decimal",value:"decimal"},{label:"email",value:"email"},{label:"phone",value:"phone"},{label:"date",value:"date"}]}))}zn.propTypes={block:p.a.instanceOf(i.b).isRequired};var Vn=zn;function Wn(e){var t=e.block;switch(t.get("type")){case y.TYPE_QUESTION:return a.a.createElement(a.a.Fragment,null,a.a.createElement(kt,{block:t}),a.a.createElement(gt,{block:t}),a.a.createElement(Vn,{block:t}));case y.TYPE_BUTTONS:case y.TYPE_SELECT:return a.a.createElement(a.a.Fragment,null,a.a.createElement(kt,{block:t}),a.a.createElement(gt,{block:t}),a.a.createElement(Rt,{block:t}));case y.TYPE_SWITCH:return a.a.createElement(a.a.Fragment,null,a.a.createElement(gt,{block:t}),a.a.createElement(Rt,{block:t}));case y.TYPE_TRIGGER:return a.a.createElement(a.a.Fragment,null,a.a.createElement(_t,{block:t}),a.a.createElement(gt,{block:t}));case y.TYPE_TRIGGER_WORD:return a.a.createElement(a.a.Fragment,null,a.a.createElement(_t,{block:t}));case y.TYPE_SET_VARIABLE:return a.a.createElement(a.a.Fragment,null,a.a.createElement(gt,{block:t}),a.a.createElement(qt,{block:t}));case y.TYPE_TAG:return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ft,{block:t}));case y.TYPE_DEPARTMENT:return a.a.createElement(a.a.Fragment,null,a.a.createElement(tn,{block:t}));case y.TYPE_API_CONTENT:return a.a.createElement(a.a.Fragment,null,a.a.createElement(kt,{block:t}),a.a.createElement(gt,{block:t}),a.a.createElement(Ht,{block:t}),a.a.createElement(Rt,{block:t}));case y.TYPE_MESSAGE:return a.a.createElement(a.a.Fragment,null,a.a.createElement(kt,{block:t}),a.a.createElement(cn,{block:t}));case y.TYPE_CALENDAR:return a.a.createElement(a.a.Fragment,null,a.a.createElement(sn,{block:t}));case y.TYPE_CALL_OPERATOR:case y.TYPE_NOTIFICATION:return a.a.createElement(a.a.Fragment,null,a.a.createElement(kt,{block:t}));case y.TYPE_CAROUSEL:return a.a.createElement(a.a.Fragment,null,a.a.createElement(On,{block:t}));case y.TYPE_SUBSCRIBE_CAMPAIGN:return a.a.createElement(a.a.Fragment,null,a.a.createElement(xn,{block:t}));case y.TYPE_GOOGLE_SHEET:return a.a.createElement(a.a.Fragment,null,a.a.createElement(Gn,{block:t}));default:return a.a.createElement("div",null,"Not implemented view for ",t.get("type"))}}var Kn=Wn;function Xn(e){var t=e.block,n=Object(M.a)().t,r=Object(l.d)(),o=R(t.get("type"));return a.a.createElement("div",{className:"block-edit"},a.a.createElement("div",{style:{backgroundColor:o.color},className:"header"},A(t.get("type"))," ",n(o.langKey)),a.a.createElement("div",{className:"block-edit-body"},a.a.createElement(Kn,{block:t})),a.a.createElement("div",{className:"actions"},a.a.createElement(De.a,{outline:!0,color:"danger",onClick:function(){r(Object(u.g)())}},n("chatbot.actions.delete")),a.a.createElement("div",{className:"float-right",onClick:function(){r(Object(u.s)(null))}},a.a.createElement(De.a,{color:"info"},n("chatbot.actions.cancel")),a.a.createElement(De.a,{color:"primary",onClick:function(){r(Object(u.q)())}},n("chatbot.actions.save")))))}Wn.propTypes={block:p.a.instanceOf(i.b).isRequired},Xn.propTypes={block:p.a.instanceOf(i.b)};var Hn=Xn;function Qn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,l=e[Symbol.iterator]();!(r=(c=l.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Jn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $n=300;function Zn(e){var t=e.id,n=e.renderConfigure,o=Object(l.e)((function(e){return e.chatbot.getIn(["item","blocks"])}),(function(e,t){return e.size===t.size})),c=Object(l.e)((function(e){return e.chatbot.getIn(["item","anchors"])})),i=Object(l.e)((function(e){return e.chatbot.getIn(["builder","edit"])})),s=Qn(Object(r.useState)({x:0,y:0}),2),d=s[0],f=s[1],p=Qn(Object(r.useState)(!1),2),m=p[0],b=p[1];Object(r.useEffect)((function(){b(!0)}),[]);var g=Object(l.d)(),v=Object(l.e)((function(e){return e.chatbot.getIn(["builder","scale"])})),y=Object(r.useRef)(null);if(+t!==Object(l.e)((function(e){return e.chatbot.getIn(["item","id"])})))return null;var h=.5-v/200;return a.a.createElement(a.a.Fragment,null,a.a.createElement(st,{scroll:d,size:220}),a.a.createElement("div",{onScroll:function(e){"wrapper"===e.target.id&&f({y:e.target.scrollTop,x:e.target.scrollLeft})},id:"wrapper",ref:y,style:{width:"calc(100% - ".concat(220,"px)"),height:"100vh",overflow:"scroll",position:"relative",left:220}},a.a.createElement("div",{className:"builder-field",style:{position:"absolute",height:9e3,width:9e3,transform:"scale(".concat(v/100,")"),marginLeft:-9e3*h,marginTop:-9e3*h}},a.a.createElement("div",{style:{width:"100%",height:"100%",position:"relative"}},c.map((function(e,t){return a.a.createElement(Qe,{scroll:d,key:t,from:e.get("source"),to:e.get("target")})})).toIndexedSeq(),a.a.createElement($e,{scroll:d}),a.a.createElement("div",{onMouseDown:function(){return g(Object(u.r)(!1))},style:{position:"absolute",top:0,left:0,bottom:0,right:0}}),o.map((function(e,t){return a.a.createElement(ze,{key:t,index:t})})).toIndexedSeq(),i&&a.a.createElement("div",{className:"edit-bgdrop"})))),i&&a.a.createElement(Hn,{block:i}),m&&a.a.createElement(et,{size:9e3,scroll:d,wrapper:y}),m&&n())}Zn.propTypes={id:p.a.any.isRequired,renderConfigure:p.a.func.isRequired}},l4pp:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("L3zb"),c=n("/MKj"),l=n("DMen"),i=function(){var e=Object(c.d)(),t=Object(c.e)((function(e){return e.chatbot.getIn(["item","name"])}));return a.a.createElement(o.a,{onChange:function(t){return e(Object(l.t)(t.target.value))},value:t})};i.propTypes={},t.a=i},mI4U:function(e,t,n){"use strict";n.d(t,"b",(function(){return k}));var r=n("o0o1"),a=n.n(r),o=n("q1tI"),c=n.n(o),l=n("17x9"),i=n.n(l),u=n("yzbm"),s=n("MwQV"),d=n("bNQv"),f=n.n(d),p=n("mNz5"),m=n.n(p),b=n("ma3e");function g(e){var t=e.onDelete,n=e.url,r=e.imageLoaded;return c.a.createElement("div",{className:"image-preview position-relative mt-4"},c.a.createElement("button",{type:"button",onClick:t,className:"btn btn-link no-shadow position-absolute image-preview-close-btn py-0 px-1 text-dec-none"},c.a.createElement(b.ib,{className:"color-red position-relative"})),c.a.createElement("img",{src:n,alt:"",className:"img-fluid",style:{filter:r?"none":"grayscale(0.7)"}}))}g.propTypes={imageLoaded:i.a.bool,onDelete:i.a.func.isRequired,url:i.a.string.isRequired};var v=n("TSYQ"),y=n.n(v),h=n("9Koi"),E=n("P2Na");function O(e){return new Promise((function(t){var n=new FileReader;n.onloadend=function(){t(n.result)},n.readAsDataURL(e)}))}function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function T(e,t,n,r,a,o,c){try{var l=e[o](c),i=l.value}catch(e){return void n(e)}l.done?t(i):Promise.resolve(i).then(r,a)}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,l=e[Symbol.iterator]();!(r=(c=l.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e){function t(t){var n=t.maxFilesCount,r=t.files,l=t.onChange,i=x(Object(o.useState)([]),2),u=i[0],d=i[1];Object(o.useEffect)((function(){f()(r,(function(e){s.a.call("get","/methods/image/".concat(e)).then((function(t){d((function(n){var r=n.slice();return r.push({id:e,internalId:e,url:t.data}),r}))}))}))}),[]);var p=function(e){d((function(t){var n=t.filter((function(t){return t.internalId!==e}));return setTimeout((function(){return l(n.map((function(e){return e.id})),n)}),0),n}))},b=Object(o.useCallback)((function(e,t){d((function(r){var a=r.slice();return a.unshift({id:null,internalId:e,url:t}),n?a.slice(0,n):a}))}),[d,n]);return c.a.createElement(e,j({},t,{handleAddFile:function(e){var t=e.map(function(){var e,t=(e=a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=m()(),e.next=3,O(t);case 3:return r=e.sent,b(n,r),e.abrupt("return",new Promise((function(e){Object(E.a)(t).then((function(t){d((function(a){var o=a.slice(),c=o.findIndex((function(e){return e.internalId===n}));return-1!==c&&(o[c]={id:t.data.id,internalId:n,url:r}),e(u),o}))})).validation((function(){p(n),e(u)})).catch((function(){p(n),e(u)}))})));case 6:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){T(o,r,a,c,l,"next",e)}function l(e){T(o,r,a,c,l,"throw",e)}c(void 0)}))});return function(e){return t.apply(this,arguments)}}());Promise.all(t).then((function(){d((function(e){return setTimeout((function(){return l(e.map((function(e){return e.id})),e)}),0),n?e.slice(0,n):e}))}))},deleteImage:p,loadedImages:u}))}return t.propTypes={maxFilesCount:i.a.number,files:i.a.array,onChange:i.a.func.isRequired},t}function w(e){var t=e.types,n=e.maxFilesCount,r=e.handleAddFile,a=e.loadedImages,o=e.deleteImage,l=Object(h.a)().t;return c.a.createElement("div",null,c.a.createElement(u.a,{onDrop:r,accept:t.length?t:null},(function(e){var t=e.getRootProps,r=e.getInputProps;return c.a.createElement("section",{className:y()("dropzone-class",{disabled:!!n&&n===a.length})},c.a.createElement("div",j({},t(),{className:"load-img d-flex justify-content-center flex-column align-items-center p-3"}),c.a.createElement("input",j({},r(),{multiple:!1})),c.a.createElement(b.c,{className:"icon-size-40 color-gray"}),c.a.createElement("div",{className:"load-img-tip mt-3 text-center"},l("common.drag-and-drop"))))})),c.a.createElement("div",null,a.map((function(e){return c.a.createElement(g,{key:e.internalId,url:e.url,imageLoaded:!!e.id,onDelete:function(){return o(e.internalId)}})}))))}w.propTypes={types:i.a.array,maxFilesCount:i.a.number,handleAddFile:i.a.func.isRequired,loadedImages:i.a.array,deleteImage:i.a.func.isRequired};t.a=k(w)},"mt+J":function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var r=n("q1tI"),a=n.n(r),o=n("17x9"),c=n.n(o),l=n("ma3e"),i=n("sOKU"),u=n("DCcX"),s=n("vkoW"),d=n("CaDr"),f=n("ok1R"),p=n("rhny"),m=n("MwQV"),b=n("c8c+"),g=n("Mpt7"),v=n("q9PT"),y=n("QDav"),h=n("ebzC"),E=n("9Koi");function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,l=e[Symbol.iterator]();!(r=(c=l.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k={container:function(e){return x(x({},e),{},{border:"1px solid #ced4da",display:"inline-block",width:"100%",borderRadius:"5px",minHeight:"35px"})},control:function(e){return x(x({},e),{},{border:"none",minHeight:"35px","&, &:hover":{border:"none",boxShadow:"none"},background:"transparent"})},singleValue:function(e){return x(x({},e),{},{margin:"0",font:"normal normal 15px/17px 'Roboto Regular', sans-serif",top:"45%"})},valueContainer:function(e){return x(x({},e),{},{padding:"2px 0 2px 8px",width:"130px"})},indicatorsContainer:function(e){return x(x({},e),{},{"& > div":{padding:"8px 4px 8px 0"},top:"-3px",paddingLeft:"6px",alignItems:"baseline"})},indicatorSeparator:function(e){return x(x({},e),{},{display:"none"})},placeholder:function(e){return x(x({},e),{},{font:"normal normal 15px/18px 'Roboto Regular', sans-serif",color:"#B0B0B0"})},option:function(e){return x(x({},e),{},{font:"normal normal 15px/17px 'Roboto Regular', sans-serif","&:hover, &:focus, &:active":{font:"normal normal 15px/17px 'Roboto Regular', sans-serif"}})}};function w(e){var t,n=e.close,o=e.selectTemplate,c=e.onShowPreview,i=e.name,j=e.setName,T=e.tags,x=e.setTags,S=Object(E.a)().t,w=O(Object(r.useState)([]),2),I=w[0],P=w[1],C=O(Object(r.useState)(null),2),N=C[0],A=C[1],R=Object(r.useRef)(),D=Object(r.useCallback)((function(e){var t={page:1,perPage:8};e.size&&(t.filter=Object(b.a)(e)),m.a.call("get","/methods/templates",t,{}).data((function(e){P(e.data.map(v.a.instantiate))})).catch((function(e){var t=e.response;A(t.data)}))}),[]);return Object(r.useEffect)((function(){R.current&&clearTimeout(R.current),R.current=setTimeout((function(){var e=Object(g.a)([]);i&&(e=e.push(Object(g.b)({column:"templates.name",operator:"like",value:i}))),T.size&&(e=e.push(Object(g.b)({column:"scopeTemplateTagsWhere",operator:"scope",value:T.map((function(e){return e.value})).toJS()}))),D(e)}),300)}),[R,D,i,T]),t=N?a.a.createElement("div",null,S("templates.load-template-modal.error-message")):I?a.a.createElement("table",{className:"table table-bordered table-hover align-middle"},a.a.createElement("tbody",null,I.map((function(e){return a.a.createElement("tr",{key:e.id},a.a.createElement("td",{className:"p-0",width:20},e.imageUrl?a.a.createElement("img",{src:e.imageUrl,alt:e.name,className:"img-fluid",style:{height:40}}):a.a.createElement("div",{style:{width:40,height:40,background:"#cecece"}})),a.a.createElement("td",{className:"p-1 align-middle"},e.name),a.a.createElement("td",{className:"text-center p-1"},a.a.createElement("button",{title:S("templates.load-template-modal.preview-btn"),className:"btn-unstyled p-1",type:"button",onClick:function(){return c(e)}},a.a.createElement(l.w,null))),a.a.createElement("td",{className:"text-center p-1"},a.a.createElement("button",{title:S("templates.load-template-modal.upload-btn"),className:"btn-unstyled p-1",type:"button",onClick:function(){o(e)}},a.a.createElement(l.nb,null))))})))):null,a.a.createElement(u.a,{isOpen:!0,size:"lg",onClose:n},a.a.createElement(s.a,{toggle:n},a.a.createElement(l.nb,null)," ",S("templates.load-template-modal.title")),a.a.createElement(d.a,null,a.a.createElement(f.a,null,a.a.createElement(p.a,{sm:4},a.a.createElement(y.a,{styles:k,cacheOptions:!0,defaultOptions:!0,loadOptions:h.a,onChange:function(e){x(Object(g.a)(e))},value:T.toJS(),isMulti:!0,placeholder:""})),a.a.createElement(p.a,{sm:8},a.a.createElement("div",{className:"mb-2"},a.a.createElement("input",{type:"text",className:"form-control",value:i,onChange:function(e){j(e.target.value)}})),t))))}w.propTypes={close:c.a.func.isRequired,onShowPreview:c.a.func.isRequired,selectTemplate:c.a.func.isRequired,name:c.a.string,setName:c.a.func.isRequired,tags:c.a.object,setTags:c.a.func.isRequired};var I=n("/Zzm");function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,l=e[Symbol.iterator]();!(r=(c=l.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N(e){var t=e.onTemplateSelected,n=e.renderAlternativeButton,o=Object(E.a)().t,c=P(Object(r.useState)(!1),2),u=c[0],s=c[1],d=P(Object(r.useState)(null),2),f=d[0],p=d[1],m=P(Object(r.useState)(""),2),b=m[0],v=m[1],y=P(Object(r.useState)(Object(g.a)([])),2),h=y[0],O=y[1],j=Object(r.useCallback)((function(){s(!0)}),[]),T=Object(r.useCallback)((function(){s(!1),p(null),v(""),O(Object(g.a)([]))}),[]),x=Object(r.useCallback)((function(e){s(!1),t(e)}),[t]),S=Object(r.useCallback)((function(){s(!0),p(null)}),[]),k=Object(r.useCallback)((function(e){s(!1),p(e.chat_bot_id)}),[]);return a.a.createElement(a.a.Fragment,null,u?a.a.createElement(w,{close:T,selectTemplate:x,onShowPreview:k,name:b,setName:v,tags:h,setTags:O}):null,f&&a.a.createElement(I.a,{close:S,chatBotId:f}),n?n(j):a.a.createElement(i.a,{onClick:j,color:"warning",title:o("chatbot.load-from-template")},a.a.createElement(l.nb,null)))}N.propTypes={onTemplateSelected:c.a.func.isRequired,renderAlternativeButton:c.a.func}},n7jJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("q1tI"),a=n.n(r),o=n("17x9"),c=n.n(o),l=n("bFnZ"),i=n.n(l);function u(e){var t=e.show,n=e.text,r=e.onConfirm,o=e.type,c=void 0===o?"success":o;return a.a.createElement(i.a,{title:"",show:t,onConfirm:r,type:c},n)}u.propTypes={onConfirm:c.a.func.isRequired,show:c.a.bool.isRequired,text:c.a.string.isRequired,type:c.a.string}},pzsr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return s.default}}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==m(e)&&"function"!=typeof e)return{default:e};var t=p();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n("q1tI")),a=f(n("17x9")),o=f(n("i8i4")),c=f(n("TSYQ")),l=n("8N4D"),i=n("fJi3"),u=n("gbW8"),s=f(n("R155")),d=f(n("sS6v"));function f(e){return e&&e.__esModule?e:{default:e}}function p(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return p=function(){return e},e}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,l=e[Symbol.iterator]();!(r=(c=l.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t,n){return t&&O(e.prototype,t),n&&O(e,n),e}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var a=w(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return S(this,n)}}function S(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?k(e):t}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(n,e);var t=x(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),I(k(r=t.call(this,e)),"onDragStart",(function(e,t){if((0,d.default)("Draggable: onDragStart: %j",t),!1===r.props.onStart(e,(0,i.createDraggableData)(k(r),t)))return!1;r.setState({dragging:!0,dragged:!0})})),I(k(r),"onDrag",(function(e,t){if(!r.state.dragging)return!1;(0,d.default)("Draggable: onDrag: %j",t);var n=(0,i.createDraggableData)(k(r),t),a={x:n.x,y:n.y};if(r.props.bounds){var o=a.x,c=a.y;a.x+=r.state.slackX,a.y+=r.state.slackY;var l=v((0,i.getBoundPosition)(k(r),a.x,a.y),2),u=l[0],s=l[1];a.x=u,a.y=s,a.slackX=r.state.slackX+(o-a.x),a.slackY=r.state.slackY+(c-a.y),n.x=a.x,n.y=a.y,n.deltaX=a.x-r.state.x,n.deltaY=a.y-r.state.y}if(!1===r.props.onDrag(e,n))return!1;r.setState(a)})),I(k(r),"onDragStop",(function(e,t){if(!r.state.dragging)return!1;if(!1===r.props.onStop(e,(0,i.createDraggableData)(k(r),t)))return!1;(0,d.default)("Draggable: onDragStop: %j",t);var n={dragging:!1,slackX:0,slackY:0};if(Boolean(r.props.position)){var a=r.props.position,o=a.x,c=a.y;n.x=o,n.y=c}r.setState(n)})),r.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:E({},e.position),slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),r}return j(n,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.position,r=t.prevPropsPosition;return!n||r&&n.x===r.x&&n.y===r.y?null:((0,d.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:r}),{x:n.x,y:n.y,prevPropsPosition:E({},n)})}}]),j(n,[{key:"componentDidMount",value:function(){void 0!==window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){return this.props.nodeRef?this.props.nodeRef.current:o.default.findDOMNode(this)}},{key:"render",value:function(){var e,t=this.props,n=(t.axis,t.bounds,t.children),a=t.defaultPosition,o=t.defaultClassName,u=t.defaultClassNameDragging,d=t.defaultClassNameDragged,f=t.position,p=t.positionOffset,m=(t.scale,g(t,["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"])),v={},y=null,h=!Boolean(f)||this.state.dragging,O=f||a,j={x:(0,i.canDragX)(this)&&h?this.state.x:O.x,y:(0,i.canDragY)(this)&&h?this.state.y:O.y};this.state.isElementSVG?y=(0,l.createSVGTransform)(j,p):v=(0,l.createCSSTransform)(j,p);var T=(0,c.default)(n.props.className||"",o,(I(e={},u,this.state.dragging),I(e,d,this.state.dragged),e));return r.createElement(s.default,b({},m,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),r.cloneElement(r.Children.only(n),{className:T,style:E(E({},n.props.style),v),transform:y}))}}]),n}(r.Component);t.default=P,I(P,"displayName","Draggable"),I(P,"propTypes",E(E({},s.default.propTypes),{},{axis:a.default.oneOf(["both","x","y","none"]),bounds:a.default.oneOfType([a.default.shape({left:a.default.number,right:a.default.number,top:a.default.number,bottom:a.default.number}),a.default.string,a.default.oneOf([!1])]),defaultClassName:a.default.string,defaultClassNameDragging:a.default.string,defaultClassNameDragged:a.default.string,defaultPosition:a.default.shape({x:a.default.number,y:a.default.number}),positionOffset:a.default.shape({x:a.default.oneOfType([a.default.number,a.default.string]),y:a.default.oneOfType([a.default.number,a.default.string])}),position:a.default.shape({x:a.default.number,y:a.default.number}),className:u.dontSetMe,style:u.dontSetMe,transform:u.dontSetMe})),I(P,"defaultProps",E(E({},s.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null,scale:1}))},q7Gj:function(e,t,n){"use strict";var r=n("wx14"),a=n("zLVn"),o=n("q1tI"),c=n.n(o),l=n("17x9"),i=n.n(l),u=n("TSYQ"),s=n.n(u),d=n("33Jr"),f={tag:d.q,size:i.a.string,className:i.a.string,cssModule:i.a.object},p=function(e){var t=e.className,n=e.cssModule,o=e.tag,l=e.size,i=Object(a.a)(e,["className","cssModule","tag","size"]),u=Object(d.m)(s()(t,"input-group",l?"input-group-"+l:null),n);return c.a.createElement(o,Object(r.a)({},i,{className:u}))};p.propTypes=f,p.defaultProps={tag:"div"},t.a=p},rVTC:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,'.non-select {\n  user-select: none !important;\n  -webkit-user-select: none !important;\n  -moz-user-select: none !important;\n}\n\n.builder-field {\n  background-image: url("/img/grid.png");\n}\n\n.block {\n  background-color: #fff;\n  position: absolute;\n  width: 220px;\n  border-radius: 5px;\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.15);\n}\n.block.react-draggable-dragging {\n  z-index: 5 !important;\n}\n.block.selected {\n  box-shadow: 0 0 5px #5555e2;\n}\n.block .header {\n  cursor: pointer;\n  padding: 7px 14px;\n  background-color: #EDF2F6;\n  border-radius: 5px 5px 0 0;\n  color: black;\n  font-weight: bold;\n  font-size: 15px;\n}\n.block .header .context-menu {\n  color: #728CA3;\n  float: right;\n}\n.block .block-content {\n  padding: 10px;\n}\n.block .block-content .message {\n  color: #668AAA;\n}\n.block .block-content .message p {\n  padding-bottom: 0;\n}\n.block .block-content .api {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  color: #668AAA;\n}\n.block .block-content .api .api-method {\n  color: #AFAFAF;\n  margin-right: 10px;\n}\n.block .block-content .variable .variable-name {\n  font-style: italic;\n  color: #0abfe0;\n}\n.block .block-content var {\n  color: #0abfe0;\n}\n.block .block-button {\n  margin: 10px 13px;\n  background-color: #F5F5F5;\n  color: #668AAA;\n  padding: 6px 10px;\n}\n.block .block-button[connected=connected-right] .connect-right {\n  transition: none;\n  opacity: 1;\n  right: -24px;\n}\n.block .block-button[connected=connected-left] .connect-left {\n  transition: none;\n  opacity: 1;\n  left: -24px;\n}\n.block .block-button .connect {\n  border: 2px solid #fff;\n  width: 17px;\n  height: 17px;\n  background-size: 13px 13px;\n}\n.block .block-button .connect.connect-right {\n  top: calc(50% - 9px);\n}\n.block .block-button .connect.connect-left {\n  top: calc(50% - 9px);\n}\n.block .carousel.slide .card {\n  height: 180px;\n  overflow-y: scroll;\n}\n.block .carousel-control-next {\n  right: -15px;\n}\n.block .carousel-control-prev {\n  left: -15px;\n}\n.block .carousel-control-prev span, .block .carousel-control-next span {\n  background-color: rgba(0, 0, 0, 0.55);\n  border-radius: 50%;\n  padding: 10px;\n  background-size: 50%;\n}\n\n.connectable {\n  position: relative;\n}\n\n.connect {\n  z-index: 6;\n  opacity: 0;\n  background-color: transparent;\n  border-radius: 50%;\n  position: absolute;\n  cursor: pointer;\n  background-image: url("/img/eclipse.svg");\n  background-repeat: no-repeat;\n  background-position: center;\n  width: 38px;\n  height: 38px;\n  transition: 0.5s ease;\n}\n.connect.connect-top {\n  z-index: 4;\n  right: calc(50% - 20px);\n  top: -18px;\n}\n.connect.connect-right {\n  right: -18px;\n  top: calc(50% - 18px);\n}\n.connect.connect-bottom {\n  right: calc(50% - 20px);\n  bottom: -18px;\n}\n.connect.connect-left {\n  left: -18px;\n  top: calc(50% - 18px);\n}\n\n.connectable:hover > .connect, .connecting, .connect:hover {\n  opacity: 1;\n}\n.connectable:hover > .connect.connect-top, .connecting.connect-top, .connect:hover.connect-top {\n  top: -24px;\n}\n.connectable:hover > .connect.connect-right, .connecting.connect-right, .connect:hover.connect-right {\n  right: -24px;\n}\n.connectable:hover > .connect.connect-bottom, .connecting.connect-bottom, .connect:hover.connect-bottom {\n  bottom: -24px;\n}\n.connectable:hover > .connect.connect-left, .connecting.connect-left, .connect:hover.connect-left {\n  left: -24px;\n}\n\n.connect-content {\n  z-index: 5;\n  position: relative;\n}\n\n.configure {\n  background-color: rgba(0, 0, 0, 0.5);\n  padding: 5px;\n  position: fixed;\n  top: 20px;\n  right: 20px;\n}\n.configure .btn-success {\n  margin-right: 10px;\n}\n.configure .form-control {\n  width: 200px;\n  margin-right: 10px;\n  display: inline-block;\n}\n.configure .template-image-btn {\n  border: none;\n  background: none;\n  padding: 0;\n}\n\n.minimap {\n  background-color: rgba(0, 0, 0, 0.5);\n  position: fixed;\n  bottom: 20px;\n  right: 20px;\n}\n.minimap .buttons {\n  width: 220px;\n}\n.minimap .buttons .btn {\n  margin: 5px;\n}\n.minimap .buttons .counter {\n  color: #ffffff;\n}\n\n.panel {\n  background-color: #FBFDFE;\n  height: 100%;\n  position: absolute;\n  padding: 10px;\n  border: 1px solid #EEEEEE;\n  box-shadow: 0 0 5px rgba(0, 0, 0, 0.06);\n}\n.panel .panel-header {\n  padding: 20px 0;\n  font-style: italic;\n  font-size: 17px;\n}\n.panel .create-btn {\n  margin: 6px 0;\n  padding: 5px 0 0 20px;\n}\n.panel .create-btn .color-label {\n  width: 6px;\n  top: 0;\n  bottom: 0;\n  position: absolute;\n  left: 0;\n}\n.panel .create-btn .drag-element {\n  color: #c2c2c2;\n}\n.panel .block-creation .plus-icon {\n  position: absolute;\n  top: -10px;\n  left: -16px;\n  font-size: 14px;\n}\n\n.remove-anchor {\n  position: absolute;\n  z-index: 1;\n  background-color: white;\n  border: 1px solid #94B3CB;\n  border-radius: 50%;\n  width: 20px;\n  height: 20px;\n  padding: 2px;\n  color: #94B3CB;\n  font-size: 10px;\n}\n\n.block-edit {\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  justify-content: space-between;\n  background-color: white;\n  z-index: 500;\n  width: 350px;\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  padding: 20px 20px;\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.25);\n}\n.block-edit .header {\n  margin: -20px -20px 20px -20px;\n  padding: 15px;\n}\n.block-edit .block-edit-body {\n  height: 100%;\n  position: relative;\n  overflow-x: hidden;\n  overflow-y: scroll;\n  scrollbar-width: none;\n}\n.block-edit .actions {\n  padding-top: 20px;\n}\n.block-edit .actions .btn {\n  margin-right: 10px;\n}\n.block-edit .api-edit-collapse {\n  padding: 8px 0;\n  border-bottom: 1px solid #cccccc;\n  margin-bottom: 10px;\n}\n.block-edit .api-edit-collapse .toggler {\n  float: right;\n  font-size: 18px;\n}\n.block-edit .value-group {\n  position: relative;\n}\n.block-edit .value-group .value-group-key,\n.block-edit .value-group .value-group-value {\n  margin-bottom: 10px;\n  font-size: 10px;\n  display: inline-block;\n}\n.block-edit .value-group .value-group-key {\n  margin-right: 10px;\n  width: 100px;\n}\n.block-edit .value-group .value-group-value {\n  width: 185px;\n}\n.block-edit .value-group .value-group-remove {\n  position: absolute;\n  top: 5px;\n  font-size: 12px;\n  right: 8px;\n}\n.block-edit .value-group .value-group-column, .block-edit .value-group .value-group-variable {\n  width: 102px;\n  display: inline-block;\n  margin-bottom: 10px;\n  font-size: 10px;\n  vertical-align: middle;\n}\n.block-edit .add-value-group {\n  display: block;\n  margin-top: 15px;\n}\n.block-edit .card-button-group {\n  position: relative;\n}\n.block-edit .card-button-group .card-button-group-type,\n.block-edit .card-button-group .card-button-group-text,\n.block-edit .card-button-group .card-button-group-value {\n  display: inline-block;\n  font-size: 10px;\n  margin-bottom: 5px;\n  margin-top: 5px;\n}\n.block-edit .card-button-group .card-button-group-type {\n  width: 75px;\n  margin-right: 5px;\n}\n.block-edit .card-button-group .card-button-group-text {\n  width: 75px;\n  margin-right: 5px;\n}\n.block-edit .card-button-group .card-button-group-value {\n  width: 105px;\n}\n.block-edit .card-button-group .card-button-group-remove {\n  top: 9px;\n  right: -11px;\n  font-size: 11px;\n  position: absolute;\n}\n.block-edit .plus-icon {\n  width: 10px;\n}\n.block-edit .btn-action {\n  width: 34px;\n  height: 34px;\n}\n\n.edit-bgdrop {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(255, 255, 255, 0.5);\n}\n\n.editable-block {\n  margin-bottom: 20px;\n  margin-right: 8px;\n}\n.editable-block .editable-label {\n  font-family: "Roboto Regular", Arial, sans-serif;\n  font-size: 16px;\n  line-height: 24px;\n  font-weight: 400;\n}\n\n.help-question {\n  margin-left: 10px;\n}\n\n.input-with-remove {\n  position: relative;\n}\n.input-with-remove .remove-btn {\n  position: absolute;\n  right: 30px;\n  top: 5px;\n}\n.input-with-remove input {\n  padding-right: 30px;\n}',""])},re1l:function(e,t,n){"use strict";var r=n("wx14"),a=n("zLVn"),o=n("q1tI"),c=n.n(o),l=n("17x9"),i=n.n(l),u=n("TSYQ"),s=n.n(u),d=n("33Jr"),f=n("Z+s4"),p={tag:d.q,addonType:i.a.oneOf(["prepend","append"]).isRequired,children:i.a.node,className:i.a.string,cssModule:i.a.object},m=function(e){var t=e.className,n=e.cssModule,o=e.tag,l=e.addonType,i=e.children,u=Object(a.a)(e,["className","cssModule","tag","addonType","children"]),p=Object(d.m)(s()(t,"input-group-"+l),n);return"string"==typeof i?c.a.createElement(o,Object(r.a)({},u,{className:p}),c.a.createElement(f.a,{children:i})):c.a.createElement(o,Object(r.a)({},u,{className:p,children:i}))};m.propTypes=p,m.defaultProps={tag:"div"},t.a=m},sS6v:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){void 0}},vs2M:function(e,t,n){var r=n("rVTC");"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(r,a);r.locals&&(e.exports=r.locals)},vtrE:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("q1tI"),a=n.n(r),o=n("17x9"),c=n.n(o),l=n("sPdi"),i=n("jrRI"),u=n("3OM0"),s=n("BAJy"),d=n("TSYQ"),f=n.n(d);function p(e){var t,n,r=e.label,o=e.errors,c=e.name,d=e.setFieldValue,p=e.value,m=e.options,b=e.labelListClass,g=e.labelClass,v=e.formGroupClass;return a.a.createElement(i.a,{className:f()(v)},a.a.createElement(u.a,{className:f()("d-flex checkbox-label",g)},r),a.a.createElement("div",{className:f()({"is-invalid":!!(null===(t=o[c])||void 0===t?void 0:t.length)})},m.map((function(e){var t,n=p.includes(e.value);return a.a.createElement(u.a,{key:e.value,htmlFor:e.value,className:f()("d-flex",b)},a.a.createElement(s.a,{id:e.value,name:"".concat(c,"[").concat(e.value,"]"),type:"checkbox",checked:n,onChange:function(){if(n)d(c,p.filter((function(t){return t!==e.value})));else{var t=p.slice();t.push(e.value),d(c,t)}},invalid:!!(null===(t=o[c])||void 0===t?void 0:t.length)}),a.a.createElement("span",null,e.label))}))),(null===(n=o[c])||void 0===n?void 0:n.length)?a.a.createElement(l.a,{errors:o[c]}):null)}p.propTypes={options:c.a.array.isRequired,errors:c.a.object.isRequired,id:c.a.oneOfType([c.a.string,c.a.number]),label:c.a.any,name:c.a.string.isRequired,setFieldValue:c.a.func.isRequired,value:c.a.array.isRequired,formGroupClass:c.a.string,labelClass:c.a.string,labelListClass:c.a.string}},xilt:function(e,t,n){"use strict";n("q1tI"),n("qKvR"),n("i8i4"),n("17x9");var r=n("njTy"),a=(n("iYmT"),n("FUBA"),n("1m/E")),o=n("QDav"),c=n("vwsU"),l=Object(c.b)(r.a),i=Object(a.a)(l),u=Object(o.b)(i);t.a=u},zwA0:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("q1tI"),a=n.n(r),o=n("9Koi");function c(){var e=Object(o.a)().t;return a.a.createElement("div",null,e("common.site-error-message"))}}}]);