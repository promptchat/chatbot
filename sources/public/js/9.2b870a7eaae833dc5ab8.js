(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"/kxI":function(e,t,n){"use strict";var a=n("wx14"),r=n("zLVn"),i=n("q1tI"),o=n.n(i),l=n("17x9"),c=n.n(l),u=n("TSYQ"),s=n.n(u),m=n("33Jr"),f={tag:m.q,className:c.a.string,cssModule:c.a.object,innerRef:c.a.oneOfType([c.a.object,c.a.string,c.a.func])},d=function(e){var t=e.className,n=e.cssModule,i=e.innerRef,l=e.tag,c=Object(r.a)(e,["className","cssModule","innerRef","tag"]),u=Object(m.m)(s()(t,"card-body"),n);return o.a.createElement(l,Object(a.a)({},c,{className:u,ref:i}))};d.propTypes=f,d.defaultProps={tag:"div"},t.a=d},"19iC":function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return m}));var a=n("rpa7"),r=n("J3gs"),i=n("YOdH"),o=n("gmZo"),l=n("q1tI");function c(){return function(e){return!e||e.is_am_pm?"hh:mm a":"HH:mm"}(Object(a.a)())}function u(){var e=Object(i.a)(),t=c();return Object(l.useCallback)((function(n){return Object(o.a)(1e3*n).tz(e).format(t)}),[t,e])}function s(){var e=Object(r.a)();return c()+" "+e}function m(){var e=Object(i.a)(),t=s();return Object(l.useCallback)((function(n){return Object(o.a)(1e3*n).tz(e).format(t)}),[t,e])}},"6jMY":function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));var a=n("MwQV");function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){return new Promise((function(n){var r={q:t};if(e&&Array.isArray(e)&&e.length)for(var i in e)r["type[".concat(i,"]")]=e[i];else e&&(r.type=e);a.a.call("get","/methods/integrations/search",r).data((function(e){n(e.map((function(e){return{label:e.name,value:e.id,integration:e}})))}))}))}}var i=r();t.a=i},"6ukn":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("MwQV");function r(e){return new Promise((function(t){a.a.call("get","/methods/tags/search-company-tags",{q:e}).data((function(e){t(e.map((function(e){return{label:e.name,value:e.id}})))}))}))}},"9Wsk":function(e,t,n){"use strict";var a=n("4Jst"),r=n("q1tI"),i=n("2k+j"),o=n("wBLH"),l=n("HhE6"),c=n("vfse"),u=(n("yUKz"),n("cO97"),n("SKuE"),n("/ouT"),n("g/0L"),n("9IRi"),n("ROju"),n("EPfG"),n("5KkY"),n("qEaO"),n("X4k0"),n("i8i4"),n("y74/"),Object(r.forwardRef)((function(e,t){var n=Object(o.a)(e),u=Object(l.a)(n),s=Object(c.a)(u);return r.createElement(i.a,Object(a.a)({ref:t},s))})));t.a=u},"9qca":function(e,t,n){"use strict";var a=n("q1tI"),r=n.n(a),i=n("17x9"),o=n.n(i),l=n("FrZM"),c=n("sOKU"),u=n("L3zb"),s=n("k/iu"),m=n("9Koi"),f=n("Mpt7"),d=n("MwQV");function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function g(e){var t=e.attachment,n=e.handleChange,i=Object(m.a)().t,o=b(Object(a.useState)(!!t&&t.get("type")===l.a),2),p=o[0],g=o[1];return r.a.createElement("div",{className:"limiter form-group 3"},r.a.createElement("div",null,r.a.createElement(c.a,{className:"mr-2 mb-4 px-sm-5 px-4",outline:p,onClick:function(){return g(!1)},color:p?"secondary":"primary"},i("chatbot.edit.attachment-file")),r.a.createElement(c.a,{className:"mr-2 mb-4 px-sm-5 px-4",outline:!p,onClick:function(){return g(!0)},color:p?"primary":"secondary"},i("chatbot.edit.attachment-url"))),r.a.createElement("div",{className:"mb-4"},p?r.a.createElement(u.a,{onChange:function(e){var t=Object(f.b)({type:l.a,url:e.target.value});n(t)},defaultValue:t?t.get("url",""):"",placeholder:i("chatbot.edit.attachment-url-input")}):r.a.createElement("div",null,r.a.createElement(s.a,{onChange:function(e){var t=new FormData;return t.append("file",e.target.files[0]),d.a.call("post","/methods/chat-bots/attachment",{},t).data((function(e){n(Object(f.b)(e))}))},name:"customFile",label:i("chatbot.edit.attachment-file-input"),id:"attachment-file"}))),r.a.createElement("div",null,t?r.a.createElement(l.b,{attachment:t}):null))}g.propTypes={attachment:o.a.instanceOf(f.b),handleChange:o.a.func.isRequired},t.a=g},BLzl:function(e,t,n){"use strict";var a=n("wx14"),r=n("zLVn"),i=n("q1tI"),o=n.n(i),l=n("17x9"),c=n.n(l),u=n("TSYQ"),s=n.n(u),m=n("33Jr"),f={tag:m.q,inverse:c.a.bool,color:c.a.string,body:c.a.bool,outline:c.a.bool,className:c.a.string,cssModule:c.a.object,innerRef:c.a.oneOfType([c.a.object,c.a.string,c.a.func])},d=function(e){var t=e.className,n=e.cssModule,i=e.color,l=e.body,c=e.inverse,u=e.outline,f=e.tag,d=e.innerRef,b=Object(r.a)(e,["className","cssModule","color","body","inverse","outline","tag","innerRef"]),p=Object(m.m)(s()(t,"card",!!c&&"text-white",!!l&&"card-body",!!i&&(u?"border":"bg")+"-"+i),n);return o.a.createElement(f,Object(a.a)({},b,{className:p,ref:d}))};d.propTypes=f,d.defaultProps={tag:"div"},t.a=d},"Bg/h":function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return s}));var a=n("q1tI"),r=n.n(a),i=n("17x9"),o=n.n(i),l=n("R5y6"),c=n("9Koi");function u(e){var t=e,n=[];return t.variables&&t.variables.phone_number&&n.push(t.variables.phone_number),t.variables&&t.variables.first_name&&n.push(t.variables.first_name),t.variables&&t.variables.last_name&&n.push(t.variables.last_name),{label:n.join(" ")||t.name,value:t.id}}var s=function(e){return e.map(u)};function m(e){var t=e.values,n=e.errors,a=e.setFieldValue,i=e.className,o=Object(c.a)().t;return r.a.createElement(l.a,{className:i,name:"clients",label:o("instantMessages.form.to-label"),value:t.clients,setFieldValue:a,errors:n,loadOptions:function(){return[]},defaultOptions:[],isMulti:!0})}m.propTypes={values:o.a.object.isRequired,errors:o.a.object.isRequired,setFieldValue:o.a.func.isRequired,className:o.a.string},t.a=m},CEGB:function(e,t,n){"use strict";var a=n("q1tI"),r=n.n(a),i=n("17x9"),o=n.n(i),l=n("sPdi"),c=n("jrRI"),u=n("3OM0"),s=n("TSYQ"),m=n.n(s),f=n("c0+T");function d(e){var t,n,a=e.id,i=e.label,o=e.errors,s=e.name,d=e.className,b=e.value,p=e.setFieldValue,g=e.minDate,v=e.maxDate,y=e.customInput,h=m()({"is-invalid":o&&(null===(t=o[s])||void 0===t?void 0:t.length)});return r.a.createElement(c.a,{className:m()(d)},i?r.a.createElement(u.a,{htmlFor:a},"function"==typeof i?i():i):null,r.a.createElement(f.a,{id:a,name:s,value:b,onChange:function(e){return p(s,e)},formGroupClass:m()("py-0",h),inputClass:h,minDate:g,maxDate:v,customInput:y}),o&&(null===(n=o[s])||void 0===n?void 0:n.length)?r.a.createElement(l.a,{errors:o[s]}):null)}d.propTypes={errors:o.a.object,id:o.a.oneOfType([o.a.string,o.a.number]),label:o.a.any,name:o.a.string.isRequired,className:o.a.string,setFieldValue:o.a.func.isRequired,value:o.a.any,minDate:o.a.object,maxDate:o.a.object,customInput:o.a.any},t.a=r.a.memo(d)},FPNo:function(e,t,n){"use strict";var a=n("q1tI"),r=n.n(a),i=n("17x9"),o=n.n(i),l=n("nc57"),c=n("19iC"),u=n("6Rhw"),s=n("x37D"),m=n("9Koi"),f=n("ok1R"),d=n("rhny"),b=n("R5y6"),p=n("MwQV"),g=n("DCcX"),v=n("vkoW"),y=n("TSYQ"),h=n.n(y),O=n("sPdi"),j=n("ja6N"),w=n("CaDr"),C=n("OBzv"),E=n("sOKU");function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function N(e){var t=e.text,n=e.disabled,i=e.onSending,o=e.onSent,l=Object(m.a)().t,c=S(Object(a.useState)(!1),2),u=c[0],s=c[1],f=S(Object(a.useState)([]),2),d=f[0],y=f[1],T=S(Object(a.useState)(""),2),N=T[0],_=T[1],I=S(Object(a.useState)([]),2),R=I[0],x=I[1],M=Object(a.useCallback)((function(){i(),p.a.call("post","/methods/instant-messages/templates",{},{name:N,message:t,categories:R.map((function(e){return e.value}))}).validation((function(e,t){y(t.name)})).data((function(){s(!1)})).finally((function(){o()}))}),[R,N,o,i,t]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{isOpen:u,toggle:function(){s(!1)},className:"confirm-modal"},r.a.createElement(v.a,null,l("instantMessages.form.template-name-label")),r.a.createElement(w.a,null,r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:h()("form-control",{"is-invalid":!!d.length}),value:N,onChange:function(e){return _(e.target.value)},placeholder:l("instantMessages.form.template-name-label")}),d.length?r.a.createElement(O.a,{errors:d}):null),r.a.createElement(b.a,{className:"text-left",name:"categories",label:l("instantMessages.template.form.categories-label"),value:R,setFieldValue:function(e,t){return x(t)},errors:d,loadOptions:j.a,isMulti:!0,isClearable:!1})),r.a.createElement(C.a,null,r.a.createElement(E.a,{color:"primary",onClick:M},l("common.yes"))," ",r.a.createElement(E.a,{color:"secondary",onClick:function(){return s(!1)}},l("common.no")))),r.a.createElement("button",{className:"pt-2 px-4 mb-3 btn btn-primary",type:"button",disabled:n||!t,onClick:function(){return s(!0)}},l("instantMessages.form.save-template-btn")))}N.propTypes={text:o.a.string,disabled:o.a.bool,onSending:o.a.func,onSent:o.a.func};var _=N,I=n("6jMY"),R=n("CEGB"),x=n("CXWj"),M=n("INJS"),P=n("Bg/h"),q=n("6ukn"),D=n("AEIT"),A=n("+z1p"),V=n("XRgj"),k=n("9qca"),F=n("Mpt7"),L=n("c8c+"),B=n("Vy9V"),Y=n("ma3e"),z=n("uFPN");function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){U(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var K={container:function(e){return Q(Q({},e),{},{border:"1px solid #ced4da",display:"inline-block",width:"100%",borderRadius:"5px",minHeight:"35px"})},control:function(e){return Q(Q({},e),{},{border:"none",minHeight:"35px","&, &:hover":{border:"none",boxShadow:"none"},background:"transparent"})},singleValue:function(e){return Q(Q({},e),{},{margin:"0",font:"normal normal 15px/17px 'Roboto Regular', sans-serif",top:"45%"})},valueContainer:function(e){return Q(Q({},e),{},{padding:"2px 0 2px 8px",width:"130px"})},indicatorsContainer:function(e){return Q(Q({},e),{},{"& > div":{padding:"8px 4px 8px 0"},top:"-3px",paddingLeft:"6px",alignItems:"baseline"})},indicatorSeparator:function(e){return Q(Q({},e),{},{display:"none"})},placeholder:function(e){return Q(Q({},e),{},{font:"normal normal 15px/18px 'Roboto Regular', sans-serif",color:"#B0B0B0"})},option:function(e){return Q(Q({},e),{},{font:"normal normal 15px/17px 'Roboto Regular', sans-serif","&:hover, &:focus, &:active":{font:"normal normal 15px/17px 'Roboto Regular', sans-serif"}})}};function W(e){var t,n=e.close,i=e.selectTemplate,o=e.name,l=e.setName,c=e.categories,u=e.setCategories,s=e.currentTemplateId,b=Object(m.a)().t,y=H(Object(a.useState)([]),2),O=y[0],C=y[1],E=H(Object(a.useState)(null),2),S=E[0],T=E[1],N=Object(a.useRef)(),_=Object(a.useCallback)((function(e){var t={page:1,perPage:8};e.size&&(t.filter=Object(L.a)(e)),p.a.call("get","/methods/instant-messages/templates",t,{}).data((function(e){C(e.data.map(z.a.instantiate))})).catch((function(e){var t=e.response;T(t.data)}))}),[]);return Object(a.useEffect)((function(){N.current&&clearTimeout(N.current),N.current=setTimeout((function(){var e=Object(F.a)([]);o&&(e=e.push(Object(F.b)({column:"name",operator:"like",value:o}))),c.size&&(e=e.push(Object(F.b)({column:"scopeCategoriesWhere",operator:"scope",value:c.map((function(e){return e.value})).toJS()}))),_(e)}),300)}),[N,_,o,c]),t=S?r.a.createElement("div",null,b("instantMessages.select-template-modal.error-message")):O?r.a.createElement("table",{className:"table table-bordered table-hover align-middle"},r.a.createElement("tbody",null,O.map((function(e){return r.a.createElement("tr",{className:"tr-select-template-modal",key:e.id},r.a.createElement("td",{className:"p-1 align-middle"},e.name),r.a.createElement("td",{className:"text-center p-1"},r.a.createElement("button",{title:b("instantMessages.select-template-modal.select-btn"),className:h()("btn-unstyled p-1 check-btn",{checked:s!==e.id}),type:"button",onClick:function(){i(e)}},r.a.createElement(Y.o,null))))})))):null,r.a.createElement(g.a,{isOpen:!0,size:"lg",onClose:n},r.a.createElement(v.a,{toggle:n},r.a.createElement(Y.Bb,null)," ",b("instantMessages.select-template-modal.title")),r.a.createElement(w.a,null,r.a.createElement(f.a,null,r.a.createElement(d.a,{sm:4},r.a.createElement(B.a,{styles:K,cacheOptions:!0,defaultOptions:!0,loadOptions:j.a,onChange:function(e){u(Object(F.a)(e))},value:c.toJS(),isMulti:!0,placeholder:""})),r.a.createElement(d.a,{sm:8},r.a.createElement("div",{className:"mb-2"},r.a.createElement("input",{type:"text",className:"form-control",value:o,onChange:function(e){l(e.target.value)}})),t))))}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Z(e){var t=e.onTemplateSelected,n=e.renderAlternativeButton,i=e.children,o=e.currentTemplateId,l=X(Object(a.useState)(!1),2),c=l[0],u=l[1],s=X(Object(a.useState)(""),2),m=s[0],f=s[1],d=X(Object(a.useState)(Object(F.a)([])),2),b=d[0],p=d[1],g=Object(a.useCallback)((function(){u(!0)}),[]),v=Object(a.useCallback)((function(){u(!1),f(""),p(Object(F.a)([]))}),[]),y=Object(a.useCallback)((function(e){u(!1),t(e)}),[t]);return r.a.createElement(r.a.Fragment,null,c?r.a.createElement(W,{close:v,selectTemplate:y,name:m,setName:f,categories:b,setCategories:p,currentTemplateId:o}):null,n?n(g):r.a.createElement(E.a,{onClick:g,color:"warning"},i))}W.propTypes={currentTemplateId:o.a.number,close:o.a.func.isRequired,selectTemplate:o.a.func.isRequired,name:o.a.string,setName:o.a.func.isRequired,categories:o.a.object,setCategories:o.a.func.isRequired},Z.propTypes={currentTemplateId:o.a.number,children:o.a.any,onTemplateSelected:o.a.func.isRequired,renderAlternativeButton:o.a.func};var ee=n("jrRI");function te(e){return function(e){if(Array.isArray(e))return re(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||ae(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw i}}return n}(e,t)||ae(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){if(e){if("string"==typeof e)return re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?re(e,t):void 0}}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function ie(e){var t,n,i,o=e.handleSendInstantlyChange,l=e.handleStartChange,c=e.handleTextChange,p=e.handleAttachmentChange,g=e.handleClientChange,v=e.handleBlur,y=e.handleTagsChange,j=e.values,w=e.errors,C=e.isSubmitting,E=e.handleNameChange,S=e.handleTemplateChange,T=e.handleIntegrationChange,N=e.handleSendViaIntegrationChange,F=e.fromList,L=e.calculation,B=Object(m.a)().t,Y=ne(Object(a.useState)(!1),2),z=Y[0],H=Y[1],J=ne(Object(a.useState)(!1),2),G=J[0],Q=J[1];return r.a.createElement(f.a,null,r.a.createElement(d.a,{md:6},r.a.createElement(u.a,{className:"limiter",id:"name",name:"name",label:B("instantMessages.form.name-label"),placeholder:B("instantMessages.form.name-placeholder"),onChange:E,onBlur:v,value:j.name,errors:w}),r.a.createElement("div",{className:"limiter form-group"},r.a.createElement("label",null,B("instantMessages.form.text-label")),r.a.createElement("div",{className:h()({"is-invalid":w&&(null===(t=w.message)||void 0===t?void 0:t.length)})},r.a.createElement(D.CKEditor,{editor:A.ClassicEditor,data:j.message,onChange:function(e,t){c(t.getData())},placeholder:B("instantMessages.form.text-placeholder"),config:{toolbar:["bold","italic","underline","link","bulletedList","numberedList","undo","redo"],mention:{feeds:[{marker:"@",feed:function(e){return Promise.resolve([{id:"@".concat(e)}].concat(te([{id:"@first_name"},{id:"@last_name"},{id:"@email"},{id:"@phone_number"}].filter((function(t){return t.id.toLowerCase().includes(e.toLowerCase())})))))}}]}}})),w&&(null===(n=w.message)||void 0===n?void 0:n.length)?r.a.createElement(O.a,{errors:w.message}):null),r.a.createElement(_,{text:j.message,disabled:!!j.template,onSending:function(){return H(!0)},onSent:function(){return H(!1)}}),z?null:r.a.createElement(ee.a,null,r.a.createElement(Z,{currentTemplateId:j.template?j.template.value:null,onTemplateSelected:function(e){S("template",{value:e.id,template:e})}},B("instantMessages.form.select-template-btn"))),r.a.createElement(b.a,{className:"limiter",id:"sendViaIntegration",name:"sendViaIntegration",label:B("instantMessages.form.send_via-label"),value:j.sendViaIntegration,setFieldValue:N,errors:w,loadOptions:Object(I.b)(V.c)}),j.send_instantly?null:r.a.createElement(f.a,null,r.a.createElement(d.a,{sm:6},r.a.createElement(R.a,{id:"1",name:"start_date",label:B("instantMessages.form.start-date-label"),value:j.start_date,setFieldValue:l,errors:w,minDate:new Date,showTimeInput:!0})),r.a.createElement(d.a,{sm:6},r.a.createElement(M.a,{id:"start_time",name:"start_time",label:B("instantMessages.form.start-time-label"),value:j.start_time,setFieldValue:l,errors:w,disabled:!j.start_date,date:j.start_date,minTime:new Date}))),r.a.createElement(x.a,{id:"send_instantly",name:"send_instantly",label:B("instantMessages.form.send-instantly-label"),value:j.send_instantly,setFieldValue:o})),r.a.createElement(d.a,{md:6},r.a.createElement(k.a,{attachment:j.attachment,handleChange:p}),!F&&r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{className:"limiter",name:"tags",label:B("instantMessages.form.tags-label"),value:j.tags,setFieldValue:y,errors:w,loadOptions:q.a,isMulti:!0,isClearable:!1}),r.a.createElement(b.a,{className:"limiter",id:"integration",name:"integration",label:B("instantMessages.form.channel-label"),value:j.integration,setFieldValue:T,errors:w,loadOptions:I.a})),r.a.createElement("div",{className:"sub-label-bottom text-middle mb-4"},r.a.createElement("p",null,B("instantMessages.form.clients-count",{count:L?B("instantMessages.form.calculation"):null===(i=j.clients)||void 0===i?void 0:i.length})),r.a.createElement("a",{onClick:function(){return Q(!G)}},B(G?"instantMessages.form.hide":"instantMessages.form.see-all"))),G&&r.a.createElement(P.a,{values:j,errors:w,setFieldValue:g})),r.a.createElement(d.a,{sm:12},r.a.createElement(s.a,{className:"pt-2 px-4 mb-4",disabled:C},B("common.saveBtnText"))))}ie.propTypes={handleAttachmentChange:o.a.func.isRequired,handleTagsChange:o.a.func.isRequired,handleSendInstantlyChange:o.a.func.isRequired,handleClientChange:o.a.func.isRequired,handleTextChange:o.a.func.isRequired,handleStartChange:o.a.func.isRequired,handleIntegrationChange:o.a.func.isRequired,handleSendViaIntegrationChange:o.a.func.isRequired,handleTemplateChange:o.a.func.isRequired,handleNameChange:o.a.func.isRequired,handleBlur:o.a.func.isRequired,values:o.a.object.isRequired,errors:o.a.object.isRequired,isSubmitting:o.a.bool,fromList:o.a.bool,calculation:o.a.bool};var oe=ie,le=n("sveX");function ce(){return(ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ue(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function de(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return be(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function pe(e){var t=e.initialData,n=e.handleSubmit,i=e.afterSave,o=e.fromFilters,u=Object(a.useCallback)((function(e,t){var a,r,o,l,c;c=e.new_clients?e.new_clients:e.clients;var u=e.attachment?e.attachment.toJS():null,s=e.message||null;(null===(a=e.template)||void 0===a?void 0:a.value)&&(s=null,u=null);var m=~~e.send_instantly,f={name:e.name||null,message:s,attachment:u,filters:e.filters||null,selected:e.selected||null,integration_id:(null===(r=e.integration)||void 0===r?void 0:r.value)||null,send_via_integration_id:(null===(o=e.sendViaIntegration)||void 0===o?void 0:o.value)||null,message_template_id:(null===(l=e.template)||void 0===l?void 0:l.value)||null,send_instantly:m,start_date:m?null:e.start_date?Math.ceil(e.start_date):null,start_time:m?null:e.start_time?Math.ceil(e.start_time):null,tags:e.tags?e.tags.map((function(e){return e.value})):[],clients:c?c.map((function(e){return{id:e.__isNew__?null:e.value,name:e.label}})):[]};(u&&!u.id?Object(le.a)(u).then((function(e){f.attachment=e.data})):new Promise((function(e){return e()}))).then((function(){f.attachment&&(f.attachment_id=f.attachment.id),n(f).data((function(e){i(e)})).validation((function(e,n){var a={name:n.name,message:n.message,start_time:n.start_time,start_date:n.start_date,template:n.message_template_id,integration:n.integration_id,tags:n.tags,clients:n.clients,new_clients:n.clients,sendViaIntegration:n.send_via_integration_id};t.setErrors(a),t.setSubmitting(!1)})).catch((function(){t.setSubmitting(!1)}))}))}),[n,i]),s=Object(c.a)(),m=Object(a.useCallback)((function(e,t){var n;return(n=t||(e||null))?s(n):null}),[s]),f=Object(a.useCallback)((function(e,t,n,a){var r=[];return e&&r.push(e.label),n&&r.push(m(n,a)),t&&r.push(t.label),r.join(" ")}),[m]),d=de(Object(a.useState)(!1),2),b=d[0],g=d[1],v=Object(a.useCallback)((function(e,n,a,r){g(!0),o?p.a.call("get","/methods/instant-messages/clients-from-filters",{filters:JSON.stringify(t.filters),selected:JSON.stringify(t.selected),sent_via_integration_id:a}).data((function(e){g(!1),setTimeout((function(){r(Object(P.b)(e.clients))}))})):p.a.call("get","/methods/instant-messages/clients",{tags:null==n?void 0:n.map((function(e){return e.value})),integration_id:e,sent_via_integration_id:a}).data((function(e){g(!1),setTimeout((function(){r(Object(P.b)(e.clients))}))}))}),[o,t.filters,t.selected]);return r.a.createElement(l.a,{initialValues:me(me({},t),{},{isNameChanged:!1}),handleSubmit:u,renderForm:function(e){var t=e.setFieldValue,n=e.handleChange,a=e.values,i=ue(e,["setFieldValue","handleChange","values"]);null!==a.clients||b||setTimeout((function(){var e,n;v(null===(e=a.integration)||void 0===e?void 0:e.value,a.tags,null===(n=a.sendViaIntegration)||void 0===n?void 0:n.value,(function(e){return t("clients",e)}))}));return r.a.createElement(oe,ce({},i,{values:a,fromList:o,handleTagsChange:function(e,n){var r,i;t(e,n),v(null===(r=a.integration)||void 0===r?void 0:r.value,n,null===(i=a.sendViaIntegration)||void 0===i?void 0:i.value,(function(e){return t("clients",e)}))},handleTextChange:function(e){t("message",e),a.template&&a.template.template.message!==e&&t("template",null)},handleNameChange:function(e){n(e),t("isNameChanged",!!e.target.value)},handleTemplateChange:function(e,n){t(e,n),n?t("message",n.template.message):!n&&a.template&&t("message",""),a.isNameChanged||t("name",f(a.integration,n,a.start_date,a.start_time))},handleIntegrationChange:function(e,n){var r;t(e,n),a.isNameChanged||t("name",f(n,a.template,a.start_date,a.start_time)),n||(t("clients",null),t("new_clients",null)),v(n?n.value:null,a.tags,null===(r=a.sendViaIntegration)||void 0===r?void 0:r.value,(function(e){return t("clients",e)}))},handleStartChange:function(e,n){t(e,n);var r=a.start_time;if("start_date"===e){var i=new Date(r),o=new Date(1e3*n);o.setHours(i.getHours()),o.setMinutes(i.getMinutes()),t("start_time",r=o.getTime()/1e3)}a.isNameChanged||t("name",f(a.integration,a.template,"start_date"===e?n:a.start_date,"start_time"===e?n:r))},handleSendInstantlyChange:function(e,n){t(e,n),a.isNameChanged||t("name",f(a.integration,a.template,n?null:a.start_date,n?null:a.start_time))},handleClientChange:function(e,n){t(e,n)},handleSendViaIntegrationChange:function(e,n){t(e,n),v(n?n.value:null,a.tags,n?n.value:null,(function(e){return t("clients",e)}))},handleAttachmentChange:function(e){t("attachment",e)},calculation:b}))}})}pe.propTypes={initialData:o.a.object.isRequired,handleSubmit:o.a.func.isRequired,afterSave:o.a.func.isRequired,fromFilters:o.a.bool};t.a=r.a.memo(pe)},FrZM:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("q1tI"),r=n.n(a),i=n("Mpt7"),o=n("17x9"),l=n.n(o),c=n("ma3e"),u=n("Gv9V"),s=6;function m(e){var t=e.attachment,n=t.get("type"),a=t.get("url");if(!a||a.startsWith("sticker::"))return null;if(/\{@[\w\d]*}/.test(a))return r.a.createElement(c.D,null);switch(n){case s:return r.a.createElement("embed",{key:a,className:"attachment-preview",src:a,type:""});case 2:return r.a.createElement(c.D,null);case 1:return r.a.createElement("img",{className:"attachment-preview",src:a});case 7:return r.a.createElement("video",{controls:!0,className:"attachment-preview"},r.a.createElement("source",{src:a}));case 9:return r.a.createElement(u.a,{url:a})}return null}t.b=m,m.propTypes={attachment:l.a.instanceOf(i.b).isRequired}},Gv9V:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("q1tI"),r=n.n(a),i=n("17x9"),o=n.n(i),l=n("ma3e");function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function s(e){var t=e.url,n=Object(a.useRef)(),i=c(Object(a.useState)(!1),2),o=i[0],u=i[1];Object(a.useEffect)((function(){var e=n.current;u(!e.paused),e.onended=function(){u(!1)}}),[]);return r.a.createElement("div",null,r.a.createElement("button",{type:"button",onClick:function(){var e=n.current;e.paused?e.play():(e.pause(),e.currentTime=0),u(!e.paused)},className:"btn btn-outline-dark"},o?r.a.createElement(l.pb,null):r.a.createElement(l.V,null)),r.a.createElement("audio",{ref:n,src:t,controls:!0,className:"d-none"}))}s.propTypes={url:o.a.string.isRequired}},INJS:function(e,t,n){"use strict";var a=n("q1tI"),r=n.n(a),i=n("17x9"),o=n.n(i),l=n("sPdi"),c=n("jrRI"),u=n("3OM0"),s=n("TSYQ"),m=n.n(s),f=n("NRhA"),d=n.n(f),b=n("Opvh"),p=(n("5Buo"),n("19iC"));function g(e){var t=e.value,n=e.onChange,i=e.customInput,o=e.placeholder,l=e.formGroupClass,u=e.inputClass,s=e.minTime,g=e.maxTime,v=e.disabled,y=e.date;Object(a.useEffect)((function(){Object(f.registerLocale)(window.locale,b[window.locale])}),[]);var h=Object(p.d)();return r.a.createElement(c.a,{className:m()(l)},r.a.createElement(d.a,{selected:t?new Date(1e3*t):null,onChange:function(e){var t=e;y&&((t=new Date(1e3*y)).setHours(e.getHours()),t.setMinutes(e.getMinutes())),n(t.getTime()/1e3)},className:m()("form-control",u),dateFormat:h,customInput:i,placeholderText:o,locale:window.locale,showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:1,timeFormat:h,filterTime:function(e){var t;return y?((t=new Date(1e3*y)).setHours(e.getHours()),t.setMinutes(e.getMinutes())):t=new Date(e),s&&g?s.getTime()<t.getTime()&&t.getTime()<g.getTime():s?s.getTime()<t.getTime():!g||t.getTime()<g.getTime()},disabled:v}))}function v(e){var t,n,a=e.id,i=e.label,o=e.errors,s=e.name,f=e.className,d=e.value,b=e.setFieldValue,p=e.minTime,v=e.maxTime,y=e.disabled,h=e.date,O=m()({"is-invalid":o&&(null===(t=o[s])||void 0===t?void 0:t.length)});return r.a.createElement(c.a,{className:m()(f)},i?r.a.createElement(u.a,{htmlFor:a},"function"==typeof i?i():i):null,r.a.createElement(g,{id:a,name:s,value:d,onChange:function(e){return b(s,e)},formGroupClass:m()("py-0",O),inputClass:O,minTime:p,maxTime:v,disabled:y,date:h}),o&&(null===(n=o[s])||void 0===n?void 0:n.length)?r.a.createElement(l.a,{errors:o[s]}):null)}g.propTypes={onChange:o.a.func.isRequired,customInput:o.a.any,value:o.a.number,placeholder:o.a.string,formGroupClass:o.a.string,inputClass:o.a.string,minTime:o.a.object,maxTime:o.a.object,disabled:o.a.bool,date:o.a.number},v.propTypes={errors:o.a.object,id:o.a.oneOfType([o.a.string,o.a.number]),label:o.a.any,name:o.a.string.isRequired,className:o.a.string,setFieldValue:o.a.func.isRequired,value:o.a.any,minTime:o.a.object,maxTime:o.a.object,disabled:o.a.bool,date:o.a.number};t.a=r.a.memo(v)},OBzv:function(e,t,n){"use strict";var a=n("wx14"),r=n("zLVn"),i=n("q1tI"),o=n.n(i),l=n("17x9"),c=n.n(l),u=n("TSYQ"),s=n.n(u),m=n("33Jr"),f={tag:m.q,className:c.a.string,cssModule:c.a.object},d=function(e){var t=e.className,n=e.cssModule,i=e.tag,l=Object(r.a)(e,["className","cssModule","tag"]),c=Object(m.m)(s()(t,"modal-footer"),n);return o.a.createElement(i,Object(a.a)({},l,{className:c}))};d.propTypes=f,d.defaultProps={tag:"div"},t.a=d},R5y6:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n("q1tI"),r=n.n(a),i=n("Vy9V"),o=n("9Wsk"),l=n("jrRI"),c=n("3OM0"),u=n("TSYQ"),s=n.n(u),m=n("sPdi"),f=n("17x9"),d=n.n(f),b=n("9Koi");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y={control:function(e){return g(g({},e),{},{"&, &:hover, &:focus":{borderColor:"#ced4da",boxShadow:"none"}})},menu:function(e){return g(g({},e),{},{zIndex:10})}};function h(e){var t,n,a=e.id,u=e.label,f=e.errors,d=e.loadOptions,p=e.name,g=e.setFieldValue,v=e.handleBlur,h=e.value,O=e.className,j=e.labelClass,w=e.placeholder,C=e.isClearable,E=e.cacheOptions,S=e.isMulti,T=e.isDisabled,N=e.defaultOptions,_=Object(b.a)().t,I=C?o.a:i.a;return r.a.createElement(l.a,{className:s()(O)},r.a.createElement(c.a,{className:s()(j),htmlFor:a},u),r.a.createElement(I,{cacheOptions:E,defaultOptions:N,loadOptions:d,onChange:function(e){g(p,e)},value:h,isClearable:C,className:s()({"is-invalid":!!(null===(t=f[p])||void 0===t?void 0:t.length)}),placeholder:w||_("common.default-select-placeholder"),styles:y,isMulti:S,isDisabled:T,onBlur:v}),(null===(n=f[p])||void 0===n?void 0:n.length)?r.a.createElement(m.a,{errors:f[p]}):null)}h.defaultProps={isClearable:!0,cacheOptions:!0,defaultOptions:!0},h.propTypes={errors:d.a.object.isRequired,id:d.a.oneOfType([d.a.string,d.a.number]),value:d.a.oneOfType([d.a.shape({label:d.a.string,value:d.a.oneOfType([d.a.string,d.a.number])}),d.a.array]),label:d.a.any.isRequired,name:d.a.string.isRequired,handleBlur:d.a.func,setFieldValue:d.a.func.isRequired,loadOptions:d.a.func.isRequired,className:d.a.string,labelClass:d.a.string,placeholder:d.a.string,isClearable:d.a.bool,isMulti:d.a.bool,isDisabled:d.a.bool,cacheOptions:d.a.bool,defaultOptions:d.a.oneOfType([d.a.bool,d.a.array])}},Vy9V:function(e,t,n){"use strict";var a=n("4Jst"),r=n("q1tI"),i=n("2k+j"),o=n("HhE6"),l=n("wBLH"),c=(n("yUKz"),n("cO97"),n("SKuE"),n("/ouT"),n("g/0L"),n("9IRi"),n("ROju"),n("EPfG"),n("5KkY"),n("qEaO"),n("X4k0"),n("i8i4"),n("y74/"),Object(r.forwardRef)((function(e,t){var n=Object(l.a)(e),c=Object(o.a)(n);return r.createElement(i.a,Object(a.a)({ref:t},c))})));t.a=c},"c0+T":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n("q1tI"),r=n.n(a),i=n("17x9"),o=n.n(i),l=n("jrRI"),c=n("NRhA"),u=n.n(c),s=n("Opvh"),m=n("J3gs");n("5Buo");var f=n("TSYQ"),d=n.n(f);function b(e){var t=e.value,n=e.onChange,i=e.customInput,o=e.placeholder,f=e.formGroupClass,b=e.inputClass,p=e.wrapperClassName,g=e.minDate,v=e.maxDate;Object(a.useEffect)((function(){Object(c.registerLocale)(window.locale,s[window.locale])}),[]);var y=function(e){switch(e){case"MM/DD/YYYY":return"MM/dd/yyyy";case"DD.MM.YYYY":return"dd.MM.yyyy"}}(Object(m.a)());return r.a.createElement(l.a,{className:d()(f)},r.a.createElement(u.a,{selected:t?new Date(1e3*t):null,onChange:function(e){return n(e?Math.ceil(e.getTime()/1e3):null)},className:d()("form-control",b),wrapperClassName:p,dateFormat:y,customInput:i,placeholderText:o,locale:window.locale,minDate:g,maxDate:v}))}b.propTypes={onChange:o.a.func.isRequired,customInput:o.a.any,value:o.a.number,placeholder:o.a.string,formGroupClass:o.a.string,inputClass:o.a.string,wrapperClassName:o.a.string,minDate:o.a.object,maxDate:o.a.object}},gmZo:function(e,t,n){"use strict";n("iYuL");var a=n("f0Wu");a.locale(window.locale),t.a=a},ja6N:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("MwQV");function r(e){return new Promise((function(t){a.a.call("get","/methods/instant-messages/template-categories/search",{q:e}).data((function(e){t(e.map((function(e){return{label:e.name,value:e.id,template:e}})))}))}))}},qcUN:function(e,t,n){"use strict";var a=n("Mpt7");function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=s(e);if(t){var r=s(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,n,a,r=c(u);function u(){return i(this,u),r.apply(this,arguments)}return t=u,a=[{key:"instantiate",value:function(e){return new u(e)}}],(n=null)&&o(t.prototype,n),a&&o(t,a),u}(Object(a.d)({id:null,name:null}));t.a=m},sveX:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("MwQV");function r(e){return a.a.call("post","/methods/chat-bots/attachment",{},e)}},uFPN:function(e,t,n){"use strict";var a=n("Mpt7"),r=n("qcUN");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=b(e);if(t){var r=b(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(o,e);var t,n,a,i=f(o);function o(){return u(this,o),i.apply(this,arguments)}return t=o,a=[{key:"instantiate",value:function(e){var t=e.categories;return new o(l(l({},e),{},{categories:t?t.map(r.a.instantiate):t}))}}],(n=null)&&s(t.prototype,n),a&&s(t,a),o}(Object(a.d)({id:null,name:null,message:null,created_at:null,categories:[],attachment:null}));t.a=p},vfse:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n("Gyn+"),r=n("XvEU"),i=n("wRwD"),o=n("q1tI"),l=n("qvlS"),c=n("2k+j"),u=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,a=String(e).toLowerCase(),r=String(n.getOptionValue(t)).toLowerCase(),i=String(n.getOptionLabel(t)).toLowerCase();return r===a||i===a},m={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,t,n,a){return!(!e||t.some((function(t){return s(e,t,a)}))||n.some((function(t){return s(e,t,a)})))},getNewOptionData:function(e,t){return{label:t,value:e,__isNew__:!0}}};function f(e){var t=e.allowCreateWhileLoading,n=void 0!==t&&t,s=e.createOptionPosition,f=void 0===s?"last":s,d=e.formatCreateLabel,b=void 0===d?m.formatCreateLabel:d,p=e.isValidNewOption,g=void 0===p?m.isValidNewOption:p,v=e.getNewOptionData,y=void 0===v?m.getNewOptionData:v,h=e.onCreateOption,O=e.options,j=void 0===O?[]:O,w=e.onChange,C=Object(i.a)(e,u),E=C.getOptionValue,S=void 0===E?c.c:E,T=C.getOptionLabel,N=void 0===T?c.b:T,_=C.inputValue,I=C.isLoading,R=C.isMulti,x=C.value,M=C.name,P=Object(o.useMemo)((function(){return g(_,Object(l.i)(x),j,{getOptionValue:S,getOptionLabel:N})?y(_,b(_)):void 0}),[b,y,N,S,_,g,j,x]),q=Object(o.useMemo)((function(){return!n&&I||!P?j:"first"===f?[P].concat(Object(r.a)(j)):[].concat(Object(r.a)(j),[P])}),[n,f,I,P,j]),D=Object(o.useCallback)((function(e,t){if("select-option"!==t.action)return w(e,t);var n=Array.isArray(e)?e:[e];if(n[n.length-1]!==P)w(e,t);else if(h)h(_);else{var a=y(_,_),i={action:"create-option",name:M,option:a};w(Object(l.d)(R,[].concat(Object(r.a)(Object(l.i)(x)),[a]),a),i)}}),[y,_,R,M,P,h,w,x]);return Object(a.a)(Object(a.a)({},C),{},{options:q,onChange:D})}},wBLH:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("ngzn"),r=n("Gyn+"),i=n("TRVv"),o=n("wRwD"),l=n("q1tI"),c=n("qvlS"),u=["defaultOptions","cacheOptions","loadOptions","options","isLoading","onInputChange","filterOption"];function s(e){var t=e.defaultOptions,n=void 0!==t&&t,s=e.cacheOptions,m=void 0!==s&&s,f=e.loadOptions;e.options;var d=e.isLoading,b=void 0!==d&&d,p=e.onInputChange,g=e.filterOption,v=void 0===g?null:g,y=Object(o.a)(e,u),h=y.inputValue,O=Object(l.useRef)(void 0),j=Object(l.useRef)(!1),w=Object(l.useState)(Array.isArray(n)?n:void 0),C=Object(i.a)(w,2),E=C[0],S=C[1],T=Object(l.useState)(void 0!==h?h:""),N=Object(i.a)(T,2),_=N[0],I=N[1],R=Object(l.useState)(!0===n),x=Object(i.a)(R,2),M=x[0],P=x[1],q=Object(l.useState)(void 0),D=Object(i.a)(q,2),A=D[0],V=D[1],k=Object(l.useState)([]),F=Object(i.a)(k,2),L=F[0],B=F[1],Y=Object(l.useState)(!1),z=Object(i.a)(Y,2),H=z[0],J=z[1],G=Object(l.useState)({}),Q=Object(i.a)(G,2),U=Q[0],K=Q[1],W=Object(l.useState)(void 0),X=Object(i.a)(W,2),$=X[0],Z=X[1],ee=Object(l.useState)(void 0),te=Object(i.a)(ee,2),ne=te[0],ae=te[1];m!==ne&&(K({}),ae(m)),n!==$&&(S(Array.isArray(n)?n:void 0),Z(n)),Object(l.useEffect)((function(){return j.current=!0,function(){j.current=!1}}),[]);var re=Object(l.useCallback)((function(e,t){if(!f)return t();var n=f(e,t);n&&"function"==typeof n.then&&n.then(t,(function(){return t()}))}),[f]);Object(l.useEffect)((function(){!0===n&&re(_,(function(e){j.current&&(S(e||[]),P(!!O.current))}))}),[]);var ie=Object(l.useCallback)((function(e,t){var n=Object(c.l)(e,t,p);if(!n)return O.current=void 0,I(""),V(""),B([]),P(!1),void J(!1);if(m&&U[n])I(n),V(n),B(U[n]),P(!1),J(!1);else{var i=O.current={};I(n),P(!0),J(!A),re(n,(function(e){j&&i===O.current&&(O.current=void 0,P(!1),V(n),B(e||[]),J(!1),K(e?Object(r.a)(Object(r.a)({},U),{},Object(a.a)({},n,e)):U))}))}}),[m,re,A,U,p]),oe=H?[]:_&&A?L:E||[];return Object(r.a)(Object(r.a)({},y),{},{options:oe,isLoading:M||b,onInputChange:ie,filterOption:v})}}}]);