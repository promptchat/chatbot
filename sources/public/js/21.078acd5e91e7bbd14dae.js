(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"/kxI":function(e,t,a){"use strict";var n=a("wx14"),r=a("zLVn"),i=a("q1tI"),o=a.n(i),l=a("17x9"),s=a.n(l),c=a("TSYQ"),u=a.n(c),m=a("33Jr"),f={tag:m.q,className:s.a.string,cssModule:s.a.object,innerRef:s.a.oneOfType([s.a.object,s.a.string,s.a.func])},d=function(e){var t=e.className,a=e.cssModule,i=e.innerRef,l=e.tag,s=Object(r.a)(e,["className","cssModule","innerRef","tag"]),c=Object(m.m)(u()(t,"card-body"),a);return o.a.createElement(l,Object(n.a)({},s,{className:c,ref:i}))};d.propTypes=f,d.defaultProps={tag:"div"},t.a=d},"4K7x":function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return i}));var n=a("83d4");function r(e){return[{label:e("user.role.".concat(n.c)),value:n.c},{label:e("user.role.".concat(n.a)),value:n.a},{label:e("user.role.".concat(n.b)),value:n.b}]}function i(e){return function(){return new Promise((function(t){t(r(e))}))}}},"8WGv":function(e,t,a){"use strict";var n=a("q1tI"),r=a.n(n),i=a("17x9"),o=a.n(i),l=a("sPdi"),s=a("jrRI"),c=a("3OM0"),u=a("Cs6D"),m=a("TSYQ"),f=a.n(m),d=a("9Koi");function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){v(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function v(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var h={control:function(e){return b(b({},e),{},{"&, &:hover, &:focus":{borderColor:"#ced4da",boxShadow:"none"}})}};function y(e){var t,a,n=e.id,i=e.label,o=e.errors,m=e.name,p=e.setFieldValue,b=e.options,v=e.value,y=e.className,g=e.placeholder,E=e.isClearable,_=e.isDisabled,O=Object(d.a)().t,S=b.findIndex((function(e){return e.value===v})),j=-1===S?null:b[S];return r.a.createElement(s.a,{className:f()(y)},r.a.createElement(c.a,{htmlFor:n},i),r.a.createElement(u.a,{id:n,name:m,isDisabled:_,onChange:function(e){return p(m,e?e.value:null)},options:b,value:j,isClearable:E,className:f()("select-field",{"is-invalid":!!(null===(t=o[m])||void 0===t?void 0:t.length)}),placeholder:g||O("common.default-select-placeholder"),styles:h}),(null===(a=o[m])||void 0===a?void 0:a.length)?r.a.createElement(l.a,{errors:o[m]}):null)}y.defaultProps={isClearable:!0},y.propTypes={errors:o.a.object.isRequired,id:o.a.oneOfType([o.a.string,o.a.number]),value:o.a.oneOfType([o.a.string,o.a.number]),label:o.a.any.isRequired,name:o.a.string.isRequired,setFieldValue:o.a.func.isRequired,options:o.a.array.isRequired,className:o.a.string,placeholder:o.a.string,isClearable:o.a.bool,isDisabled:o.a.bool},t.a=r.a.memo(y)},BLzl:function(e,t,a){"use strict";var n=a("wx14"),r=a("zLVn"),i=a("q1tI"),o=a.n(i),l=a("17x9"),s=a.n(l),c=a("TSYQ"),u=a.n(c),m=a("33Jr"),f={tag:m.q,inverse:s.a.bool,color:s.a.string,body:s.a.bool,outline:s.a.bool,className:s.a.string,cssModule:s.a.object,innerRef:s.a.oneOfType([s.a.object,s.a.string,s.a.func])},d=function(e){var t=e.className,a=e.cssModule,i=e.color,l=e.body,s=e.inverse,c=e.outline,f=e.tag,d=e.innerRef,p=Object(r.a)(e,["className","cssModule","color","body","inverse","outline","tag","innerRef"]),b=Object(m.m)(u()(t,"card",!!s&&"text-white",!!l&&"card-body",!!i&&(c?"border":"bg")+"-"+i),a);return o.a.createElement(f,Object(n.a)({},p,{className:b,ref:d}))};d.propTypes=f,d.defaultProps={tag:"div"},t.a=d},Cs6D:function(e,t,a){"use strict";var n=a("q1tI"),r=a.n(n),i=a("Wwog"),o=a("qKvR"),l=(a("i8i4"),a("17x9"),a("njTy")),s=(a("iYmT"),a("FUBA"),a("1m/E")),c=a("TqVZ");n.Component;var u=Object(s.a)(l.a);t.a=u},P2Na:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("MwQV");function r(e){var t=new FormData;return t.append("file",e),n.a.call("post","/methods/image",{},t)}},afej:function(e,t,a){"use strict";var n=a("wx14"),r=a("zLVn"),i=a("q1tI"),o=a.n(i),l=a("17x9"),s=a.n(l),c=a("TSYQ"),u=a.n(c),m=a("33Jr"),f={tag:m.q,className:s.a.string,cssModule:s.a.object},d=function(e){var t=e.className,a=e.cssModule,i=e.tag,l=Object(r.a)(e,["className","cssModule","tag"]),s=Object(m.m)(u()(t,"card-header"),a);return o.a.createElement(i,Object(n.a)({},l,{className:s}))};d.propTypes=f,d.defaultProps={tag:"div"},t.a=d},gmZo:function(e,t,a){"use strict";a("iYuL");var n=a("f0Wu");n.locale(window.locale),t.a=n},muO8:function(e,t,a){"use strict";var n=a("q1tI"),r=a.n(n),i=a("17x9"),o=a.n(i),l=a("sPdi"),s=a("jrRI"),c=a("3OM0"),u=a("Cs6D"),m=a("TSYQ"),f=a.n(m);function d(e){var t,a,n=e.id,i=e.label,o=e.errors,m=e.name,d=e.setFieldValue,p=e.options,b=e.value,v=e.formGroupClass;return r.a.createElement(s.a,{className:f()(v)},r.a.createElement(c.a,{htmlFor:n},i),r.a.createElement(u.a,{id:n,name:m,onChange:function(e){return d(m,e)},isMulti:!0,options:p,value:b,isClearable:!0,className:f()({"is-invalid":!!(null===(t=o[m])||void 0===t?void 0:t.length)})}),(null===(a=o[m])||void 0===a?void 0:a.length)?r.a.createElement(l.a,{errors:o[m]}):null)}d.propTypes={errors:o.a.object.isRequired,id:o.a.oneOfType([o.a.string,o.a.number]),value:o.a.array,label:o.a.any.isRequired,name:o.a.string.isRequired,setFieldValue:o.a.func.isRequired,options:o.a.array.isRequired,formGroupClass:o.a.string},t.a=r.a.memo(d)},n7jJ:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a("q1tI"),r=a.n(n),i=a("17x9"),o=a.n(i),l=a("bFnZ"),s=a.n(l);function c(e){var t=e.show,a=e.text,n=e.onConfirm,i=e.type,o=void 0===i?"success":i;return r.a.createElement(s.a,{title:"",show:t,onConfirm:n,type:o},a)}c.propTypes={onConfirm:o.a.func.isRequired,show:o.a.bool.isRequired,text:o.a.string.isRequired,type:o.a.string}},q6mc:function(e,t,a){"use strict";var n=a("q1tI"),r=a.n(n),i=a("17x9"),o=a.n(i),l=a("sPdi"),s=a("jrRI"),c=a("3OM0"),u=a("L3zb"),m=a("TSYQ"),f=a.n(m);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function b(e){var t,a,n=e.id,i=e.label,o=e.errors,m=e.name,b=e.onChange,v=e.className,h=p(e,["id","label","errors","name","onChange","className"]);return r.a.createElement(s.a,{className:f()(v)},r.a.createElement(c.a,{htmlFor:n},i),r.a.createElement(u.a,d({id:n,name:m,type:"tel",onChange:function(e){var t=e.target.value;/^[\+]?[0-9]*$/.test(t)&&b(e)}},h,{invalid:!!(null===(t=o[m])||void 0===t?void 0:t.length)})),(null===(a=o[m])||void 0===a?void 0:a.length)?r.a.createElement(l.a,{errors:o[m]}):null)}b.propTypes={onChange:o.a.func.isRequired,errors:o.a.object.isRequired,id:o.a.oneOfType([o.a.string,o.a.number]),label:o.a.any.isRequired,name:o.a.string.isRequired,className:o.a.string},t.a=r.a.memo(b)},sgT3:function(e,t,a){"use strict";a.r(t),a.d(t,"SCREEN_MAIN_SETTINGS",(function(){return de})),a.d(t,"SCREEN_NOTIFICATIONS_SETTINGS",(function(){return pe})),a.d(t,"SCREEN_SETTINGS",(function(){return be})),a.d(t,"SCREEN_DEFAULT_MESSAGE_SETTINGS",(function(){return ve})),a.d(t,"default",(function(){return he}));var n=a("q1tI"),r=a.n(n),i=a("TtP3"),o=a("17x9"),l=a.n(o),s=a("9Koi"),c=a("MwQV"),u=a("nc57"),m=a("ldny"),f=a("x37D"),d=a("83d4"),p=a("n7jJ"),b=a("rhny");function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,r=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){r=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function y(e){var t=e.user,a=v(Object(n.useState)(!1),2),i=a[0],o=a[1],l=Object(s.a)().t;return r.a.createElement(b.a,{md:6},r.a.createElement(p.a,{show:i,text:l("user.password.password-changed-message"),onConfirm:function(){return o(!1)}}),r.a.createElement(u.a,{initialValues:{password:"",password_confirmation:""},handleSubmit:function(e,a){var n=a.setSubmitting,r=a.setErrors;c.a.call("post","/methods/user/".concat(t.id,"/update-password"),{},e).then((function(){o(!0)})).validation((function(e,t){r(t)})),n(!1)},renderForm:function(e){var t=e.handleChange,a=e.handleBlur,n=e.values,i=e.errors,o=e.isSubmitting;return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{className:"limiter",id:"password",name:"password",label:l("user.password.password-label"),placeholder:l("user.password.password-placeholder"),onChange:t,onBlur:a,value:n.password,errors:i}),r.a.createElement(m.a,{className:"limiter",id:"password_confirmation",name:"password_confirmation",label:l("user.password.password-confirmation-label"),placeholder:l("user.password.password-confirmation-placeholder"),onChange:t,onBlur:a,value:n.password_confirmation,errors:i}),r.a.createElement(f.a,{className:"pt-2 px-4 my-4",disabled:o},l("common.saveBtnText")))}}))}y.propTypes={user:l.a.instanceOf(d.d).isRequired};var g=a("6Rhw"),E=a("q6mc"),_=a("CXWj"),O=a("8WGv"),S=a("gmZo");function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,r=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){r=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function N(e){var t=e.user,a=e.afterSave,i=j(Object(n.useState)(!1),2),o=i[0],l=i[1],m=Object(s.a)().t,d=Object(S.a)();return r.a.createElement(b.a,{md:6},r.a.createElement(p.a,{show:o,text:m("user.user-info.info-changed-message"),onConfirm:function(){return l(!1)}}),r.a.createElement(u.a,{initialValues:{name:t.name,email:t.email,phone:t.phone,is_am_pm:t.is_am_pm,preferred_date_format:t.preferred_date_format},handleSubmit:function(e,n){var r=n.setSubmitting,i=n.setErrors;c.a.call("patch","/methods/user/".concat(t.id),{},e).then((function(e){l(!0),a(e.data)})).validation((function(e,t){i(t)})),r(!1)},renderForm:function(e){var t=e.handleChange,a=e.handleBlur,n=e.values,i=e.errors,o=e.isSubmitting,l=e.setFieldValue;return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{className:"limiter",id:"name",name:"name",label:m("user.user-info.name-label"),placeholder:m("user.user-info.name-placeholder"),onChange:t,onBlur:a,value:n.name||"",errors:i}),r.a.createElement(g.a,{className:"limiter",id:"email",name:"email",type:"email",label:m("user.user-info.email-label"),placeholder:m("user.user-info.email-placeholder"),onChange:t,onBlur:a,value:n.email||"",errors:i}),r.a.createElement(E.a,{className:"limiter",id:"phone",name:"phone",label:m("user.user-info.phone-label"),placeholder:m("user.user-info.phone-placeholder"),onChange:t,onBlur:a,value:n.phone||"",errors:i}),r.a.createElement(_.a,{id:"is-am-pm",name:"is_am_pm",label:m("user.user-info.show-am-pm-time-format-label"),setFieldValue:l,onBlur:a,value:n.is_am_pm,errors:i}),r.a.createElement(O.a,{className:"limiter",id:"preferred-format",label:m("user.user-info.date-format-label"),placeholder:m("user.user-info.date-format-placeholder"),name:"preferred_date_format",setFieldValue:l,onBlur:a,value:n.preferred_date_format,errors:i,options:[{label:d.format("MM/DD/YYYY"),value:"MM/DD/YYYY"},{label:d.format("DD.MM.YYYY"),value:"DD.MM.YYYY"}]}),r.a.createElement(f.a,{className:"pt-2 px-4 my-4",disabled:o},m("common.saveBtnText")))}}))}N.propTypes={user:l.a.instanceOf(d.d).isRequired,afterSave:l.a.func.isRequired};var C=a("sOKU"),x=a("nsn4"),T=a("BLzl"),A=a("/kxI");function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,r=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){r=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return q(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function R(e){var t=e.items,a=I(Object(n.useState)(0),2),i=a[0],o=a[1];return r.a.createElement("div",null,t.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(C.a,{className:"btn-notification mt-4 mb-0 w-100 rounded-0",color:"",onClick:function(){return o(i===t?null:t)}},e.renderButton()),r.a.createElement(x.a,{isOpen:i===t},r.a.createElement(T.a,{className:"mb-2 rounded-0 border-top-0"},r.a.createElement(A.a,{className:"border-0"},e.renderContent()))))})))}R.propTypes={items:l.a.arrayOf(l.a.shape({renderButton:l.a.func.isRequired,renderContent:l.a.func.isRequired})).isRequired};var F=a("ma3e");function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,r=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){r=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return B(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return B(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function V(e){var t=e.user,a=M(Object(n.useState)(!1),2),i=a[0],o=a[1],l=Object(s.a)().t,m=t.user_notifications_setting;return r.a.createElement(b.a,{xl:7,lg:8},r.a.createElement(p.a,{show:i,text:l("user.notifications.settings-changed-message"),onConfirm:function(){return o(!1)}}),r.a.createElement(u.a,{initialValues:{site_short_notifications:m.site_short_notifications,site_long_notifications:m.site_long_notifications,email_notifications_livechat_activity:m.email_notifications_livechat_activity,email_notifications_chatbot_activity:m.email_notifications_chatbot_activity,sms_notifications_livechat_activity:m.sms_notifications_livechat_activity,sms_notifications_chatbot_activity:m.sms_notifications_chatbot_activity},handleSubmit:function(e,t){var a=t.setSubmitting,n=t.setErrors;c.a.call("patch","/methods/user/notifications-settings/".concat(m.id),{},e).then((function(){o(!0)})).validation((function(e,t){n(t)})),a(!1)},renderForm:function(e){var t=e.handleBlur,a=e.values,n=e.errors,i=e.isSubmitting,o=e.setFieldValue;return r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{items:[{renderButton:function(){return r.a.createElement("div",null,r.a.createElement(F.h,{className:"icon-size-15 mr-2 color-gray"}),r.a.createElement("span",null,l("user.notifications.title-notification-sound")),r.a.createElement(F.N,{className:"icon-size-15 color-gray mb-2"}))},renderContent:function(){return r.a.createElement("div",null,r.a.createElement(_.a,{formGroupClass:"p-2",id:"site_short_notifications",name:"site_short_notifications",label:l("user.notifications.site-short-notifications-label"),placeholder:l("user.notifications.site-short-notifications-placeholder"),setFieldValue:o,onBlur:t,value:a.site_short_notifications,errors:n}),r.a.createElement(_.a,{formGroupClass:"p-2",id:"site_long_notifications",name:"site_long_notifications",label:l("user.notifications.site-long-notifications-label"),placeholder:l("user.notifications.site-long-notifications-placeholder"),setFieldValue:o,onBlur:t,value:a.site_long_notifications,errors:n}))}},{renderButton:function(){return r.a.createElement("div",null,r.a.createElement(F.M,{className:"icon-size-15 mr-2 color-gray"}),r.a.createElement("span",null,l("user.notifications.title-notification-text")),r.a.createElement(F.N,{className:"icon-size-15 color-gray mb-2"}))},renderContent:function(){return r.a.createElement("div",null,r.a.createElement(_.a,{formGroupClass:"p-2",id:"email_notifications_livechat_activity",name:"email_notifications_livechat_activity",label:l("user.notifications.email-notifications-livechat-activity-label"),placeholder:l("user.notifications.email-notifications-livechat-activity-placeholder"),setFieldValue:o,onBlur:t,value:a.email_notifications_livechat_activity,errors:n}),r.a.createElement(_.a,{formGroupClass:"p-2",id:"email_notifications_chatbot_activity",name:"email_notifications_chatbot_activity",label:l("user.notifications.email-notifications-chatbot-activity-label"),placeholder:l("user.notifications.email-notifications-chatbot-activity-placeholder"),setFieldValue:o,onBlur:t,value:a.email_notifications_chatbot_activity,errors:n}),r.a.createElement("hr",null),r.a.createElement(_.a,{formGroupClass:"p-2",id:"sms_notifications_livechat_activity",name:"sms_notifications_livechat_activity",label:l("user.notifications.sms-notifications-livechat-activity-label"),placeholder:l("user.notifications.sms-notifications-livechat-activity-placeholder"),setFieldValue:o,onBlur:t,value:a.sms_notifications_livechat_activity,errors:n}),r.a.createElement(_.a,{formGroupClass:"p-2",id:"sms_notifications_chatbot_activity",name:"sms_notifications_chatbot_activity",label:l("user.notifications.sms-notifications-chatbot-activity-label"),placeholder:l("user.notifications.sms-notifications-chatbot-activity-placeholder"),setFieldValue:o,onBlur:t,value:a.sms_notifications_chatbot_activity,errors:n}))}}]}),r.a.createElement(f.a,{className:"pt-2 px-4 mt-5 mb-4",disabled:i},l("common.saveBtnText")))}}))}function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,r=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){r=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function P(e){var t=e.user,a=Y(Object(n.useState)(!1),2),i=a[0],o=a[1],l=Object(s.a)().t;return r.a.createElement(b.a,{md:7},r.a.createElement(p.a,{show:i,text:l("user.default-conversation-message.default-conversation-message-changed-message"),onConfirm:function(){return o(!1)}}),r.a.createElement(u.a,{initialValues:{default_conversation_message:t.default_conversation_message},handleSubmit:function(e,a){var n=a.setSubmitting,r=a.setErrors;c.a.call("patch","/methods/user/".concat(t.id),{},e).then((function(){o(!0)})).validation((function(e,t){r(t)})),n(!1)},renderForm:function(e){var t=e.handleChange,a=e.handleBlur,n=e.values,i=e.errors,o=e.isSubmitting;return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{className:"default-message",id:"default_conversation_message",name:"default_conversation_message",type:"textarea",label:l("user.default-conversation-message.default-conversation-message-label"),placeholder:l("user.default-conversation-message.default-conversation-message-placeholder"),onChange:t,onBlur:a,value:n.default_conversation_message||"",errors:i,rows:"6"}),r.a.createElement(f.a,{className:"pt-2 px-4 my-4",disabled:o},l("common.saveBtnText")))}}))}V.propTypes={user:l.a.instanceOf(d.d).isRequired},P.propTypes={user:l.a.instanceOf(d.d).isRequired};var D=a("muO8"),G=a("4K7x"),z=a("rpa7");function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,r=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){r=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return L(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function Q(e){var t=e.user,a=e.afterSave,i=t.id,o=U(Object(n.useState)(!1),2),l=o[0],m=o[1],v=U(Object(n.useState)(null),2),h=v[0],y=v[1],g=Object(s.a)().t,E=Object(z.a)();Object(n.useEffect)((function(){c.a.call("get","/methods/user/".concat(i,"/departments")).then((function(e){var t=e.data.map((function(e){return{label:e.name,value:e.id}}));y(t)}))}),[i]);return h?r.a.createElement(b.a,{md:7},r.a.createElement(p.a,{show:l,text:g("user.settings.departments-changed-message"),onConfirm:function(){return m(!1)}}),r.a.createElement(u.a,{initialValues:{departments:t.departments.map((function(e){return{label:e.name,value:e.id}})),role:t.role},handleSubmit:function(e,n){var r=e.departments,i=e.role,o=n.setSubmitting,l=n.setErrors;c.a.call("patch","/methods/user/".concat(t.id),{},{departments:r?r.map((function(e){return e.value})):[],role:i}).then((function(e){a(e.data),m(!0)})).validation((function(e,t){l(t)})).finally((function(){o(!1)}))},renderForm:function(e){var a=e.setFieldValue,n=e.handleBlur,i=e.values,o=e.errors,l=e.isSubmitting;return r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,{id:"departments",name:"departments",label:g("user.settings.departments-label"),options:h,setFieldValue:a,onBlur:n,value:i.departments,errors:o}),t.id!==E.id?r.a.createElement(O.a,{className:"limiter",id:"role",label:g("user.settings.role-label"),name:"role",setFieldValue:a,value:i.role,errors:o,options:Object(G.b)(g).filter((function(e){return e.value!==d.c})),isClearable:!1}):null,r.a.createElement(f.a,{className:"pt-2 px-4 my-4",disabled:l},g("common.saveBtnText")))}})):null}Q.propTypes={user:l.a.instanceOf(d.d).isRequired,afterSave:l.a.func.isRequired};var J=a("ok1R"),$=a("afej"),K=a("TSYQ"),W=a.n(K),Z=a("o0o1"),H=a.n(Z),X=a("P2Na"),ee=a("/MKj"),te=a("hAFs"),ae=a("a6YV");function ne(e,t,a,n,r,i,o){try{var l=e[i](o),s=l.value}catch(e){return void a(e)}l.done?t(s):Promise.resolve(s).then(n,r)}function re(e){var t=e.user,a=e.afterSave,n=e.editable,i=Object(z.a)(),o=Object(ee.d)(),l=function(){var e,n=(e=H.a.mark((function e(n){var r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(r=n.target.files).length&&Object(X.a)(r[0]).then((function(e){var n,r,l=e.data;(n=t.id,r=l.id,c.a.call("patch","/methods/user/".concat(n),{},{image_id:r})).then((function(){t.id===i.id&&o(Object(te.c)(l)),a(l)}))}));case 2:case"end":return e.stop()}}),e)})),function(){var t=this,a=arguments;return new Promise((function(n,r){var i=e.apply(t,a);function o(e){ne(i,n,r,o,l,"next",e)}function l(e){ne(i,n,r,o,l,"throw",e)}o(void 0)}))});return function(e){return n.apply(this,arguments)}}();return r.a.createElement("label",{className:"user-avatar d-block position-relative mb-4 pb-2"},r.a.createElement("div",{className:"user-photo-block rounded-circle"},r.a.createElement("img",{src:Object(ae.a)(t.imageUrl),alt:t.name,className:"user-photo"})),r.a.createElement("input",{className:"d-none",type:"file",multiple:!1,accept:"image/*",onChange:l,disabled:!n}),n?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"photo-cam-bg position-absolute"}),r.a.createElement(F.i,{className:"photo-icon icon-size-25 color-gray position-absolute"})):null)}re.propTypes={user:l.a.instanceOf(d.d).isRequired,afterSave:l.a.func.isRequired,editable:l.a.bool};var ie=a("HgaL");function oe(e){var t,a=e.user,n=e.screen,i=e.children,o=e.setScreen,l=e.afterImageChanged,c=Object(s.a)().t,u=Object(z.a)();return r.a.createElement(J.a,null,r.a.createElement(b.a,{xl:4},r.a.createElement(T.a,{className:"mb-5 shadow"},r.a.createElement(A.a,{className:"d-flex flex-wrap"},r.a.createElement("div",{className:"mr-5"},r.a.createElement(re,{afterSave:l,user:a,editable:!0})),r.a.createElement("div",null,r.a.createElement("p",{className:"text-large font-weight-bold mb-1"},a.name),r.a.createElement("hr",null),r.a.createElement("table",{className:"user-info-table mb-3"},r.a.createElement("tbody",null,a.isSystemAdministrator?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,r.a.createElement("th",null,c("user.user-info-block.company")),r.a.createElement("td",null,null===(t=a.company)||void 0===t?void 0:t.name)),r.a.createElement("tr",null,r.a.createElement("th",null,c("user.user-info-block.department")),r.a.createElement("td",null,a.departments.map((function(e){return e.name})).join(", ")))),r.a.createElement("tr",null,r.a.createElement("th",null,c("user.user-info-block.role")),r.a.createElement("td",null,c("user.role.".concat(a.role)))))),u.id===a.id?r.a.createElement(ie.a,{toggleClass:"user-language px-0 btn-noShadow"}):null)))),r.a.createElement(b.a,{xl:8},r.a.createElement(T.a,{className:"mb-5 card-navbar shadow"},r.a.createElement($.a,{className:"p-0"},a.isSystemAdministrator?null:r.a.createElement("div",{className:"navigation-bar-wrapper"},r.a.createElement("div",{className:"navigation-bar w-100 d-flex"},r.a.createElement("button",{className:W()("navigation-item rounded-top w-100 py-2 px-3",{active:n===de}),onClick:function(){return o(de)}},c("user.settings-menu.personal-data")),r.a.createElement("button",{className:W()("navigation-item rounded-top w-100 py-2 px-3",{active:n===pe}),onClick:function(){return o(pe)}},c("user.settings-menu.notifications")),r.a.createElement("button",{className:W()("navigation-item rounded-top w-100 py-2 px-3",{active:n===be}),onClick:function(){return o(be)}},c("user.settings-menu.settings")),r.a.createElement("button",{className:W()("navigation-item rounded-top w-100 py-2 px-3",{active:n===ve}),onClick:function(){return o(ve)}},c("user.settings-menu.live-chat"))))),r.a.createElement(A.a,{className:"px-4 rounded-bottom"},r.a.createElement(J.a,null,i)))))}oe.propTypes={user:l.a.instanceOf(d.d).isRequired,screen:l.a.string.isRequired,setScreen:l.a.func.isRequired,afterImageChanged:l.a.func.isRequired,children:l.a.any};var le=a("Ty5D"),se=a("h4JF"),ce=a("vDqi"),ue=a.n(ce);function me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,r=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){r=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return fe(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return fe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var de="main-settings",pe="notifications-settings",be="additional-settings",ve="default-message-settings";function he(){var e=me(Object(n.useState)(null),2),t=e[0],a=e[1],o=me(Object(n.useState)(de),2),l=o[0],s=o[1],u=Object(le.j)().id,m=Object(z.a)(),f=Object(ee.d)(),p=function(e){s(t.isSystemAdministrator?de:e)};Object(n.useEffect)((function(){var e=ue.a.CancelToken.source();return c.a.call("get","/methods/user/".concat(u),{},{},{cancelToken:e.token}).then((function(e){a(e.data?new d.d(e.data):null)})),function(){e.cancel()}}),[u,a]);var b=function(e){var n=t.set("role",e.role).set("name",e.name).set("email",e.email).set("phone",e.phone).set("image_id",e.image_id).set("image",e.image).set("departments",e.departments);a(n),+m.id==+u&&f(Object(te.a)(e))},v=function(e){a(t.set("image_id",e.id).set("image",e))},h=null;if(t)switch(l){case de:h=r.a.createElement(oe,{user:t,screen:l,setScreen:p,afterImageChanged:v},r.a.createElement(N,{user:t,afterSave:b}),r.a.createElement(y,{user:t}));break;case pe:h=r.a.createElement(oe,{user:t,screen:l,setScreen:p,afterImageChanged:v},r.a.createElement(V,{user:t}));break;case be:h=r.a.createElement(oe,{user:t,screen:l,setScreen:p,afterImageChanged:v},r.a.createElement(Q,{user:t,afterSave:b}));break;case ve:h=r.a.createElement(oe,{user:t,screen:l,setScreen:p,afterImageChanged:v},r.a.createElement(P,{user:t}))}else h=r.a.createElement(se.a,null);return r.a.createElement(i.a,{pagesAddClass:"page-bg-gray"},h)}}}]);