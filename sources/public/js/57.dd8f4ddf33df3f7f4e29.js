(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{"4K7x":function(e,a,t){"use strict";t.d(a,"b",(function(){return r})),t.d(a,"a",(function(){return l}));var n=t("83d4");function r(e){return[{label:e("user.role.".concat(n.c)),value:n.c},{label:e("user.role.".concat(n.a)),value:n.a},{label:e("user.role.".concat(n.b)),value:n.b}]}function l(e){return function(){return new Promise((function(a){a(r(e))}))}}},E4lw:function(e,a,t){"use strict";var n=t("q1tI"),r=t.n(n),l=t("17x9"),c=t.n(l),i=t("jeY2"),u=t("lYjl"),o=t("MwQV"),s=t("c8c+"),m=t("Qu/B"),d=t("EW+5"),g=Object(d.a)(u.a),p=g.loading,b=g.itemsListLoaded,f=g.error,E=t("4vsJ"),v=t("2pJb"),h=t("eOHm"),y=t("9Koi"),j=t("QPV6"),O=t("OKOT"),x=t("GmYL"),P=t("ridt"),w=t("Uf9I"),N=t("1Y33"),q=t("4K7x"),R=t("jQco"),F=t("kvuc"),I=t("ma3e");function k(e){var a=e.userId,t=Object(y.a)().t;return r.a.createElement(F.a,{className:"p-3 d-flex action-dropdown-item edit color-black",tag:"a",href:"/user/impersonate/".concat(a)},r.a.createElement(I.hb,{className:"icon-size-15 color-blue mr-2"}),r.a.createElement("span",{className:"text-main color-blue"},t("tables.action-impersonate")))}k.propTypes={userId:c.a.number.isRequired};var S=r.a.memo(k),T=t("rpa7"),J=t("Yfk4"),Y=t("dbgk"),z=t("19iC"),C=t("Jxq0"),K=t("55Ip");function Q(e){var a=e.user,t=Object(y.a)().t,n=Object(z.a)();return a.isOnline?r.a.createElement("div",null,r.a.createElement("div",{className:"online-dot d-inline-block rounded-circle mr-1"}),r.a.createElement("span",null,"online")):a.last_activity?r.a.createElement("span",null,t("user.index-page.last-user-activity",{date:n(a.last_activity)})):null}function _(e){return function(){return new Promise((function(a){a([{label:e("user.index-page.status-online"),value:1},{label:e("user.index-page.status-offline"),value:0}])}))}}function B(e){var a=e.sort,t=e.filters,n=e.data,l=e.currentPage,c=e.lastPage,i=e.changeSort,u=e.changeFilters,o=e.changePage,s=e.paginatorRoute,m=e.showCreationButton,d=Object(y.a)().t,g=Object(T.a)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,null,d("user.index-page.title")),m?r.a.createElement("div",{className:"text-right"},r.a.createElement(K.a,{to:"/users/create",className:"btn btn-primary mt-2 mb-4"},d("user.index-page.create-btn-text"))):null,r.a.createElement(R.d,{changeFilters:u,filters:t}),r.a.createElement(J.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement(v.a,{title:d("user.index-page.column-name"),active:Object(E.b)(a,"name")||Object(N.b)(t,"name")},r.a.createElement(E.a,{sort:a,name:"name",displayName:d("user.index-page.column-name"),changeSort:i,order:1}),r.a.createElement(w.a,{displayName:d("user.index-page.column-name"),filters:t,changeFilters:u,column:"name"}))),r.a.createElement("th",null,r.a.createElement(v.a,{title:d("user.index-page.column-email"),active:Object(E.b)(a,"email")||Object(N.b)(t,"email")},r.a.createElement(E.a,{sort:a,name:"email",displayName:d("user.index-page.column-email"),changeSort:i,order:2}),r.a.createElement(w.a,{displayName:d("user.index-page.column-email"),filters:t,changeFilters:u,column:"email"}))),r.a.createElement("th",null,r.a.createElement(v.a,{title:d("user.index-page.column-role"),active:Object(N.b)(t,"role")},r.a.createElement(P.a,{displayName:d("user.index-page.column-role"),filters:t,changeFilters:u,column:"role",loadOptions:Object(q.a)(d)}))),r.a.createElement("th",null,r.a.createElement(v.a,{title:d("user.index-page.column-status"),active:Object(E.b)(a,"last_activity")||Object(N.b)(t,"role")},r.a.createElement(E.a,{sort:a,name:"last_activity",displayName:d("user.index-page.column-status"),changeSort:i,order:3}),r.a.createElement(P.a,{displayName:d("user.index-page.column-status"),filters:t,changeFilters:u,column:"scopeStatus",loadOptions:_(d)}))),r.a.createElement("th",null,"Â "))),r.a.createElement("tbody",null,n.length?n.map((function(e){return r.a.createElement("tr",{key:e.id,id:e.id},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.email),r.a.createElement("td",null,d("user.role.".concat(e.role))),r.a.createElement("td",null,r.a.createElement(Q,{user:e})),r.a.createElement(j.a,null,(function(a){return r.a.createElement(r.a.Fragment,null,g.id!==e.id&&g.isSystemAdministrator?r.a.createElement(S,{userId:e.id}):null,r.a.createElement(x.a,{url:"/users/".concat(e.id,"/edit")}),g.id===e.id?null:r.a.createElement(O.a,{url:"/methods/user/".concat(e.id),setConfirm:a,onSuccess:function(){return o(l)}}))})))})):r.a.createElement(C.a,{colspan:5}))),r.a.createElement(h.a,{currentPage:l,lastPage:c,loadPage:o,route:s}))}B.propTypes={changeFilters:c.a.func.isRequired,changeSort:c.a.func.isRequired,changePage:c.a.func.isRequired,data:c.a.array.isRequired,currentPage:c.a.number,lastPage:c.a.number,filters:c.a.object.isRequired,sort:c.a.object.isRequired,paginatorRoute:c.a.string.isRequired,showCreationButton:c.a.bool};a.a=Object(i.a)(B,(function(e){var a,t=e.users;return{loading:t.get("loading"),data:null===(a=t.get("data"))||void 0===a?void 0:a.toArray(),errors:t.get("errors"),currentPage:t.get("currentPage"),lastPage:t.get("lastPage"),filters:t.get("filters"),sort:t.get("sort")}}),(function(e,a){return{loadPage:function(t,n,r){e(function(e,a,t,n){return function(r){var l={page:e};(a.size||n.size)&&(l.filter=Object(s.a)(n?a.concat(n):a)),t.size&&(l.order=Object(m.a)(t)),r(p()),o.a.call("get","/methods/user",l,{}).then((function(e){r(b({filters:a,sort:t,response:e}))})).catch((function(e){return r(f(e))}))}}(t,n,r,a.defaultFilters))}}}))},GmYL:function(e,a,t){"use strict";var n=t("q1tI"),r=t.n(n),l=t("17x9"),c=t.n(l),i=t("ma3e"),u=t("9Koi"),o=t("5TAD");function s(e){var a=e.url,t=Object(u.a)().t;return r.a.createElement(o.a,{url:a,icon:r.a.createElement(i.J,{className:"icon-size-15 color-blue mr-2"}),text:t("common.edit-link")})}s.propTypes={url:c.a.string.isRequired},a.a=r.a.memo(s)},mN8t:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return s}));var n=t("q1tI"),r=t.n(n),l=t("jQco"),c=t("E4lw"),i=t("Mpt7"),u=t("Ty5D"),o=t("rpa7");function s(){var e=Object(u.j)().companyId,a=[{column:"company_id",operator:"eq",value:e,filterValue:e,display:"",displayingType:l.c}],t=Object(o.a)();return r.a.createElement(c.a,{showCreationButton:t.companyId===e,defaultFilters:Object(i.d)(a),additionalPageUrlParams:{companyId:e},paginatorRoute:"/companies/".concat(e,"/users")})}}}]);