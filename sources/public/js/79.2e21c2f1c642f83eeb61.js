(window.webpackJsonp=window.webpackJsonp||[]).push([[79],{NhCm:function(e,a,t){"use strict";t.d(a,"a",(function(){return v}));var n=t("q1tI"),r=t.n(n),l=t("17x9"),i=t.n(l),u=t("9Koi"),s=t("nc57"),o=t("6Rhw"),c=t("x37D"),m=t("vtrE"),d=t("MwQV");function f(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],n=!0,r=!1,l=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done)&&(t.push(i.value),!a||t.length!==a);n=!0);}catch(e){r=!0,l=e}finally{try{n||null==u.return||u.return()}finally{if(r)throw l}}return t}(e,a)||function(e,a){if(!e)return;if("string"==typeof e)return b(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return b(e,a)}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,n=new Array(a);t<a;t++)n[t]=e[t];return n}function v(e){var a=e.defaultData,t=e.handleSubmit,l=Object(u.a)().t,i=f(Object(n.useState)(),2),b=i[0],v=i[1];return Object(n.useEffect)((function(){(function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new Promise((function(t){d.a.call("get","/methods/user-roles/abilities",{}).data((function(n){var r=n.map((function(a){return{label:e("user.abilities.".concat(a)),value:a}}));t(a.concat(r))}))}))})(l).then(v)}),[l]),b?r.a.createElement(s.a,{className:"limiter",initialValues:a,handleSubmit:t,renderForm:function(e){var a=e.handleChange,t=e.handleBlur,n=e.values,i=e.errors,u=e.setFieldValue,s=e.isSubmitting;return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a,{id:"name",name:"name",label:l("user.roles.name-label"),placeholder:l("user.roles.name-placeholder"),onChange:a,onBlur:t,value:n.name,errors:i}),r.a.createElement(m.a,{labelListClass:"align-items-center",label:l("siteConfig.language.available-languages-label"),name:"abilities",value:n.abilities,setFieldValue:function(e,a){(a.includes("manageCampaign")||a.includes("manageInstantMessage"))&&(a.includes("manageClient")||(n.abilities.includes("manageClient")?a=a.filter((function(e){return!["manageCampaign","manageInstantMessage"].includes(e)})):a.push("manageClient"))),u(e,a)},options:b,errors:i}),r.a.createElement(c.a,{className:"pt-2 px-4 mt-3 mb-5",disabled:s},l("common.saveBtnText")))}}):null}v.propTypes={defaultData:i.a.object.isRequired,handleSubmit:i.a.func.isRequired}},k9Br:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return c}));var n=t("q1tI"),r=t.n(n),l=t("TtP3"),i=t("9Koi"),u=t("Ty5D"),s=t("MwQV"),o=t("NhCm");function c(){var e=Object(u.j)().companyId,a=Object(i.a)().t,t=Object(u.h)(),c=Object(n.useCallback)((function(a,n){var r=n.setSubmitting,l=n.setErrors;s.a.call("post","/methods/user-roles",{},{name:a.name,company_id:e,abilities:a.abilities}).then((function(){t.goBack()})).validation((function(e,a){l(a)})),r(!1)}),[e,t]);return r.a.createElement(l.a,{title:a("user.roles.create-page.title")},r.a.createElement(o.a,{handleSubmit:c,defaultData:{name:"",abilities:[]}}))}},vtrE:function(e,a,t){"use strict";t.d(a,"a",(function(){return f}));var n=t("q1tI"),r=t.n(n),l=t("17x9"),i=t.n(l),u=t("sPdi"),s=t("jrRI"),o=t("3OM0"),c=t("BAJy"),m=t("TSYQ"),d=t.n(m);function f(e){var a,t,n=e.label,l=e.errors,i=e.name,m=e.setFieldValue,f=e.value,b=e.options,v=e.labelListClass,p=e.labelClass,g=e.formGroupClass;return r.a.createElement(s.a,{className:d()(g)},r.a.createElement(o.a,{className:d()("d-flex checkbox-label",p)},n),r.a.createElement("div",{className:d()({"is-invalid":!!(null===(a=l[i])||void 0===a?void 0:a.length)})},b.map((function(e){var a,t=f.includes(e.value);return r.a.createElement(o.a,{key:e.value,htmlFor:e.value,className:d()("d-flex",v)},r.a.createElement(c.a,{id:e.value,name:"".concat(i,"[").concat(e.value,"]"),type:"checkbox",checked:t,onChange:function(){if(t)m(i,f.filter((function(a){return a!==e.value})));else{var a=f.slice();a.push(e.value),m(i,a)}},invalid:!!(null===(a=l[i])||void 0===a?void 0:a.length)}),r.a.createElement("span",null,e.label))}))),(null===(t=l[i])||void 0===t?void 0:t.length)?r.a.createElement(u.a,{errors:l[i]}):null)}f.propTypes={options:i.a.array.isRequired,errors:i.a.object.isRequired,id:i.a.oneOfType([i.a.string,i.a.number]),label:i.a.any,name:i.a.string.isRequired,setFieldValue:i.a.func.isRequired,value:i.a.array.isRequired,formGroupClass:i.a.string,labelClass:i.a.string,labelListClass:i.a.string}}}]);