(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{R5y6:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n("q1tI"),a=n.n(r),o=n("QDav"),i=n("xilt"),s=n("jrRI"),l=n("3OM0"),c=n("TSYQ"),u=n.n(c),d=n("sPdi"),m=n("17x9"),g=n.n(m),f=n("9Koi");function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y={control:function(e){return p(p({},e),{},{"&, &:hover, &:focus":{borderColor:"#ced4da",boxShadow:"none"}})},menu:function(e){return p(p({},e),{},{zIndex:10})}};function v(e){var t,n,r=e.id,c=e.label,m=e.errors,g=e.loadOptions,b=e.name,p=e.setFieldValue,h=e.handleBlur,v=e.value,O=e.className,w=e.placeholder,x=e.isClearable,C=e.cacheOptions,E=e.isMulti,j=e.isDisabled,k=e.defaultOptions,R=Object(f.a)().t,S=x?i.a:o.a;return a.a.createElement(s.a,{className:u()(O)},a.a.createElement(l.a,{htmlFor:r},c),a.a.createElement(S,{cacheOptions:C,defaultOptions:k,loadOptions:g,onChange:function(e){p(b,e)},value:v,isClearable:x,className:u()({"is-invalid":!!(null===(t=m[b])||void 0===t?void 0:t.length)}),placeholder:w||R("common.default-select-placeholder"),styles:y,isMulti:E,isDisabled:j,onBlur:h}),(null===(n=m[b])||void 0===n?void 0:n.length)?a.a.createElement(d.a,{errors:m[b]}):null)}v.defaultProps={isClearable:!0,cacheOptions:!0,defaultOptions:!0},v.propTypes={errors:g.a.object.isRequired,id:g.a.oneOfType([g.a.string,g.a.number]),value:g.a.oneOfType([g.a.shape({label:g.a.string,value:g.a.oneOfType([g.a.string,g.a.number])}),g.a.array]),label:g.a.any.isRequired,name:g.a.string.isRequired,handleBlur:g.a.func,setFieldValue:g.a.func.isRequired,loadOptions:g.a.func.isRequired,className:g.a.string,placeholder:g.a.string,isClearable:g.a.bool,isMulti:g.a.bool,isDisabled:g.a.bool,cacheOptions:g.a.bool,defaultOptions:g.a.oneOfType([g.a.bool,g.a.array])}},UiJU:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),s=n("nc57"),l=n("6Rhw"),c=n("x37D"),u=n("9Koi"),d=n("ok1R"),m=n("rhny"),g=n("sOKU"),f=n("ma3e"),b=n("CXWj"),p=n("BLzl"),h=n("/kxI"),y=n("+z1p"),v=n.n(y),O=n("AEIT"),w=n("jrRI"),x=n("BAJy"),C=n("3OM0");n("jWsU");function E(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e){var t=e.item,n=e.onItemChange,r=e.onRemove,o=e.index,i=e.errors,s=Object(u.a)().t;return a.a.createElement(p.a,{className:"mb-2"},a.a.createElement(h.a,null,a.a.createElement(d.a,null,a.a.createElement(m.a,{sm:12,md:6},a.a.createElement(w.a,null,a.a.createElement(C.a,null,s("campaigns.form.message-text-label")),a.a.createElement(O.CKEditor,{editor:v.a,data:t.get("text"),onChange:function(e,r){n(t.set("text",r.getData()))},placeholder:s("campaigns.form.message-text-placeholder"),config:{toolbar:["bold","italic","underline","link","bulletedList","numberedList","undo","redo"],mention:{feeds:[{marker:"@",feed:function(e){return Promise.resolve([{id:"@".concat(e)}].concat(E([{id:"@first_name"},{id:"@last_name"},{id:"@email"},{id:"@phone_number"}].filter((function(t){return t.id.toLowerCase().includes(e.toLowerCase())})))))}}]}}}))),a.a.createElement(m.a,{sm:12,md:6},a.a.createElement(l.a,{className:"mr-sm-3 mr-2",id:"messages.".concat(o,".trigger"),name:"messages.".concat(o,".trigger"),label:s("campaigns.form.message-trigger-label"),placeholder:s("campaigns.form.message-trigger-placeholder"),value:t.get("trigger"),onChange:function(e){n(t.set("trigger",e.target.value))},errors:i}),a.a.createElement(l.a,{className:"mr-sm-3 mr-2",id:"messages.".concat(o,".delay"),name:"messages.".concat(o,".delay"),label:s("campaigns.form.message-delay-label"),placeholder:s("campaigns.form.message-delay-placeholder"),value:t.get("delay"),onChange:function(e){n(t.set("delay",e.target.value))},errors:i})),a.a.createElement(m.a,{sm:12},E(Array(7).keys()).map((function(e){var r;return a.a.createElement("span",{key:e},a.a.createElement(x.a,{id:"messages.".concat(o,".day-config.").concat(e),className:"day-select-btn",name:"messages.".concat(o,".day-config.").concat(e),type:"checkbox",checked:t.get("days_config").includes(e),onChange:function(r){+r.target.checked?n(t.set("days_config",t.get("days_config").push(e).sort())):n(t.set("days_config",t.get("days_config").filter((function(t){return t!==e})).sort()))},invalid:!!(null===(r=i[name])||void 0===r?void 0:r.length),label:s("common.daysOfWeek.".concat(e))}))}))),a.a.createElement(m.a,{sm:10},a.a.createElement(b.a,{id:"messages.".concat(o,".only_working_time"),name:"messages.".concat(o,".only_working_time"),label:s("campaigns.form.message-only-working-time-label"),value:t.get("only_working_time"),setFieldValue:function(e,r){n(t.set("only_working_time",r))},errors:i})),a.a.createElement(m.a,{sm:2,className:"text-right pt-2"},a.a.createElement("button",{className:"btn btn-link no-shadow",type:"button",onClick:r},a.a.createElement(f.X,{className:"color-gray icon-size-20"}))))))}k.propTypes={item:i.a.object.isRequired,errors:i.a.object.isRequired,onItemChange:i.a.func.isRequired,onRemove:i.a.func.isRequired,index:i.a.number.isRequired};var R=k,S=n("R5y6"),I=n("MwQV");function A(e){return new Promise((function(t){I.a.call("get","/methods/time-zones/search",{q:e}).data((function(e){t(e.map((function(e){return{label:e.name,value:e.id}})))}))}))}function L(e){var t=e.handleBlur,n=e.values,r=e.errors,o=e.isSubmitting,i=e.handleNameChange,s=e.handleTimeZoneChange,f=e.handleMessageChange,b=e.handleClickRemoveMessage,p=e.handleClickAddMessage,h=Object(u.a)().t;return a.a.createElement(d.a,null,a.a.createElement(m.a,{md:12},a.a.createElement(l.a,{className:"limiter",id:"name",name:"name",label:h("campaigns.form.name-label"),placeholder:h("campaigns.form.name-placeholder"),onChange:i,onBlur:t,value:n.name,errors:r}),a.a.createElement(S.a,{className:"limiter",name:"timeZone",label:h("campaigns.form.time-zone-label"),value:n.timeZone,setFieldValue:s,errors:r,loadOptions:A,isMulti:!1,isClearable:!1}),a.a.createElement("div",null,n.messages.map((function(e,t){return a.a.createElement(R,{key:t,index:t,item:e,onItemChange:function(e){f(t,e)},onRemove:function(){return b(t)},errors:r})}))),a.a.createElement("div",{className:"text-right"},a.a.createElement(g.a,{className:"mb-3",type:"button",onClick:p},h("campaigns.form.add-message-btn")))),a.a.createElement(m.a,{sm:12},a.a.createElement(c.a,{className:"pt-2 px-4 mb-4",disabled:o},h("common.saveBtnText"))))}L.propTypes={handleMessageChange:i.a.func.isRequired,handleClickRemoveMessage:i.a.func.isRequired,handleClickAddMessage:i.a.func.isRequired,handleNameChange:i.a.func.isRequired,handleTimeZoneChange:i.a.func.isRequired,handleBlur:i.a.func.isRequired,values:i.a.object.isRequired,errors:i.a.object.isRequired,isSubmitting:i.a.bool,fromList:i.a.bool,calculation:i.a.bool};var P=L,q=n("Mpt7");let B=/(-?(?:\d+\.?\d*|\d*\.?\d+)(?:e[-+]?\d+)?)\s*([\p{L}]*)/giu;function T(e="",t="ms"){var n=null;return(e=(e+"").replace(/(\d)[,_](\d)/g,"$1$2")).replace(B,(function(e,t,r){(r=W(r))&&(n=(n||0)+parseFloat(t,10)*r)})),n&&n/(W(t)||1)}function W(e){return T[e]||T[e.toLowerCase().replace(/s$/,"")]}T.nanosecond=T.ns=1e-6,T["µs"]=T["μs"]=T.us=T.microsecond=.001,T.millisecond=T.ms=T[""]=1,T.second=T.sec=T.s=1e3*T.ms,T.minute=T.min=T.m=60*T.s,T.hour=T.hr=T.h=60*T.m,T.day=T.d=24*T.h,T.week=T.wk=T.w=7*T.d,T.month=T.b=30.4375*T.d,T.year=T.yr=T.y=365.25*T.d;var z=T;function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function D(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){F(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U(e){var t=e.initialData,n=e.handleSubmit,o=e.afterSave,i=e.fromFilters,l=Object(r.useCallback)((function(e,t){var r=e.messages?e.messages.toJS():[],a={name:e.name||null,timeZone:e.timeZone?e.timeZone.value:null,messages:r.map((function(e){return _(_({},e),{},{delay:""!==e.delay?z(e.delay)/6e4:null})}))};n(a).data((function(e){t.setSubmitting(!1),o(e)})).validation((function(e,n){t.setErrors(n),t.setSubmitting(!1)})).catch((function(){t.setSubmitting(!1)}))}),[n,o]);return a.a.createElement(s.a,{initialValues:t,handleSubmit:l,renderForm:function(e){var t=e.setFieldValue,n=e.handleChange,r=e.values,o=e.errors,s=e.setErrors,l=D(e,["setFieldValue","handleChange","values","errors","setErrors"]);return a.a.createElement(P,M({},l,{errors:o,setErrors:s,values:r,fromList:i,handleNameChange:function(e){n(e),t("isNameChanged",!!e.target.value)},handleTimeZoneChange:function(e,n){t(e,n)},handleClickRemoveMessage:function(e){var n=_({},o);n.messages&&delete n.messages,s(n),t("messages",r.messages.delete(e))},handleMessageChange:function(e,n){t("messages",r.messages.set(e,n))},handleClickAddMessage:function(){t("messages",r.messages.push(Object(q.b)({delay:"",text:"",trigger:"",only_working_time:0})))}}))}})}U.propTypes={initialData:i.a.object.isRequired,handleSubmit:i.a.func.isRequired,afterSave:i.a.func.isRequired,fromFilters:i.a.bool};t.a=U},dbgk:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o);function s(e){var t=e.children;return a.a.createElement("h1",{className:"title-main mb-3"},t)}s.propTypes={children:i.a.any.isRequired}},jWsU:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.closeButton=t.inputErrorIconAfter=t.inputErrorIconBefore=t.inputErrorIconBeforeAfter=t.inputErrorIcon=t.exclamationIcon=t.validationMessage=t.button=t.iconCustom=t.iconSuccessLineLong=t.iconSuccessLineTip=t.iconSuccessLine=t.iconSuccessFix=t.iconSuccessPlaceholder=t.iconSuccessAfter=t.iconSuccessBefore=t.iconSuccessBeforeAfter=t.iconSuccess=t.iconInfoAfter=t.iconInfoBefore=t.iconInfo=t.iconWarningDot=t.iconWarningBody=t.iconWarning=t.iconErrorLineRight=t.iconErrorLineLeft=t.iconErrorLine=t.iconErrorX=t.iconError=t.icon=t.actions=t.contentContainer=t.title=t.sweetAlert=t.sweetAlertContainer=t.overlay=void 0,t.overlay={backgroundColor:"rgba(0, 0, 0, 0.4)",position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:5e3},t.sweetAlertContainer={display:"flex",position:"fixed",top:0,right:0,left:0,bottom:0,flexDirection:"row",alignItems:"center",justifyContent:"center",padding:".625em",overflowX:"hidden",overflowY:"auto",zIndex:5400},t.sweetAlert={display:"flex",overflow:"hidden",backgroundColor:"#fff",outline:"none",width:"32em",padding:"1.25rem",margin:"auto",borderRadius:".3125em",textAlign:"center",position:"relative",flexDirection:"column",justifyContent:"center",maxWidth:"100%",zIndex:5600},t.title={position:"relative",maxWidth:"100%",margin:"0 0 .4em",padding:0,fontSize:"1.875em",fontWeight:600,textAlign:"center",textTransform:"none",wordWrap:"break-word"},t.contentContainer={zIndex:1,justifyContent:"center",margin:0,padding:0,fontSize:"1.125em",fontWeight:300,lineHeight:"normal",textAlign:"center",wordWrap:"break-word"},t.actions={display:"flex",zIndex:1,flexWrap:"wrap",alignItems:"center",justifyContent:"center",width:"100%",margin:"1.25em auto 0"},t.icon={width:80,height:80,borderWidth:4,borderStyle:"solid",borderColor:"gray",borderRadius:"50%",margin:"20px auto",position:"relative",boxSizing:"content-box"},t.iconError={borderColor:"#d43f3a",animation:"animateErrorIcon 0.5s"},t.iconErrorX={position:"relative",display:"block",animation:"animateXMark 0.5s"},t.iconErrorLine={position:"absolute",height:5,width:47,backgroundColor:"#d9534f",display:"block",top:37,borderRadius:2},t.iconErrorLineLeft={transform:"rotate(45deg)",left:17},t.iconErrorLineRight={transform:"rotate(-45deg)",right:16},t.iconWarning={borderColor:"#eea236",animation:"pulseWarning 0.75s infinite alternate"},t.iconWarningBody={position:"absolute",width:5,height:47,left:"50%",top:10,borderRadius:2,marginLeft:-2,backgroundColor:"#f0ad4e",animation:"pulseWarningIns 0.75s infinite alternate"},t.iconWarningDot={position:"absolute",width:7,height:7,borderRadius:"50%",marginLeft:-3,left:"50%",bottom:10,backgroundColor:"#f0ad4e",animation:"pulseWarningIns 0.75s infinite alternate"},t.iconInfo={borderColor:"#46b8da"},t.iconInfoBefore={content:"",position:"absolute",width:5,height:29,left:"50%",bottom:17,borderRadius:2,marginLeft:-2,backgroundColor:"#5bc0de"},t.iconInfoAfter={content:"",position:"absolute",width:7,height:7,borderRadius:"50%",marginLeft:-3,left:"50%",top:19,backgroundColor:"#5bc0de"},t.iconSuccess={borderColor:"#4cae4c"},t.iconSuccessBeforeAfter={content:"",borderRadius:"50%",position:"absolute",width:60,height:120,background:"white",transform:"rotate(45deg)"},t.iconSuccessBefore={borderRadius:"120px 0 0 120px",height:100,top:-7,left:-33,transform:"rotate(-45deg)",transformOrigin:"60px 60px"},t.iconSuccessAfter={borderRadius:"0 120px 120px 0",top:-11,left:30,transform:"rotate(-45deg)",transformOrigin:"0px 60px",animation:"rotatePlaceholder 4.25s ease-in"},t.iconSuccessPlaceholder={width:80,height:80,border:"4px solid rgba(92, 184, 92, 0.2)",borderRadius:"50%",boxSizing:"content-box",position:"absolute",left:-4,top:-4,zIndex:2},t.iconSuccessFix={width:5,height:90,backgroundColor:"#fff",position:"absolute",left:28,top:8,zIndex:1,transform:"rotate(-45deg)"},t.iconSuccessLine={height:5,backgroundColor:"#5cb85c",display:"block",borderRadius:2,position:"absolute",zIndex:2},t.iconSuccessLineTip={width:25,left:14,top:46,transform:"rotate(45deg)",animation:"animateSuccessTip 0.75s"},t.iconSuccessLineLong={width:47,right:8,top:38,transform:"rotate(-45deg)",animation:"animateSuccessLong 0.75s"},t.iconCustom={backgroundSize:"contain",borderRadius:0,border:"none",backgroundPosition:"center center",backgroundRepeat:"no-repeat"},t.button={marginRight:8},t.validationMessage={display:"block",backgroundColor:"#f1f1f1",marginLeft:"-1.25rem",marginRight:"-1.25rem",marginTop:20,overflow:"hidden",padding:10,maxHeight:100,transition:"padding 0.25s, max-height 0.25s",color:"#797979",fontSize:16,textAlign:"center",fontWeight:300},t.exclamationIcon={display:"inline-block",width:24,height:24,borderRadius:"50%",backgroundColor:"#ea7d7d",color:"white",lineHeight:"24px",textAlign:"center",marginRight:5},t.inputErrorIcon={position:"absolute",top:8,right:8,width:20,height:20,transformOrigin:"50% 50%",transition:"all 0.1s",opacity:1,transform:"scale(1)"},t.inputErrorIconBeforeAfter={content:"",width:20,height:6,backgroundColor:"#f06e57",borderRadius:3,position:"absolute",top:"50%",marginTop:-4,left:"50%",marginLeft:-9},t.inputErrorIconBefore={transform:"rotate(-45deg)"},t.inputErrorIconAfter={transform:"rotate(45deg)"},t.closeButton={position:"absolute",right:4,top:-2,fontSize:25,fontWeight:900,color:"rgb(113, 113, 113)",zIndex:1,cursor:"pointer"}},xilt:function(e,t,n){"use strict";n("q1tI"),n("qKvR"),n("i8i4"),n("17x9");var r=n("njTy"),a=(n("iYmT"),n("FUBA"),n("1m/E")),o=n("QDav"),i=n("vwsU"),s=Object(i.b)(r.a),l=Object(a.a)(s),c=Object(o.b)(l);t.a=c}}]);