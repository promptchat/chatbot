(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{"6jMY":function(e,t,a){"use strict";a.d(t,"b",(function(){return s}));var n=a("MwQV");function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){return new Promise((function(a){var s={q:t};e&&(s.type=e),n.a.call("get","/methods/integrations/search",s).data((function(e){a(e.map((function(e){return{label:e.name,value:e.id,integration:e}})))}))}))}}var r=s();t.a=r},GmYL:function(e,t,a){"use strict";var n=a("q1tI"),s=a.n(n),r=a("17x9"),i=a.n(r),c=a("ma3e"),l=a("9Koi"),m=a("5TAD");function o(e){var t=e.url,a=Object(l.a)().t;return s.a.createElement(m.a,{url:t,icon:s.a.createElement(c.J,{className:"icon-size-15 color-blue mr-2"}),text:a("common.edit-link")})}o.propTypes={url:i.a.string.isRequired},t.a=s.a.memo(o)},Vham:function(e,t,a){"use strict";a.r(t);var n=a("q1tI"),s=a.n(n),r=a("17x9"),i=a.n(r),c=a("q7S4"),l=a("MwQV"),m=a("c8c+"),o=a("Qu/B"),u=a("EW+5"),g=Object(u.a)(c.a),d=g.loading,b=g.itemsListLoaded,f=g.error,E=a("4OsG");function p(e){return function(){return new Promise((function(t){t(function(e){return[{label:e("instantMessages.status.".concat(E.c)),value:E.c},{label:e("instantMessages.status.".concat(E.b)),value:E.b},{label:e("instantMessages.status.".concat(E.d)),value:E.d},{label:e("instantMessages.status.".concat(E.a)),value:E.a}]}(e))}))}}var h=a("jeY2"),v=a("9Koi"),M=a("4vsJ"),x=a("ridt"),j=a("jQco"),O=a("2pJb"),y=a("1Y33"),N=a("eOHm"),P=a("QPV6"),q=a("Yfk4"),w=a("dbgk"),F=a("Jxq0"),_=a("Uf9I"),k=a("19iC"),R=a("GmYL"),S=a("OKOT"),Y=a("55Ip"),J=a("6jMY"),Q=a("ma3e"),T=a("5TAD");function z(e){var t=e.filters,a=e.sort,n=e.data,r=e.currentPage,i=e.lastPage,c=e.changeFilters,l=e.changeSort,m=e.changePage,o=Object(v.a)().t,u=Object(k.a)();return s.a.createElement(s.a.Fragment,null,s.a.createElement(w.a,null,o("instantMessages.index.title")),s.a.createElement("div",{className:"text-right"},s.a.createElement(Y.a,{to:"/instant-message-templates/1",className:"btn btn-primary mt-2 mb-4 mr-2"},o("instantMessages.index.template-btn-text")),s.a.createElement(Y.a,{to:"/instant-messages/create",className:"btn btn-primary mt-2 mb-4"},o("instantMessages.index.create-btn-text"))),s.a.createElement(j.d,{filters:t,changeFilters:c}),s.a.createElement(q.a,{className:"instant-messages-table"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,s.a.createElement(O.a,{title:o("instantMessages.index.name-column"),active:Object(M.b)(a,"instant_messages.name")||Object(y.b)(t,"instant_messages.name")},s.a.createElement(M.a,{sort:a,name:"instant_messages.name",displayName:o("instantMessages.index.name-column"),changeSort:l,order:1}),s.a.createElement(_.a,{displayName:o("user.index-page.column-name"),filters:t,changeFilters:c,column:"instant_messages.name"}))),s.a.createElement("th",null,s.a.createElement(O.a,{title:o("instantMessages.index.integration-column"),active:Object(M.b)(a,"integrations.name")||Object(y.b)(t,"integrations.name")},s.a.createElement(M.a,{sort:a,name:"integrations.name",displayName:o("instantMessages.index.integration-column"),changeSort:l,order:1}),s.a.createElement(x.a,{displayName:o("user.index-page.integration-column"),filters:t,changeFilters:c,column:"integrations.id",loadOptions:Object(J.b)()}))),s.a.createElement("th",{className:"state"},s.a.createElement(O.a,{title:o("instantMessages.index.status-column"),active:Object(y.b)(t,"status")},s.a.createElement(x.a,{displayName:o("instantMessages.index.status-column"),filters:t,changeFilters:c,column:"status",loadOptions:p(o)}))),s.a.createElement("th",{className:"start-at"},s.a.createElement(O.a,{title:o("instantMessages.index.start-at-column"),active:Object(M.b)(a,"start_at")},s.a.createElement(M.a,{sort:a,name:"start_at",displayName:o("instantMessages.index.start-at-column"),changeSort:l,order:2}))),s.a.createElement("th",{className:"action-items"},"Â "))),s.a.createElement("tbody",null,n.length?n.map((function(e){return s.a.createElement("tr",{key:e.id,id:e.id},s.a.createElement("td",null,e.name),s.a.createElement("td",null,e.integration?e.integration.name:"-"),s.a.createElement("td",{className:"state"},o("instantMessages.status.".concat(e.status))),s.a.createElement("td",{className:"start-at"},u(e.start_at),e.send_instantly?"(".concat(o("instantMessages.sent-instantly"),")"):""),s.a.createElement(P.a,null,(function(t){return s.a.createElement(s.a.Fragment,null,s.a.createElement(T.a,{url:"/instant-messages/".concat(e.id,"/view"),icon:s.a.createElement(Q.t,{className:"icon-size-15 color-blue mr-2"}),text:o("common.view-link")}),e.status!==E.c?null:s.a.createElement(R.a,{url:"/instant-messages/".concat(e.id,"/edit")}),e.status!==E.c?null:s.a.createElement(S.a,{url:"/methods/instant-messages/".concat(e.id),setConfirm:t,onSuccess:function(){return m(r)}}))})))})):s.a.createElement(F.a,{colspan:8}))),s.a.createElement(N.a,{currentPage:r,lastPage:i,loadPage:m,route:"/instant-messages"}))}z.propTypes={changeFilters:i.a.func.isRequired,changeSort:i.a.func.isRequired,changePage:i.a.func.isRequired,data:i.a.array.isRequired,currentPage:i.a.number,lastPage:i.a.number,filters:i.a.object.isRequired,sort:i.a.object.isRequired};t.default=Object(h.a)(z,(function(e){var t,a=e.instantMessages;return{loading:a.get("loading"),data:null===(t=a.get("data"))||void 0===t?void 0:t.toArray(),errors:a.get("errors"),currentPage:a.get("currentPage"),lastPage:a.get("lastPage"),filters:a.get("filters"),sort:a.get("sort")}}),(function(e){return{loadPage:function(t,a,n){return e(function(e,t,a){return function(n){var s={page:e};t.size&&(s.filter=Object(m.a)(t)),a.size&&(s.order=Object(o.a)(a)),n(d()),l.a.call("get","/methods/instant-messages",s,{}).then((function(e){n(b({filters:t,sort:a,response:e}))})).catch((function(e){return n(f(e))}))}}(t,a,n))}}}))}}]);