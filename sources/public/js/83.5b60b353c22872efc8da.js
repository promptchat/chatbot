(window.webpackJsonp=window.webpackJsonp||[]).push([[83],{cB2I:function(t,e,a){"use strict";a.r(e);var n=a("q1tI"),r=a.n(n),o=a("TtP3"),c=a("MwQV"),i=a("Ty5D"),l=a("h4JF"),u=a("9Koi"),s=a("BLzl"),m=a("/kxI"),f=a("Mpt7"),d=a("UiJU"),p=a("ktSP");function b(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var a=[],n=!0,r=!1,o=void 0;try{for(var c,i=t[Symbol.iterator]();!(n=(c=i.next()).done)&&(a.push(c.value),!e||a.length!==e);n=!0);}catch(t){r=!0,o=t}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}return a}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return h(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return h(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}e.default=function(){var t=Object(u.a)().t,e=b(Object(n.useState)(null),2),a=e[0],h=e[1],v=b(Object(n.useState)(null),2),y=v[0],g=v[1],j=Object(i.j)().id;Object(n.useEffect)((function(){c.a.call("get","/methods/campaigns/".concat(j)).data((function(t){t.messages=t.messages.map((function(t){return t.delay=Object(p.a)(60*t.delay),t.text=t.text||"",t.trigger=t.trigger||"",t})),h(t)}))}),[j]);var w,O,S=Object(n.useCallback)((function(t){return c.a.call("patch","/methods/campaigns/".concat(j),{},t)}),[j]),E=Object(n.useCallback)((function(){g("/campaigns/1")}),[]);return null!==y?r.a.createElement(i.a,{to:y}):(w=a?r.a.createElement(d.a,{afterSave:E,handleSubmit:S,fromFilters:!!(null===(O=a.selected)||void 0===O?void 0:O.selected),initialData:{name:a.name,messages:Object(f.e)(a.messages)||Object(f.a)([]),timeZone:a.time_zone?{label:a.time_zone.name,value:a.time_zone.id}:null}}):r.a.createElement(l.a,null),r.a.createElement(o.a,{title:t("campaigns.edit.title")},r.a.createElement(s.a,{className:"campaigns-view mb-4 shadow"},r.a.createElement(m.a,{className:"px-4 rounded"},w))))}},ktSP:function(t,e,a){"use strict";function n(t){var e=Math.floor(t/31536e3);t-=31536e3*e;var a=Math.floor(t/604800);t-=604800*a;var n=Math.floor(t/86400);t-=86400*n;var r=Math.floor(t/3600);t-=3600*r;var o=Math.floor(t/60);t-=60*o;var c=[];return e&&c.push("".concat(e,"y")),a&&c.push("".concat(a,"w")),n&&c.push("".concat(n,"d")),r&&c.push("".concat(r,"h")),o&&c.push("".concat(o,"min")),t&&c.push("".concat(t,"s")),c.join(" ")}a.d(e,"a",(function(){return n}))}}]);