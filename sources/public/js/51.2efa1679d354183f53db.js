(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{"/kxI":function(e,t,a){"use strict";var n=a("wx14"),r=a("zLVn"),o=a("q1tI"),i=a.n(o),l=a("17x9"),s=a.n(l),c=a("TSYQ"),u=a.n(c),m=a("33Jr"),d={tag:m.q,className:s.a.string,cssModule:s.a.object,innerRef:s.a.oneOfType([s.a.object,s.a.string,s.a.func])},f=function(e){var t=e.className,a=e.cssModule,o=e.innerRef,l=e.tag,s=Object(r.a)(e,["className","cssModule","innerRef","tag"]),c=Object(m.m)(u()(t,"card-body"),a);return i.a.createElement(l,Object(n.a)({},s,{className:c,ref:o}))};f.propTypes=d,f.defaultProps={tag:"div"},t.a=f},"4K7x":function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return o}));var n=a("83d4");function r(e){return[{label:e("user.role.".concat(n.c)),value:n.c},{label:e("user.role.".concat(n.a)),value:n.a},{label:e("user.role.".concat(n.b)),value:n.b}]}function o(e){return function(){return new Promise((function(t){t(r(e))}))}}},"8WGv":function(e,t,a){"use strict";var n=a("q1tI"),r=a.n(n),o=a("17x9"),i=a.n(o),l=a("sPdi"),s=a("jrRI"),c=a("3OM0"),u=a("Cs6D"),m=a("TSYQ"),d=a.n(m),f=a("9Koi");function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){v(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function v(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var h={control:function(e){return b(b({},e),{},{"&, &:hover, &:focus":{borderColor:"#ced4da",boxShadow:"none"}})}};function g(e){var t,a,n=e.id,o=e.label,i=e.errors,m=e.name,p=e.setFieldValue,b=e.options,v=e.value,g=e.className,y=e.placeholder,E=e.isClearable,O=e.isDisabled,S=Object(f.a)().t,j=b.findIndex((function(e){return e.value===v})),w=-1===j?null:b[j];return r.a.createElement(s.a,{className:d()(g)},r.a.createElement(c.a,{htmlFor:n},o),r.a.createElement(u.a,{id:n,name:m,isDisabled:O,onChange:function(e){return p(m,e?e.value:null)},options:b,value:w,isClearable:E,className:d()("select-field",{"is-invalid":!!(null===(t=i[m])||void 0===t?void 0:t.length)}),placeholder:y||S("common.default-select-placeholder"),styles:h}),(null===(a=i[m])||void 0===a?void 0:a.length)?r.a.createElement(l.a,{errors:i[m]}):null)}g.defaultProps={isClearable:!0},g.propTypes={errors:i.a.object.isRequired,id:i.a.oneOfType([i.a.string,i.a.number]),value:i.a.oneOfType([i.a.string,i.a.number]),label:i.a.any.isRequired,name:i.a.string.isRequired,setFieldValue:i.a.func.isRequired,options:i.a.array.isRequired,className:i.a.string,placeholder:i.a.string,isClearable:i.a.bool,isDisabled:i.a.bool},t.a=r.a.memo(g)},BLzl:function(e,t,a){"use strict";var n=a("wx14"),r=a("zLVn"),o=a("q1tI"),i=a.n(o),l=a("17x9"),s=a.n(l),c=a("TSYQ"),u=a.n(c),m=a("33Jr"),d={tag:m.q,inverse:s.a.bool,color:s.a.string,body:s.a.bool,outline:s.a.bool,className:s.a.string,cssModule:s.a.object,innerRef:s.a.oneOfType([s.a.object,s.a.string,s.a.func])},f=function(e){var t=e.className,a=e.cssModule,o=e.color,l=e.body,s=e.inverse,c=e.outline,d=e.tag,f=e.innerRef,p=Object(r.a)(e,["className","cssModule","color","body","inverse","outline","tag","innerRef"]),b=Object(m.m)(u()(t,"card",!!s&&"text-white",!!l&&"card-body",!!o&&(c?"border":"bg")+"-"+o),a);return i.a.createElement(d,Object(n.a)({},p,{className:b,ref:f}))};f.propTypes=d,f.defaultProps={tag:"div"},t.a=f},Cs6D:function(e,t,a){"use strict";var n=a("q1tI"),r=a.n(n),o=a("Wwog"),i=a("qKvR"),l=(a("i8i4"),a("17x9"),a("njTy")),s=(a("iYmT"),a("FUBA"),a("1m/E")),c=a("TqVZ");n.Component;var u=Object(s.a)(l.a);t.a=u},P2Na:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("MwQV");function r(e){var t=new FormData;return t.append("file",e),n.a.call("post","/methods/image",{},t)}},afej:function(e,t,a){"use strict";var n=a("wx14"),r=a("zLVn"),o=a("q1tI"),i=a.n(o),l=a("17x9"),s=a.n(l),c=a("TSYQ"),u=a.n(c),m=a("33Jr"),d={tag:m.q,className:s.a.string,cssModule:s.a.object},f=function(e){var t=e.className,a=e.cssModule,o=e.tag,l=Object(r.a)(e,["className","cssModule","tag"]),s=Object(m.m)(u()(t,"card-header"),a);return i.a.createElement(o,Object(n.a)({},l,{className:s}))};f.propTypes=d,f.defaultProps={tag:"div"},t.a=f},gmZo:function(e,t,a){"use strict";a("iYuL");var n=a("f0Wu");n.locale(window.locale),t.a=n},muO8:function(e,t,a){"use strict";var n=a("q1tI"),r=a.n(n),o=a("17x9"),i=a.n(o),l=a("sPdi"),s=a("jrRI"),c=a("3OM0"),u=a("Cs6D"),m=a("TSYQ"),d=a.n(m);function f(e){var t,a,n=e.id,o=e.label,i=e.errors,m=e.name,f=e.setFieldValue,p=e.options,b=e.value,v=e.formGroupClass;return r.a.createElement(s.a,{className:d()(v)},r.a.createElement(c.a,{htmlFor:n},o),r.a.createElement(u.a,{id:n,name:m,onChange:function(e){return f(m,e)},isMulti:!0,options:p,value:b,isClearable:!0,className:d()({"is-invalid":!!(null===(t=i[m])||void 0===t?void 0:t.length)})}),(null===(a=i[m])||void 0===a?void 0:a.length)?r.a.createElement(l.a,{errors:i[m]}):null)}f.propTypes={errors:i.a.object.isRequired,id:i.a.oneOfType([i.a.string,i.a.number]),value:i.a.array,label:i.a.any.isRequired,name:i.a.string.isRequired,setFieldValue:i.a.func.isRequired,options:i.a.array.isRequired,formGroupClass:i.a.string},t.a=r.a.memo(f)},n7jJ:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a("q1tI"),r=a.n(n),o=a("17x9"),i=a.n(o),l=a("bFnZ"),s=a.n(l);function c(e){var t=e.show,a=e.text,n=e.onConfirm,o=e.type,i=void 0===o?"success":o;return r.a.createElement(s.a,{title:"",show:t,onConfirm:n,type:i},a)}c.propTypes={onConfirm:i.a.func.isRequired,show:i.a.bool.isRequired,text:i.a.string.isRequired,type:i.a.string}},q6mc:function(e,t,a){"use strict";var n=a("q1tI"),r=a.n(n),o=a("17x9"),i=a.n(o),l=a("sPdi"),s=a("jrRI"),c=a("3OM0"),u=a("L3zb"),m=a("TSYQ"),d=a.n(m);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function b(e){var t,a,n=e.id,o=e.label,i=e.errors,m=e.name,b=e.onChange,v=e.className,h=p(e,["id","label","errors","name","onChange","className"]);return r.a.createElement(s.a,{className:d()(v)},r.a.createElement(c.a,{htmlFor:n},o),r.a.createElement(u.a,f({id:n,name:m,type:"tel",onChange:function(e){var t=e.target.value;/^[\+]?[0-9]*$/.test(t)&&b(e)}},h,{invalid:!!(null===(t=i[m])||void 0===t?void 0:t.length)})),(null===(a=i[m])||void 0===a?void 0:a.length)?r.a.createElement(l.a,{errors:i[m]}):null)}b.propTypes={onChange:i.a.func.isRequired,errors:i.a.object.isRequired,id:i.a.oneOfType([i.a.string,i.a.number]),label:i.a.any.isRequired,name:i.a.string.isRequired,className:i.a.string},t.a=r.a.memo(b)},sgT3:function(e,t,a){"use strict";a.r(t),a.d(t,"SCREEN_MAIN_SETTINGS",(function(){return pe})),a.d(t,"SCREEN_NOTIFICATIONS_SETTINGS",(function(){return be})),a.d(t,"SCREEN_SETTINGS",(function(){return ve})),a.d(t,"SCREEN_DEFAULT_MESSAGE_SETTINGS",(function(){return he})),a.d(t,"default",(function(){return ge}));var n=a("q1tI"),r=a.n(n),o=a("TtP3"),i=a("17x9"),l=a.n(i),s=a("9Koi"),c=a("MwQV"),u=a("nc57"),m=a("ldny"),d=a("x37D"),f=a("83d4"),p=a("n7jJ"),b=a("rhny");function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function g(e){var t=e.user,a=v(Object(n.useState)(!1),2),o=a[0],i=a[1],l=Object(s.a)().t;return r.a.createElement(b.a,{md:6},r.a.createElement(p.a,{show:o,text:l("user.password.password-changed-message"),onConfirm:function(){return i(!1)}}),r.a.createElement(u.a,{initialValues:{password:"",password_confirmation:""},handleSubmit:function(e,a){var n=a.setSubmitting,r=a.setErrors;c.a.call("post","/methods/user/".concat(t.id,"/update-password"),{},e).then((function(){i(!0)})).validation((function(e,t){r(t)})),n(!1)},renderForm:function(e){var t=e.handleChange,a=e.handleBlur,n=e.values,o=e.errors,i=e.isSubmitting;return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{className:"limiter",id:"password",name:"password",label:l("user.password.password-label"),placeholder:l("user.password.password-placeholder"),onChange:t,onBlur:a,value:n.password,errors:o}),r.a.createElement(m.a,{className:"limiter",id:"password_confirmation",name:"password_confirmation",label:l("user.password.password-confirmation-label"),placeholder:l("user.password.password-confirmation-placeholder"),onChange:t,onBlur:a,value:n.password_confirmation,errors:o}),r.a.createElement(d.a,{className:"pt-2 px-4 my-4",disabled:i},l("common.saveBtnText")))}}))}g.propTypes={user:l.a.instanceOf(f.d).isRequired};var y=a("6Rhw"),E=a("q6mc"),O=a("CXWj"),S=a("8WGv"),j=a("gmZo");function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function N(e){var t=e.user,a=e.afterSave,o=w(Object(n.useState)(!1),2),i=o[0],l=o[1],m=Object(s.a)().t,f=Object(j.a)();return r.a.createElement(b.a,{md:6},r.a.createElement(p.a,{show:i,text:m("user.user-info.info-changed-message"),onConfirm:function(){return l(!1)}}),r.a.createElement(u.a,{initialValues:{name:t.name,email:t.email,phone:t.phone,is_am_pm:t.is_am_pm,preferred_date_format:t.preferred_date_format},handleSubmit:function(e,n){var r=n.setSubmitting,o=n.setErrors;c.a.call("patch","/methods/user/".concat(t.id),{},e).then((function(e){l(!0),a(e.data)})).validation((function(e,t){o(t)})),r(!1)},renderForm:function(e){var t=e.handleChange,a=e.handleBlur,n=e.values,o=e.errors,i=e.isSubmitting,l=e.setFieldValue;return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{className:"limiter",id:"name",name:"name",label:m("user.user-info.name-label"),placeholder:m("user.user-info.name-placeholder"),onChange:t,onBlur:a,value:n.name||"",errors:o}),r.a.createElement(y.a,{className:"limiter",id:"email",name:"email",type:"email",label:m("user.user-info.email-label"),placeholder:m("user.user-info.email-placeholder"),onChange:t,onBlur:a,value:n.email||"",errors:o}),r.a.createElement(E.a,{className:"limiter",id:"phone",name:"phone",label:m("user.user-info.phone-label"),placeholder:m("user.user-info.phone-placeholder"),onChange:t,onBlur:a,value:n.phone||"",errors:o}),r.a.createElement(O.a,{id:"is-am-pm",name:"is_am_pm",label:m("user.user-info.show-am-pm-time-format-label"),setFieldValue:l,onBlur:a,value:n.is_am_pm,errors:o}),r.a.createElement(S.a,{className:"limiter",id:"preferred-format",label:m("user.user-info.date-format-label"),placeholder:m("user.user-info.date-format-placeholder"),name:"preferred_date_format",setFieldValue:l,onBlur:a,value:n.preferred_date_format,errors:o,options:[{label:f.format("MM/DD/YYYY"),value:"MM/DD/YYYY"},{label:f.format("DD.MM.YYYY"),value:"DD.MM.YYYY"}]}),r.a.createElement(d.a,{className:"pt-2 px-4 my-4",disabled:i},m("common.saveBtnText")))}}))}N.propTypes={user:l.a.instanceOf(f.d).isRequired,afterSave:l.a.func.isRequired};var C=a("sOKU"),x=a("nsn4"),T=a("BLzl"),I=a("/kxI");function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return q(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function R(e){var t=e.items,a=A(Object(n.useState)(0),2),o=a[0],i=a[1];return r.a.createElement("div",null,t.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(C.a,{className:"btn-notification mt-4 mb-0 w-100 rounded-0",color:"",onClick:function(){return i(o===t?null:t)}},e.renderButton()),r.a.createElement(x.a,{isOpen:o===t},r.a.createElement(T.a,{className:"mb-2 rounded-0 border-top-0"},r.a.createElement(I.a,{className:"border-0"},e.renderContent()))))})))}R.propTypes={items:l.a.arrayOf(l.a.shape({renderButton:l.a.func.isRequired,renderContent:l.a.func.isRequired})).isRequired};var F=a("ma3e"),M=a("h4JF");function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var V=function(e){var t=e.userId,a=Object(s.a)().t,o=B(Object(n.useState)(null),2),i=o[0],l=o[1],u=Object(n.useCallback)((function(){c.a.call("get","/methods/user/".concat(t,"/connection-code")).data((function(e){l(e)}))}),[t,l]);Object(n.useEffect)((function(){u()}),[u]);var m=Object(n.useCallback)((function(){l(null),c.a.call("post","/methods/user/".concat(t,"/disconnect")).finally((function(){return u()}))}),[t,u,l]);return i?i.client?r.a.createElement("div",null,a("user.notifications.connected-msg"),r.a.createElement(C.a,{type:"button",color:"link",onClick:m},a("user.notifications.disconnect-btn"))):r.a.createElement("div",null,r.a.createElement("p",null,a("user.notifications.code-label")),r.a.createElement("code",null,"CONNECT: #",i.code)):r.a.createElement(M.a,null)};function Y(e){var t=e.user,a=B(Object(n.useState)(!1),2),o=a[0],i=a[1],l=Object(s.a)().t,m=t.user_notifications_setting;return r.a.createElement(b.a,{xl:7,lg:8},r.a.createElement(p.a,{show:o,text:l("user.notifications.settings-changed-message"),onConfirm:function(){return i(!1)}}),r.a.createElement(u.a,{initialValues:{site_short_notifications:m.site_short_notifications,site_long_notifications:m.site_long_notifications,email_notifications_chatbot_activity:m.email_notifications_chatbot_activity,integration_notifications_chatbot_activity:m.integration_notifications_chatbot_activity},handleSubmit:function(e,t){var a=t.setSubmitting,n=t.setErrors;c.a.call("patch","/methods/user/notifications-settings/".concat(m.id),{},e).then((function(){i(!0)})).validation((function(e,t){n(t)})),a(!1)},renderForm:function(e){var a=e.handleBlur,n=e.values,o=e.errors,i=e.isSubmitting,s=e.setFieldValue;return r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{items:[{renderButton:function(){return r.a.createElement("div",null,r.a.createElement(F.i,{className:"icon-size-15 mr-2 color-gray"}),r.a.createElement("span",null,l("user.notifications.title-notification-sound")),r.a.createElement(F.gb,{className:"icon-size-15 color-gray mb-2"}))},renderContent:function(){return r.a.createElement("div",null,r.a.createElement(O.a,{formGroupClass:"p-2",id:"site_short_notifications",name:"site_short_notifications",label:l("user.notifications.site-short-notifications-label"),placeholder:l("user.notifications.site-short-notifications-placeholder"),setFieldValue:s,onBlur:a,value:n.site_short_notifications,errors:o}),r.a.createElement(O.a,{formGroupClass:"p-2",id:"site_long_notifications",name:"site_long_notifications",label:l("user.notifications.site-long-notifications-label"),placeholder:l("user.notifications.site-long-notifications-placeholder"),setFieldValue:s,onBlur:a,value:n.site_long_notifications,errors:o}))}},{renderButton:function(){return r.a.createElement("div",null,r.a.createElement(F.fb,{className:"icon-size-15 mr-2 color-gray"}),r.a.createElement("span",null,l("user.notifications.title-notification-text")),r.a.createElement(F.gb,{className:"icon-size-15 color-gray mb-2"}))},renderContent:function(){return r.a.createElement("div",null,r.a.createElement(O.a,{formGroupClass:"p-2",id:"email_notifications_chatbot_activity",name:"email_notifications_chatbot_activity",label:l("user.notifications.email-notifications-chatbot-activity-label"),placeholder:l("user.notifications.email-notifications-chatbot-activity-placeholder"),setFieldValue:s,onBlur:a,value:n.email_notifications_chatbot_activity,errors:o}),r.a.createElement("hr",null),r.a.createElement(O.a,{formGroupClass:"p-2",id:"integration_notifications_chatbot_activity",name:"integration_notifications_chatbot_activity",label:l("user.notifications.sms-notifications-chatbot-activity-label"),placeholder:l("user.notifications.sms-notifications-chatbot-activity-placeholder"),setFieldValue:s,onBlur:a,value:n.integration_notifications_chatbot_activity,errors:o}))}},{renderButton:function(){return r.a.createElement("div",null,r.a.createElement(F.i,{className:"icon-size-15 mr-2 color-gray"}),r.a.createElement("span",null,l("user.notifications.title-connection-code")),r.a.createElement(F.gb,{className:"icon-size-15 color-gray mb-2"}))},renderContent:function(){return r.a.createElement(V,{userId:t.id})}}]}),r.a.createElement(d.a,{className:"pt-2 px-4 mt-5 mb-4",disabled:i},l("common.saveBtnText")))}}))}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return D(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function z(e){var t=e.user,a=P(Object(n.useState)(!1),2),o=a[0],i=a[1],l=Object(s.a)().t;return r.a.createElement(b.a,{md:7},r.a.createElement(p.a,{show:o,text:l("user.default-conversation-message.default-conversation-message-changed-message"),onConfirm:function(){return i(!1)}}),r.a.createElement(u.a,{initialValues:{default_conversation_message:t.default_conversation_message},handleSubmit:function(e,a){var n=a.setSubmitting,r=a.setErrors;c.a.call("patch","/methods/user/".concat(t.id),{},e).then((function(){i(!0)})).validation((function(e,t){r(t)})),n(!1)},renderForm:function(e){var t=e.handleChange,a=e.handleBlur,n=e.values,o=e.errors,i=e.isSubmitting;return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{className:"default-message",id:"default_conversation_message",name:"default_conversation_message",type:"textarea",label:l("user.default-conversation-message.default-conversation-message-label"),placeholder:l("user.default-conversation-message.default-conversation-message-placeholder"),onChange:t,onBlur:a,value:n.default_conversation_message||"",errors:o,rows:"6"}),r.a.createElement(d.a,{className:"pt-2 px-4 my-4",disabled:i},l("common.saveBtnText")))}}))}V.propTypes={userId:l.a.number.isRequired},Y.propTypes={user:l.a.instanceOf(f.d).isRequired},z.propTypes={user:l.a.instanceOf(f.d).isRequired};var G=a("muO8"),U=a("4K7x"),L=a("rpa7");function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return J(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return J(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function $(e){var t=e.user,a=e.afterSave,o=t.id,i=Q(Object(n.useState)(!1),2),l=i[0],m=i[1],v=Q(Object(n.useState)(null),2),h=v[0],g=v[1],y=Object(s.a)().t,E=Object(L.a)();Object(n.useEffect)((function(){c.a.call("get","/methods/user/".concat(o,"/departments")).then((function(e){var t=e.data.map((function(e){return{label:e.name,value:e.id}}));g(t)}))}),[o]);return h?r.a.createElement(b.a,{md:7},r.a.createElement(p.a,{show:l,text:y("user.settings.departments-changed-message"),onConfirm:function(){return m(!1)}}),r.a.createElement(u.a,{initialValues:{departments:t.departments.map((function(e){return{label:e.name,value:e.id}})),role:t.role},handleSubmit:function(e,n){var r=e.departments,o=e.role,i=n.setSubmitting,l=n.setErrors;c.a.call("patch","/methods/user/".concat(t.id),{},{departments:r?r.map((function(e){return e.value})):[],role:o}).then((function(e){a(e.data),m(!0)})).validation((function(e,t){l(t)})).finally((function(){i(!1)}))},renderForm:function(e){var a=e.setFieldValue,n=e.handleBlur,o=e.values,i=e.errors,l=e.isSubmitting;return r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,{id:"departments",name:"departments",label:y("user.settings.departments-label"),options:h,setFieldValue:a,onBlur:n,value:o.departments,errors:i}),t.id!==E.id?r.a.createElement(S.a,{className:"limiter",id:"role",label:y("user.settings.role-label"),name:"role",setFieldValue:a,value:o.role,errors:i,options:Object(U.b)(y).filter((function(e){return e.value!==f.c})),isClearable:!1}):null,r.a.createElement(d.a,{className:"pt-2 px-4 my-4",disabled:l},y("common.saveBtnText")))}})):null}$.propTypes={user:l.a.instanceOf(f.d).isRequired,afterSave:l.a.func.isRequired};var K=a("ok1R"),W=a("afej"),Z=a("TSYQ"),H=a.n(Z),X=a("o0o1"),ee=a.n(X),te=a("P2Na"),ae=a("/MKj"),ne=a("hAFs"),re=a("a6YV");function oe(e,t,a,n,r,o,i){try{var l=e[o](i),s=l.value}catch(e){return void a(e)}l.done?t(s):Promise.resolve(s).then(n,r)}function ie(e){var t=e.user,a=e.afterSave,n=e.editable,o=Object(L.a)(),i=Object(ae.d)(),l=function(){var e,n=(e=ee.a.mark((function e(n){var r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(r=n.target.files).length&&Object(te.a)(r[0]).then((function(e){var n,r,l=e.data;(n=t.id,r=l.id,c.a.call("patch","/methods/user/".concat(n),{},{image_id:r})).then((function(){t.id===o.id&&i(Object(ne.c)(l)),a(l)}))}));case 2:case"end":return e.stop()}}),e)})),function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function i(e){oe(o,n,r,i,l,"next",e)}function l(e){oe(o,n,r,i,l,"throw",e)}i(void 0)}))});return function(e){return n.apply(this,arguments)}}();return r.a.createElement("label",{className:"user-avatar d-block position-relative mb-4 pb-2"},r.a.createElement("div",{className:"user-photo-block rounded-circle"},r.a.createElement("img",{src:Object(re.a)(t.imageUrl),alt:t.name,className:"user-photo"})),r.a.createElement("input",{className:"d-none",type:"file",multiple:!1,accept:"image/*",onChange:l,disabled:!n}),n?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"photo-cam-bg position-absolute"}),r.a.createElement(F.l,{className:"photo-icon icon-size-25 color-gray position-absolute"})):null)}ie.propTypes={user:l.a.instanceOf(f.d).isRequired,afterSave:l.a.func.isRequired,editable:l.a.bool};var le=a("HgaL");function se(e){var t,a=e.user,n=e.screen,o=e.children,i=e.setScreen,l=e.afterImageChanged,c=Object(s.a)().t,u=Object(L.a)();return r.a.createElement(K.a,null,r.a.createElement(b.a,{xl:4},r.a.createElement(T.a,{className:"mb-5 shadow"},r.a.createElement(I.a,{className:"d-flex flex-wrap"},r.a.createElement("div",{className:"mr-5"},r.a.createElement(ie,{afterSave:l,user:a,editable:!0})),r.a.createElement("div",null,r.a.createElement("p",{className:"text-large font-weight-bold mb-1"},a.name),r.a.createElement("hr",null),r.a.createElement("table",{className:"user-info-table mb-3"},r.a.createElement("tbody",null,a.isSystemAdministrator?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,r.a.createElement("th",null,c("user.user-info-block.company")),r.a.createElement("td",null,null===(t=a.company)||void 0===t?void 0:t.name)),r.a.createElement("tr",null,r.a.createElement("th",null,c("user.user-info-block.department")),r.a.createElement("td",null,a.departments.map((function(e){return e.name})).join(", ")))),r.a.createElement("tr",null,r.a.createElement("th",null,c("user.user-info-block.role")),r.a.createElement("td",null,c("user.role.".concat(a.role)))))),u.id===a.id?r.a.createElement(le.a,{toggleClass:"user-language px-0 btn-noShadow"}):null)))),r.a.createElement(b.a,{xl:8},r.a.createElement(T.a,{className:"mb-5 card-navbar shadow"},r.a.createElement(W.a,{className:"p-0"},a.isSystemAdministrator?null:r.a.createElement("div",{className:"navigation-bar-wrapper"},r.a.createElement("div",{className:"navigation-bar w-100 d-flex"},r.a.createElement("button",{className:H()("navigation-item rounded-top w-100 py-2 px-3",{active:n===pe}),onClick:function(){return i(pe)}},c("user.settings-menu.personal-data")),r.a.createElement("button",{className:H()("navigation-item rounded-top w-100 py-2 px-3",{active:n===be}),onClick:function(){return i(be)}},c("user.settings-menu.notifications")),r.a.createElement("button",{className:H()("navigation-item rounded-top w-100 py-2 px-3",{active:n===ve}),onClick:function(){return i(ve)}},c("user.settings-menu.settings")),r.a.createElement("button",{className:H()("navigation-item rounded-top w-100 py-2 px-3",{active:n===he}),onClick:function(){return i(he)}},c("user.settings-menu.live-chat"))))),r.a.createElement(I.a,{className:"px-4 rounded-bottom"},r.a.createElement(K.a,null,o)))))}se.propTypes={user:l.a.instanceOf(f.d).isRequired,screen:l.a.string.isRequired,setScreen:l.a.func.isRequired,afterImageChanged:l.a.func.isRequired,children:l.a.any};var ce=a("Ty5D"),ue=a("vDqi"),me=a.n(ue);function de(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return fe(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return fe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var pe="main-settings",be="notifications-settings",ve="additional-settings",he="default-message-settings";function ge(){var e=de(Object(n.useState)(null),2),t=e[0],a=e[1],i=de(Object(n.useState)(pe),2),l=i[0],s=i[1],u=Object(ce.j)().id,m=Object(L.a)(),d=Object(ae.d)(),p=function(e){s(t.isSystemAdministrator?pe:e)};Object(n.useEffect)((function(){var e=me.a.CancelToken.source();return c.a.call("get","/methods/user/".concat(u),{},{},{cancelToken:e.token}).then((function(e){a(e.data?new f.d(e.data):null)})),function(){e.cancel()}}),[u,a]);var b=function(e){var n=t.set("role",e.role).set("name",e.name).set("email",e.email).set("phone",e.phone).set("image_id",e.image_id).set("image",e.image).set("departments",e.departments);a(n),+m.id==+u&&d(Object(ne.a)(e))},v=function(e){a(t.set("image_id",e.id).set("image",e))},h=null;if(t)switch(l){case pe:h=r.a.createElement(se,{user:t,screen:l,setScreen:p,afterImageChanged:v},r.a.createElement(N,{user:t,afterSave:b}),r.a.createElement(g,{user:t}));break;case be:h=r.a.createElement(se,{user:t,screen:l,setScreen:p,afterImageChanged:v},r.a.createElement(Y,{user:t}));break;case ve:h=r.a.createElement(se,{user:t,screen:l,setScreen:p,afterImageChanged:v},r.a.createElement($,{user:t,afterSave:b}));break;case he:h=r.a.createElement(se,{user:t,screen:l,setScreen:p,afterImageChanged:v},r.a.createElement(z,{user:t}))}else h=r.a.createElement(M.a,null);return r.a.createElement(o.a,{pagesAddClass:"page-bg-gray"},h)}}}]);