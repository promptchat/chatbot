(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{"/kxI":function(e,t,a){"use strict";var n=a("wx14"),r=a("zLVn"),c=a("q1tI"),o=a.n(c),l=a("17x9"),i=a.n(l),s=a("TSYQ"),u=a.n(s),m=a("33Jr"),d={tag:m.q,className:i.a.string,cssModule:i.a.object,innerRef:i.a.oneOfType([i.a.object,i.a.string,i.a.func])},p=function(e){var t=e.className,a=e.cssModule,c=e.innerRef,l=e.tag,i=Object(r.a)(e,["className","cssModule","innerRef","tag"]),s=Object(m.m)(u()(t,"card-body"),a);return o.a.createElement(l,Object(n.a)({},i,{className:s,ref:c}))};p.propTypes=d,p.defaultProps={tag:"div"},t.a=p},"/li3":function(e,t,a){"use strict";var n=a("q1tI"),r=a.n(n),c=a("Ty5D"),o=a("55Ip"),l=a("17x9"),i=a.n(l);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function m(e){var t=e.to,a=u(e,["to"]),n=Object(c.i)();return r.a.createElement(o.a,s({to:{pathname:t,state:{modal:n}}},a))}m.propTypes={to:i.a.string.isRequired},t.a=m},"5TAD":function(e,t,a){"use strict";var n=a("q1tI"),r=a.n(n),c=a("17x9"),o=a.n(c),l=a("55Ip"),i=a("TSYQ"),s=a.n(i),u=a("/li3");function m(e){var t=e.url,a=e.icon,n=e.text,c=e.realLink,o=e.className,i=e.modal,m=r.a.createElement(r.a.Fragment,null,a,n?r.a.createElement("span",{className:"text-main color-blue"},n):null);return c?r.a.createElement("a",{className:s()("p-3 d-flex action-dropdown-item edit color-black",o),href:t},m):i?r.a.createElement(u.a,{className:s()("p-3 d-flex action-dropdown-item edit color-black",o),to:t},m):r.a.createElement(l.a,{className:s()("p-3 d-flex action-dropdown-item edit color-black",o),to:t},m)}m.defaultProps={realLink:!1,modal:!1},m.propTypes={url:o.a.string.isRequired,icon:o.a.any,text:o.a.string,realLink:o.a.bool,modal:o.a.bool,className:o.a.string},t.a=r.a.memo(m)},6025:function(e,t,a){"use strict";a.r(t);var n=a("q1tI"),r=a.n(n),c=a("17x9"),o=a.n(c),l=a("/MKj"),i=a("TtP3"),s=a("k0Re"),u=a("bTjV"),m=a("BLzl"),d=a("afej"),p=a("ChEw"),f=a("/kxI"),b=a("zwA0"),y=a("QPV6"),g=a("GmYL"),E=a("OKOT"),h=a("Yfk4"),v=a("rpa7"),j=a("9Koi");function O(e){var t=e.companyId,a=e.departments,n=e.reloadPage,c=Object(v.a)(),o=Object(j.a)().t;return r.a.createElement(h.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,o("companies.edit-page.department")),r.a.createElement("th",null," "))),r.a.createElement("tbody",null,a.map((function(e){return r.a.createElement("tr",{key:e.id,id:"department-".concat(e.id)},r.a.createElement("td",null,e.name),c.hasAbility("ownAuth")&&r.a.createElement(y.a,null,r.a.createElement(g.a,{modal:!0,url:"/companies/".concat(t,"/departments/").concat(e.id,"/edit")}),r.a.createElement(E.a,{url:"/methods/departments/".concat(e.id),onSuccess:n})))}))))}O.propTypes={companyId:o.a.number.isRequired,departments:o.a.array.isRequired,reloadPage:o.a.func.isRequired};var w=a("MwQV"),N=a("nc57"),x=a("6Rhw"),T=a("x37D"),q=a("Ty5D"),A=a("mL5Q"),k=a("T+da");function I(e){var t=e.company,a=e.redirectBack,n=Object(j.a)().t,c=Object(v.a)(),o=Object(q.h)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{initialValues:{name:t.name},handleSubmit:function(e,r){var l=r.setSubmitting,i=r.setErrors;c.hasAbility("ownAuth")&&(w.a.call("patch","/methods/companies/".concat(t.id),{},e).then((function(){a?o.goBack():k.a.success(n("companies.edit-page.data-changed-message"))})).validation((function(e,t){i(t)})),l(!1))},renderForm:function(e){var t=e.handleChange,a=e.handleBlur,o=e.values,l=e.errors,i=e.isSubmitting;return r.a.createElement(m.a,null,r.a.createElement(f.a,null,r.a.createElement(x.a,{id:"name",name:"name",disabled:!c.hasAbility("ownAuth"),label:n("companies.edit-page.name-label"),placeholder:n("companies.edit-page.name-placeholder"),onChange:t,onBlur:a,value:o.name,errors:l}),c.hasAbility("ownAuth")&&r.a.createElement(T.a,{className:"pt-2 px-4 mt-3 mb-sm-4 mb-5",disabled:i},n("common.saveBtnText"))))}}))}I.propTypes={company:o.a.instanceOf(A.a).isRequired,redirectBack:o.a.bool};var R=a("/li3");function S(e){var t=e.companyId,a=e.userRoles,n=e.reloadPage,c=Object(v.a)(),o=Object(j.a)().t;return r.a.createElement(h.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,o("companies.edit-page.role")),r.a.createElement("th",null," "))),r.a.createElement("tbody",null,a.map((function(e){return r.a.createElement("tr",{key:e.id,id:"userRole-".concat(e.id)},r.a.createElement("td",null,e.name),c.hasAbility("ownAuth")&&r.a.createElement(y.a,null,r.a.createElement(g.a,{modal:!0,url:"/companies/".concat(t,"/user-roles/").concat(e.id,"/edit")}),r.a.createElement(E.a,{url:"/methods//user-roles/".concat(e.id),onSuccess:n})))}))))}function P(e){var t,a=e.loading,c=e.error,o=e.company,l=e.dispatch,y=Object(q.j)(),g=Object(v.a)(),E=Object(q.i)(),h=y.id,w="0"!==y.back,N=Object(j.a)().t,x=Object(n.useCallback)((function(){return l(Object(s.b)(h))}),[h,E]);return Object(n.useEffect)((function(){x()}),[x]),t=a||!o?r.a.createElement(u.a,null):c?r.a.createElement(b.a,null):r.a.createElement("div",null,r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-sm-4"},r.a.createElement(I,{company:o,redirectBack:w}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-4"},r.a.createElement(m.a,null,r.a.createElement(d.a,null,r.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},r.a.createElement(p.a,{className:"mb-0"},N("companies.edit-page.departments")),g.hasAbility("ownAuth")&&r.a.createElement(R.a,{to:"/companies/".concat(h,"/departments/create"),className:"btn btn-outline-primary"},N("companies.edit-page.add-department-btn")))),r.a.createElement(f.a,null,r.a.createElement(O,{companyId:+h,reloadPage:x,departments:o.departments.toArray()})))),r.a.createElement("div",{className:"col-sm-8"},r.a.createElement(m.a,null,r.a.createElement(d.a,null,r.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},r.a.createElement(p.a,{className:"mb-0"},N("companies.edit-page.roles")),g.hasAbility("ownAuth")&&r.a.createElement(R.a,{to:"/companies/".concat(h,"/user-roles/create"),className:"btn btn-outline-primary"},N("companies.edit-page.add-user-role-btn")))),r.a.createElement(f.a,null,r.a.createElement(S,{companyId:+h,reloadPage:x,userRoles:o.user_roles.toArray()})))))),r.a.createElement(i.a,{title:N("companies.edit-page.title")},r.a.createElement("div",null,t))}S.propTypes={companyId:o.a.number.isRequired,userRoles:o.a.array.isRequired,reloadPage:o.a.func.isRequired};t.default=Object(l.c)((function(e){var t=e.companies;return{loading:t.get("loading"),error:t.get("error"),company:t.get("item")}}))(P);P.propTypes={company:o.a.instanceOf(A.a),dispatch:o.a.func.isRequired,error:o.a.object,loading:o.a.bool}},BLzl:function(e,t,a){"use strict";var n=a("wx14"),r=a("zLVn"),c=a("q1tI"),o=a.n(c),l=a("17x9"),i=a.n(l),s=a("TSYQ"),u=a.n(s),m=a("33Jr"),d={tag:m.q,inverse:i.a.bool,color:i.a.string,body:i.a.bool,outline:i.a.bool,className:i.a.string,cssModule:i.a.object,innerRef:i.a.oneOfType([i.a.object,i.a.string,i.a.func])},p=function(e){var t=e.className,a=e.cssModule,c=e.color,l=e.body,i=e.inverse,s=e.outline,d=e.tag,p=e.innerRef,f=Object(r.a)(e,["className","cssModule","color","body","inverse","outline","tag","innerRef"]),b=Object(m.m)(u()(t,"card",!!i&&"text-white",!!l&&"card-body",!!c&&(s?"border":"bg")+"-"+c),a);return o.a.createElement(d,Object(n.a)({},f,{className:b,ref:p}))};p.propTypes=d,p.defaultProps={tag:"div"},t.a=p},ChEw:function(e,t,a){"use strict";var n=a("wx14"),r=a("zLVn"),c=a("q1tI"),o=a.n(c),l=a("17x9"),i=a.n(l),s=a("TSYQ"),u=a.n(s),m=a("33Jr"),d={tag:m.q,className:i.a.string,cssModule:i.a.object},p=function(e){var t=e.className,a=e.cssModule,c=e.tag,l=Object(r.a)(e,["className","cssModule","tag"]),i=Object(m.m)(u()(t,"card-title"),a);return o.a.createElement(c,Object(n.a)({},l,{className:i}))};p.propTypes=d,p.defaultProps={tag:"div"},t.a=p},GmYL:function(e,t,a){"use strict";var n=a("q1tI"),r=a.n(n),c=a("17x9"),o=a.n(c),l=a("ma3e"),i=a("9Koi"),s=a("5TAD");function u(e){var t=e.url,a=e.modal,n=Object(i.a)().t;return r.a.createElement(s.a,{modal:a,url:t,icon:r.a.createElement(l.U,{className:"icon-size-15 color-blue mr-2"}),text:n("common.edit-link")})}u.defaultProps={modal:!1},u.propTypes={url:o.a.string.isRequired,modal:o.a.bool},t.a=r.a.memo(u)},OKOT:function(e,t,a){"use strict";var n=a("q1tI"),r=a.n(n),c=a("17x9"),o=a.n(c),l=a("kvuc"),i=a("9Koi"),s=a("MwQV"),u=a("ma3e"),m=a("T+da");function d(e){var t=e.url,a=e.onSuccess,n=e.disabled,c=Object(i.a)().t;return r.a.createElement("button",{className:"btn btn-link no-shadow d-flex p-3 text-left w-100 action-dropdown-item text-dec-none",type:"button",onClick:function(){m.a.confirm(c("tables.delete-confirmation-text")).then((function(){s.a.call("delete",t).then((function(){a&&a(t)}))}))},disabled:n},r.a.createElement(u.yb,{className:"icon-size-15 color-red mr-2"}),r.a.createElement("span",{className:"text-main color-red"},"Delete"))}function p(e){var t=e.url,a=e.onSuccess,n=e.disabled;return r.a.createElement(l.a,{tag:d,url:t,onSuccess:a,disabled:n})}d.propTypes={onSuccess:o.a.func,url:o.a.string.isRequired,disabled:o.a.bool},p.propTypes={onSuccess:o.a.func,url:o.a.string.isRequired,disabled:o.a.bool},t.a=r.a.memo(p)},QPV6:function(e,t,a){"use strict";var n=a("q1tI"),r=a.n(n),c=a("17x9"),o=a.n(c),l=a("oI+J"),i=a("Z7gm"),s=a("X68C"),u=a("ma3e");function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,r=!1,c=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){r=!0,c=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw c}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function p(e){var t,a=e.children,c=e.empty,o=m(Object(n.useState)(!1),2),d=o[0],p=o[1];return t=c?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,{className:"mx-auto",isOpen:d,toggle:function(){return p((function(e){return!e}))},setActiveFromChild:!0},r.a.createElement(i.a,{caret:!0,color:"transparent",className:"action-dropdown no-shadow p-0"},d?r.a.createElement(u.c,{className:"icon-size-16 color-blue"}):r.a.createElement(u.b,{className:"icon-size-16 color-blue"})),r.a.createElement(s.a,{right:!0,persist:!1,className:"p-0"},a))),r.a.createElement("td",{className:"action-items"},t)}p.defaultProps={empty:!1},p.propTypes={children:o.a.func.isRequired,empty:o.a.bool},t.a=r.a.memo(p)},"T+da":function(e,t,a){"use strict";var n=a("2BYM"),r=a.n(n),c=a("PSD3"),o=a.n(c),l=a("ltXA"),i=r()(o.a);i.success=function(e){return i.fire({icon:"success",text:e})},i.error=function(e){return i.fire({icon:"error",text:e})},i.prompt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return i.fire({text:e,input:"text",inputLabel:"",inputValue:t,showCancelButton:!0,inputValidator:function(e){if(!e)return"You need to write something!"}})},i.confirm=function(e){return new Promise((function(t,a){return i.fire({showConfirmButton:!0,showCancelButton:!0,confirmButtonText:l.b.t("common.yes"),cancelButtonText:l.b.t("common.no"),text:e}).then((function(e){e.isConfirmed?t():a()}))}))},t.a=i},Yfk4:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a("q1tI"),r=a.n(n),c=a("17x9"),o=a.n(c),l=a("XAkp"),i=a("TSYQ"),s=a.n(i);function u(e){var t=e.children,a=e.className;return r.a.createElement("div",{className:s()("site-table-wrapper",a)},r.a.createElement(l.a,{className:s()("site-table",a)},t))}u.propTypes={children:o.a.any.isRequired,className:o.a.string}},afej:function(e,t,a){"use strict";var n=a("wx14"),r=a("zLVn"),c=a("q1tI"),o=a.n(c),l=a("17x9"),i=a.n(l),s=a("TSYQ"),u=a.n(s),m=a("33Jr"),d={tag:m.q,className:i.a.string,cssModule:i.a.object},p=function(e){var t=e.className,a=e.cssModule,c=e.tag,l=Object(r.a)(e,["className","cssModule","tag"]),i=Object(m.m)(u()(t,"card-header"),a);return o.a.createElement(c,Object(n.a)({},l,{className:i}))};p.propTypes=d,p.defaultProps={tag:"div"},t.a=p},k0Re:function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return p}));var n=a("Cane"),r=a("MwQV"),c=a("c8c+"),o=a("Qu/B"),l=a("EW+5"),i=Object(l.a)(n.a),s=i.loading,u=i.itemsListLoaded,m=i.error,d=function(e,t,a){return function(n){var l={page:e};t.size&&(l.filter=Object(c.a)(t)),a.size&&(l.order=Object(o.a)(a)),n(s()),r.a.call("get","/methods/companies",l,{}).then((function(e){n(u({filters:t,sort:a,response:e}))})).catch((function(e){return n(m(e))}))}},p=function(e){return function(t){t(s()),r.a.call("get","/methods/companies/".concat(e)).data((function(e){var a;t((a=e,{type:n.a.ITEM_LOADED,payload:a}))})).catch((function(e){return t(m(e))}))}}},zwA0:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a("q1tI"),r=a.n(n),c=a("9Koi");function o(){var e=Object(c.a)().t;return r.a.createElement("div",null,e("common.site-error-message"))}}}]);