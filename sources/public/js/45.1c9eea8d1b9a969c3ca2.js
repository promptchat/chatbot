(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{"3zHg":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var r=a("MwQV");function n(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(t){return new Promise((function(a){var n=e.findIndex((function(e){return e.value===t}));-1!==n?a(e[n]):r.a.call("get","/methods/departments/".concat(t)).data((function(e){a({label:e.name,value:e.id})}))}))}}()(e)}},F6sc:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var r=a("MwQV"),n=a("83d4");function l(e){return new Promise((function(t){var a={q:e};r.a.call("get","/methods/user/search",a).data((function(e){t(e.map((function(e){return{label:e.name,value:e.id,user:n.d.instantiate(e)}})))}))}))}},R5y6:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var r=a("q1tI"),n=a.n(r),l=a("QDav"),i=a("xilt"),c=a("jrRI"),o=a("3OM0"),s=a("TSYQ"),u=a.n(s),m=a("sPdi"),d=a("17x9"),f=a.n(d),p=a("9Koi");function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){v(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function v(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var y={control:function(e){return g(g({},e),{},{"&, &:hover, &:focus":{borderColor:"#ced4da",boxShadow:"none"}})},menu:function(e){return g(g({},e),{},{zIndex:10})}};function h(e){var t,a,r=e.id,s=e.label,d=e.errors,f=e.loadOptions,b=e.name,g=e.setFieldValue,v=e.handleBlur,h=e.value,E=e.className,j=e.labelClass,O=e.placeholder,w=e.isClearable,S=e.cacheOptions,N=e.isMulti,C=e.isDisabled,A=e.defaultOptions,I=Object(p.a)().t,x=w?i.a:l.a;return n.a.createElement(c.a,{className:u()(E)},n.a.createElement(o.a,{className:u()(j),htmlFor:r},s),n.a.createElement(x,{cacheOptions:S,defaultOptions:A,loadOptions:f,onChange:function(e){g(b,e)},value:h,isClearable:w,className:u()({"is-invalid":!!(null===(t=d[b])||void 0===t?void 0:t.length)}),placeholder:O||I("common.default-select-placeholder"),styles:y,isMulti:N,isDisabled:C,onBlur:v}),(null===(a=d[b])||void 0===a?void 0:a.length)?n.a.createElement(m.a,{errors:d[b]}):null)}h.defaultProps={isClearable:!0,cacheOptions:!0,defaultOptions:!0},h.propTypes={errors:f.a.object.isRequired,id:f.a.oneOfType([f.a.string,f.a.number]),value:f.a.oneOfType([f.a.shape({label:f.a.string,value:f.a.oneOfType([f.a.string,f.a.number])}),f.a.array]),label:f.a.any.isRequired,name:f.a.string.isRequired,handleBlur:f.a.func,setFieldValue:f.a.func.isRequired,loadOptions:f.a.func.isRequired,className:f.a.string,labelClass:f.a.string,placeholder:f.a.string,isClearable:f.a.bool,isMulti:f.a.bool,isDisabled:f.a.bool,cacheOptions:f.a.bool,defaultOptions:f.a.oneOfType([f.a.bool,f.a.array])}},YUeP:function(e,t,a){"use strict";a.r(t);var r=a("q1tI"),n=a.n(r),l=a("dbgk"),i=a("9Koi"),c=a("TtP3"),o=a("17x9"),s=a.n(o),u=a("/MKj"),m=a("7rGz"),d=a("MwQV"),f=a("EW+5"),p=Object(f.a)(m.a.BASIC),b=p.loading,g=p.itemsListLoaded,v=p.error,y=Object(f.a)(m.a.SESSIONS_BY_COUNTRY),h=y.loading,E=y.itemsListLoaded,j=y.error,O=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){e||t(b()),d.a.call("get","/methods/statistics/basic").then((function(e){t(g({response:e}))})).catch((function(e){return t(v(e))}))}},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(r){var n={};t&&a?(n.from=t,n.to=a):e&&(n.days=e),r(h()),d.a.call("get","/methods/statistics/sessions-by-country",n).then((function(e){r(E({response:e,filters:n}))})).catch((function(e){return r(j(e))}))}},S=a("h4JF"),N=a("zwA0"),C=a("BLzl"),A=a("/kxI"),I=a("ok1R"),x=a("rhny"),_=a("ma3e");function k(e){var t=e.data,a=e.loading,l=e.error,i=e.load;Object(r.useEffect)((function(){i()}),[i]);var c=Object(r.useRef)();return Object(r.useEffect)((function(){return c.current=setInterval((function(){i(!0)}),3e4),function(){c.current&&clearInterval(c.current)}}),[i]),a?n.a.createElement(S.a,{className:"basic-statistics-spinner"}):l?n.a.createElement(N.a,null):t&&!l?n.a.createElement(C.a,{className:"mb-5 shadow basic-statistic"},n.a.createElement(A.a,null,n.a.createElement(I.a,null,n.a.createElement(x.a,{sm:3,className:"text-center"},n.a.createElement("div",{className:"analytic-element d-flex my-2 clickable rounded"},n.a.createElement("div",{className:"icon-block turquoise-block"},n.a.createElement(_.a,null)),n.a.createElement("div",{className:"data-block"},n.a.createElement("p",{className:"analytic-element-name"},"Active chatbots"),n.a.createElement("p",{className:"analytic-element-value"},t.get("active_chat_bots"))))),n.a.createElement(x.a,{sm:3,className:"text-center"},n.a.createElement("div",{className:"analytic-element d-flex my-2 clickable rounded"},n.a.createElement("div",{className:"icon-block blue-second-block"},n.a.createElement(_.s,null)),n.a.createElement("div",{className:"data-block"},n.a.createElement("p",{className:"analytic-element-name"},"Active livechats"),n.a.createElement("p",{className:"analytic-element-value"},t.get("active_live_chats"))))),n.a.createElement(x.a,{sm:3,className:"text-center"},n.a.createElement("div",{className:"analytic-element d-flex my-2 clickable rounded"},n.a.createElement("div",{className:"icon-block green-icon-block"},n.a.createElement(_.kb,null)),n.a.createElement("div",{className:"data-block"},n.a.createElement("p",{className:"analytic-element-name"},"Operators online"),n.a.createElement("p",{className:"analytic-element-value"},t.get("active_operators_count"))))),n.a.createElement(x.a,{sm:3,className:"text-center"},n.a.createElement("div",{className:"analytic-element d-flex my-2 clickable rounded"},n.a.createElement("div",{className:"icon-block green-light-block"},n.a.createElement(_.z,null)),n.a.createElement("div",{className:"data-block"},n.a.createElement("p",{className:"analytic-element-name"},"Active website visitors"),n.a.createElement("p",{className:"analytic-element-value"},t.get("active_web_site_visitors_count"))))),n.a.createElement(x.a,{sm:3,className:"text-center"},n.a.createElement("div",{className:"analytic-element d-flex my-2 clickable rounded"},n.a.createElement("div",{className:"icon-block blue-icon-block"},n.a.createElement(_.m,null)),n.a.createElement("div",{className:"data-block"},n.a.createElement("p",{className:"analytic-element-name"},"Active campaigns"),n.a.createElement("p",{className:"analytic-element-value"},t.get("active_campaigns_count")))))))):void 0}k.propTypes={load:s.a.func.isRequired,data:s.a.object,loading:s.a.bool,error:s.a.object};var T=Object(u.c)((function(e){var t=e.statistics.get("basic");return{loading:t.get("loading"),data:t.get("data"),error:t.get("error")}}),(function(e){return{load:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e(O(t))}}}))(k),M=a("Sfbj");function q(e){var t=e.dataMap,a=e.className;return n.a.createElement(M.ComposableMap,{className:a},n.a.createElement(M.Graticule,{stroke:"#EAEAEC"}),n.a.createElement(M.Geographies,{geography:"/map-110-not-p.json"},(function(e){return e.geographies.map((function(e){var a="#cecece",r=t.get(e.properties.ISO_A2);if(r){var l=r.percentFromMax/100*.5+.5;a="rgba(0, 40, 138, ".concat(l,")")}return n.a.createElement(M.Geography,{key:e.rsmKey,geography:e,fill:a,stroke:"#EAEAEC"})}))})))}q.propTypes={dataMap:s.a.object,className:s.a.string};var D=q,R=a("ymym"),F={indexAxis:"y",elements:{bar:{borderWidth:2}},responsive:!0,plugins:{legend:{display:!1},title:{display:!1}}},P={responsive:!0,plugins:{legend:{display:!0},title:{display:!1}},scales:{x:{stacked:!0},y:{stacked:!0}}};function L(e){var t=e.dataMap.toIndexedSeq().slice(0,5),a={labels:t.map((function(e){return e.country})).toJS(),datasets:[{label:"",data:t.map((function(e){return e.count})).toJS(),borderColor:"rgb(53, 162, 235)",backgroundColor:"rgba(53, 162, 235, 0.5)"}]};return n.a.createElement(R.a,{options:F,data:a,type:"bar"})}L.propTypes={dataMap:s.a.object};var U=L,Y=a("Mpt7");function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],r=!0,n=!1,l=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,l=e}finally{try{r||null==c.return||c.return()}finally{if(n)throw l}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return $(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function z(){var e=V(Object(r.useState)(Object(Y.b)({period:7,prevPeriod:7,from:null,to:null,api:{period:7,from:null,to:null}})),2),t=e[0],a=e[1],n=t.get("api");return{filters:t,apiFilters:n,handleFilterChange:function(e){var r=e.toJS(),n=r.period,l=r.from,i=r.to,c=t.get("period"),o=t.set("period",n).set("from",l).set("to",i);-1!==c&&(o=o.set("prevPeriod",c)),o=-1===n?l&&i?o.set("api",{period:null,from:l,to:i}):o.set("api",{period:o.get("prevPeriod"),from:null,to:null}):o.set("api",{period:n,from:null,to:null}),a(o)}}}var B=a("Cs6D"),G=a("c0+T"),Q=a("TSYQ"),J=a.n(Q),K={container:function(){return{padding:"8px 0"}}};function X(e){var t=e.filters,a=e.onChange,r=e.className,l=Object(i.a)().t,c=function(){var e=Object(i.a)().t;return[{label:e("statistics.periods.7-days"),value:7},{label:e("statistics.periods.30-days"),value:30},{label:e("statistics.periods.custom"),value:-1}]}(),o=c.findIndex((function(e){return e.value===t.get("period")}));return n.a.createElement("div",{className:J()(r)},n.a.createElement(B.a,{className:"py-2",styles:K,value:c[o],options:c,onChange:function(e){a(t.set("period",e.value).set("from",null).set("to",null))}}),-1===t.get("period")?n.a.createElement("div",{className:"d-flex justify-content-between"},n.a.createElement(G.a,{formGroupClass:"py-2 w-100",onChange:function(e){a(t.set("from",e))},placeholder:l("statistics.custom-date-from-placeholder"),value:t.get("from"),wrapperClassName:"w-100 pr-2"}),n.a.createElement(G.a,{formGroupClass:"py-2 w-100",onChange:function(e){a(t.set("to",e))},placeholder:l("statistics.custom-date-to-placeholder"),value:t.get("to"),wrapperClassName:"w-100 pl-2"})):null)}X.propTypes={filters:s.a.object.isRequired,onChange:s.a.func.isRequired,className:s.a.string};var H=Object(r.memo)(X);function W(e){var t=e.loading,a=e.dataMap,l=e.error,c=e.load,o=Object(i.a)().t,s=z(),u=s.filters,m=s.apiFilters,d=s.handleFilterChange,f=m.period,p=m.from,b=m.to;return Object(r.useEffect)((function(){c(f,p,b)}),[c,f,p,b]),t?n.a.createElement(S.a,null):l?n.a.createElement(N.a,null):a&&!l?n.a.createElement("div",null,n.a.createElement("p",{className:"statistics-title"},o("statistics.chat-sessions-by-country.title")),n.a.createElement(C.a,{className:"mb-5 shadow"},n.a.createElement(A.a,{className:"pb-2"},n.a.createElement(I.a,null,n.a.createElement(x.a,{sm:12},n.a.createElement("p",null,o("statistics.chat-sessions-by-country.subtitle")),n.a.createElement(D,{className:"map",dataMap:a}),n.a.createElement(U,{dataMap:a}),n.a.createElement(I.a,{className:"px-3 py-2"},n.a.createElement(x.a,{sm:8},n.a.createElement(H,{filters:u,onChange:d})))))))):void 0}W.propTypes={load:s.a.func.isRequired,dataMap:s.a.object,filters:s.a.object,order:s.a.object,loading:s.a.bool,error:s.a.object};var Z=Object(u.c)((function(e){var t=e.statistics.get("sessionsByCountry");return{loading:t.get("loading"),dataMap:t.get("dataMap"),error:t.get("error")}}),(function(e){return{load:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e(w(t,a,r))}}}))(W);function ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],r=!0,n=!1,l=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,l=e}finally{try{r||null==c.return||c.return()}finally{if(n)throw l}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return te(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return te(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function ae(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r={};return t&&a?(r.from=t,r.to=a):e&&(r.days=e),r}function re(e){var t=z(),a=t.filters,n=t.apiFilters,l=t.handleFilterChange,i=n.period,c=n.from,o=n.to,s=ee(Object(r.useState)(Object(Y.b)({loading:!0,error:null,data:null})),2),u=s[0],m=s[1];return Object(r.useEffect)((function(){!function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=ae(t,a,r);d.a.call("get",e,n).data((function(e){m((function(t){return t.set("data",e).set("loading",!1)}))})).catch((function(){m((function(e){return e.set("error",!0).set("loading",!1)}))}))}(i,c,o)}),[e,i,c,o]),{apiData:u,filters:a,handleFilterChange:l}}function ne(e,t){var a=e.period,n=e.from,l=e.to,i=ee(Object(r.useState)(Object(Y.b)({loading:!0,error:null,data:null})),2),c=i[0],o=i[1];return Object(r.useEffect)((function(){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=ae(e,a,r);d.a.call("get",t,n).data((function(e){o((function(t){return t.set("data",e).set("loading",!1)}))})).catch((function(){o((function(e){return e.set("error",!0).set("loading",!1)}))}))}(a,n,l)}),[t,a,n,l]),c}var le,ie=a("XRgj");function ce(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var oe=(ce(le={},ie.i,"#08329d"),ce(le,ie.b,"#d2f1ba"),ce(le,ie.c,"#f85b85"),ce(le,ie.d,"#7c3e4c"),ce(le,ie.e,"#359cce"),ce(le,ie.h,"#6d5ac1"),ce(le,ie.g,"#32ad00"),ce(le,ie.f,"#eec06b"),ce(le,ie.a,"#7e7a8c"),le),se=a("hBLe");function ue(e){var t=e.statisticsData,a=Object(i.a)().t,r=Object(se.a)(),l=[];for(var c in t.data){var o=t.data[c],s={};for(var u in o)s[r(u)]=o[u];l.push({label:a("integrations.service.".concat(c)),data:s,backgroundColor:oe[c]})}var m={labels:t.dates.map((function(e){return r(e)})),datasets:l};return n.a.createElement(R.a,{options:{responsive:!0,plugins:{legend:{display:!0},title:{display:!1}},scales:{x:{stacked:!0},y:{stacked:!0}}},data:m,type:"bar"})}function me(e){var t=e.service,a=re("/methods/statistics/chat-usages-by-service/".concat(t||"")),r=a.apiData,l=a.filters,i=a.handleFilterChange;return r.get("loading")?n.a.createElement(S.a,null):r.get("error")?n.a.createElement(N.a,null):n.a.createElement(n.a.Fragment,null,n.a.createElement(ue,{statisticsData:r.get("data")}),n.a.createElement(I.a,{className:"px-3 py-2"},n.a.createElement(x.a,{sm:6},n.a.createElement(H,{filters:l,onChange:i}))))}ue.propTypes={statisticsData:s.a.shape({data:s.a.object,dates:s.a.array}).isRequired},me.propTypes={service:s.a.number};var de=me,fe=a("jrRI"),pe=a("3OM0");function be(e){var t=e.value,a=e.onChange,r=Object(i.a)().t,l=[{label:r("integrations.service.".concat(ie.i)),value:ie.i},{label:r("integrations.service.".concat(ie.b)),value:ie.b},{label:r("integrations.service.".concat(ie.c)),value:ie.c},{label:r("integrations.service.".concat(ie.d)),value:ie.d},{label:r("integrations.service.".concat(ie.e)),value:ie.e},{label:r("integrations.service.".concat(ie.h)),value:ie.h},{label:r("integrations.service.".concat(ie.g)),value:ie.g},{label:r("integrations.service.".concat(ie.f)),value:ie.f},{label:r("integrations.service.".concat(ie.a)),value:ie.a}],c=l.findIndex((function(e){return e.value===t}));return n.a.createElement(fe.a,{className:"d-flex flex-column-reverse p-0"},n.a.createElement(pe.a,{htmlFor:"service-select"}),n.a.createElement(B.a,{id:"service-select",placeholder:r("statistics.default-option-all"),value:-1!==c?l[c]:null,options:l,onChange:function(e){a(e?e.value:null)},isClearable:!0}))}be.propTypes={value:s.a.any,onChange:s.a.func.isRequired};var ge=be,ve=a("Buep"),ye=a("3zHg"),he=a("LdVD");function Ee(e){var t=e.value,a=e.onChange,r=e.className,l=Object(i.a)().t;return n.a.createElement(ve.a,{label:!1,name:"department_id",value:t,placeholder:l("statistics.default-option-all"),setFieldValue:function(e,t){return a(t)},loadOptions:he.a,loadValue:ye.a,errors:{},isClearable:!0,className:J()(r)})}Ee.propTypes={onChange:s.a.func.isRequired,value:s.a.any,className:s.a.string};var je=Ee,Oe=a("XYr3"),we=a.n(Oe);function Se(e){var t=e.statisticsData,a=Object(se.a)(),r=[];for(var l in t.data){var i=t.data[l],c={};for(var o in i)c[a(o)]=i[o];var s=t.names[l]||"-";r.push({label:s,data:c,backgroundColor:we()(s)})}var u={labels:t.dates.map((function(e){return a(e)})),datasets:r};return n.a.createElement(R.a,{options:P,data:u,type:"bar"})}function Ne(e){var t=e.department,a=re("/methods/statistics/chat-usages-by-department/".concat(t||"")),r=a.apiData,l=a.filters,i=a.handleFilterChange;return r.get("loading")?n.a.createElement(S.a,null):r.get("error")?n.a.createElement(N.a,null):n.a.createElement(n.a.Fragment,null,n.a.createElement(Se,{statisticsData:r.get("data")}),n.a.createElement(I.a,{className:"px-3 py-2"},n.a.createElement(x.a,{sm:6},n.a.createElement(H,{filters:l,onChange:i}))))}Se.propTypes={statisticsData:s.a.shape({data:s.a.object,dates:s.a.array,departments:s.a.object}).isRequired},Ne.propTypes={department:s.a.number};var Ce=Ne;function Ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],r=!0,n=!1,l=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,l=e}finally{try{r||null==c.return||c.return()}finally{if(n)throw l}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ie(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Ie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var xe=function(){var e,t=Object(i.a)().t,a=Ae(Object(r.useState)({label:t("statistics.chat-usages.types.".concat("channel")),value:"channel"}),2),l=a[0],c=a[1],o=Ae(Object(r.useState)(null),2),s=o[0],u=o[1];return e="channel"===l.value?n.a.createElement(de,{service:s}):n.a.createElement(Ce,{department:s}),n.a.createElement("div",null,n.a.createElement("p",{className:"statistics-title"},t("statistics.chat-usages.title")),n.a.createElement(C.a,{className:"mb-5 shadow"},n.a.createElement(A.a,{className:"pb-2"},n.a.createElement(I.a,{className:"px-3 py-2"},n.a.createElement(x.a,{sm:6},n.a.createElement(B.a,{value:l,options:[{label:t("statistics.chat-usages.types.".concat("channel")),value:"channel"},{label:t("statistics.chat-usages.types.".concat("department")),value:"department"}],onChange:function(e){c(e),u(null)}})),n.a.createElement(x.a,{sm:6},"channel"===l.value?n.a.createElement(ge,{key:l.value,value:s,onChange:u}):n.a.createElement(je,{className:"d-flex flex-column-reverse p-0",key:l.value,value:s,onChange:u}))),e)))},_e={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:""}}};function ke(e){var t=e.statisticsData,a=Object(se.a)(),r=[],l=t.dates.map((function(e){return a(e)}));for(var i in t.data){var c=t.data[i],o=[];for(var s in c)o.push(c[s]);var u=we()(i);r.push({label:t.names[i],data:o,borderColor:u,backgroundColor:u})}var m={labels:l,datasets:r};return n.a.createElement(R.b,{options:_e,data:m,type:"line"})}function Te(){var e=Object(i.a)().t,t=re("/methods/statistics/chat-usages-by-integration"),a=t.apiData,r=t.filters,l=t.handleFilterChange;return a.get("loading")?n.a.createElement(S.a,null):a.get("error")?n.a.createElement(N.a,null):n.a.createElement("div",null,n.a.createElement("p",{className:"statistics-title"},e("statistics.integrations-usages.title")),n.a.createElement(C.a,{className:"mb-5 shadow"},n.a.createElement(A.a,{className:"pb-2"},n.a.createElement(ke,{statisticsData:a.get("data")}),n.a.createElement(I.a,{className:"px-3 py-2"},n.a.createElement(x.a,{sm:4},n.a.createElement(H,{filters:r,onChange:l}))))))}ke.propTypes={statisticsData:s.a.object.isRequired},Te.propTypes={};var Me=Te,qe=a("m0r1"),De=a("sOKU");function Re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],r=!0,n=!1,l=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,l=e}finally{try{r||null==c.return||c.return()}finally{if(n)throw l}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Fe(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Fe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var Pe=Object(r.forwardRef)((function(e,t){var a=e.data,r=e.style,l=void 0===r?{}:r,i={labels:a.map((function(e){return e.name})),datasets:[{label:"",data:a.map((function(e){return e.count})),borderColor:"rgb(53, 162, 235)",backgroundColor:"rgba(53, 162, 235, 0.5)"}]};return n.a.createElement(R.a,{ref:t,style:l,options:F,data:i,type:"bar"})}));function Le(){var e=Object(i.a)().t,t=re("/methods/statistics/tag-usages"),a=t.apiData,l=t.filters,c=t.handleFilterChange,o=Re(Object(r.useState)(!1),2),s=o[0],u=o[1],m=Object(r.useRef)();return a.get("loading")?n.a.createElement(S.a,null):a.get("error")?n.a.createElement(N.a,null):n.a.createElement("div",null,n.a.createElement("p",{className:"statistics-title"},e("statistics.tags-usages.title")),n.a.createElement(C.a,{className:"mb-5 shadow"},n.a.createElement(A.a,{className:"pt-2"},n.a.createElement(I.a,{className:"px-3 py-2"},n.a.createElement(x.a,{sm:4},n.a.createElement(H,{filters:l,onChange:c}))),n.a.createElement(De.a,{className:"load-more-btn",onClick:function(){u(!s),m.current&&setTimeout((function(){m.current._resize()}),10)}},e(s?"statistics.hide-btn":"statistics.show-btn")),n.a.createElement(Pe,{ref:m,data:a.get("data").slice(0,s?void 0:10),style:{maxHeight:s?500:350}}))))}Pe.propTypes={data:s.a.array.isRequired,style:s.a.object},Le.propTypes={};var Ue=Le;function Ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],r=!0,n=!1,l=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,l=e}finally{try{r||null==c.return||c.return()}finally{if(n)throw l}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ve(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Ve(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function $e(e){var t=e.statisticsData,a=Object(i.a)().t,r=Object(se.a)(),l={labels:t.uniqueDates.map((function(e){return r(e)})),datasets:[{label:null,data:t.uniqueDates.map((function(e){return t.data[e]})),borderColor:"rgb(53, 162, 235)",backgroundColor:"rgba(53, 162, 235, 0.5)"}]};return n.a.createElement(R.b,{options:{plugins:{title:{display:!0,text:a("statistics.campaigns.sessions-by-period.title")},legend:{display:!1}}},data:l,type:"line"})}function ze(e){var t=e.period,a=e.from,l=e.to,i=e.campaignId,c=Ye(Object(r.useState)(Object(Y.b)({loading:!0,error:null,data:null})),2),o=c[0],s=c[1];return Object(r.useEffect)((function(){var e=ae(t,a,l);i&&(e.campaignId=i),d.a.call("get","/methods/statistics/campaigns/sessions-by-period",e).data((function(e){s((function(t){return t.set("data",e).set("loading",!1)}))})).catch((function(){s((function(e){return e.set("error",!0).set("loading",!1)}))}))}),[t,a,l,i]),o.get("loading")?n.a.createElement(S.a,null):o.get("error")?n.a.createElement(N.a,null):n.a.createElement(C.a,null,n.a.createElement(A.a,null,n.a.createElement($e,{statisticsData:o.get("data")})))}$e.propTypes={statisticsData:s.a.shape({uniqueDates:s.a.array.isRequired,data:s.a.object.isRequired}).isRequired},ze.propTypes={period:s.a.number,from:s.a.number,to:s.a.number,campaignId:s.a.number};var Be=ze;function Ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],r=!0,n=!1,l=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,l=e}finally{try{r||null==c.return||c.return()}finally{if(n)throw l}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Qe(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Qe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function Je(e){var t=e.statisticsData,a=Object(i.a)().t,r={labels:t.map((function(e){return e.name})),datasets:t.map((function(e){var a=we()(e.name);return{label:e.name,data:t.map((function(t){return t.name===e.name?e.count:0})),borderColor:a,backgroundColor:a}}))},l=Object.assign({},P);return l.plugins.title={display:!0,text:a("statistics.campaigns.sessions-by-campaign.title")},n.a.createElement(R.a,{options:l,data:r,type:"bar"})}function Ke(e){var t=e.period,a=e.from,l=e.to,i=e.campaignId,c=Ge(Object(r.useState)(Object(Y.b)({loading:!0,error:null,data:null})),2),o=c[0],s=c[1];return Object(r.useEffect)((function(){var e=ae(t,a,l);i&&(e.campaignId=i),d.a.call("get","/methods/statistics/campaigns/sessions-by-campaign",e).data((function(e){s((function(t){return t.set("data",e).set("loading",!1)}))})).catch((function(){s((function(e){return e.set("error",!0).set("loading",!1)}))}))}),[t,a,l,i]),o.get("loading")?n.a.createElement(S.a,null):o.get("error")?n.a.createElement(N.a,null):n.a.createElement(C.a,null,n.a.createElement(A.a,null,n.a.createElement(Je,{statisticsData:o.get("data")})))}Je.propTypes={statisticsData:s.a.array.isRequired},Ke.propTypes={period:s.a.number,from:s.a.number,to:s.a.number,campaignId:s.a.number};var Xe=Ke;function He(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],r=!0,n=!1,l=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,l=e}finally{try{r||null==c.return||c.return()}finally{if(n)throw l}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return We(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return We(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function We(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function Ze(e){var t=e.value,a=e.title;return n.a.createElement(x.a,{sm:4,className:" p-3 campaign-general-item"},n.a.createElement(C.a,null,n.a.createElement(A.a,{className:"text-center px-2"},n.a.createElement("p",{className:"value mb-0"},t),n.a.createElement("p",{className:"title mb-0"},a))))}function et(e){var t=e.period,a=e.from,l=e.to,c=e.campaignId,o=Object(i.a)().t,s=He(Object(r.useState)(Object(Y.b)({loading:!0,error:null,data:null})),2),u=s[0],m=s[1];if(Object(r.useEffect)((function(){var e=ae(t,a,l);c&&(e.campaignId=c),d.a.call("get","/methods/statistics/campaigns/general",e).data((function(e){m((function(t){return t.set("data",e).set("loading",!1)}))})).catch((function(){m((function(e){return e.set("error",!0).set("loading",!1)}))}))}),[t,a,l,c]),u.get("loading"))return n.a.createElement(S.a,null);if(u.get("error"))return n.a.createElement(N.a,null);var f=u.get("data").total_messages_count.toLocaleString(),p=u.get("data").new_subscribers_count.toLocaleString(),b=u.get("data").unsubscribers_count.toLocaleString();return n.a.createElement(I.a,null,n.a.createElement(Ze,{title:o("statistics.campaigns.general-statistics.messages-sent"),value:f}),n.a.createElement(Ze,{title:o("statistics.campaigns.general-statistics.new-subscribers"),value:p}),n.a.createElement(Ze,{title:o("statistics.campaigns.general-statistics.unsubscribers"),value:b}))}Ze.propTypes={value:s.a.any.isRequired,title:s.a.string.isRequired},et.propTypes={period:s.a.number,from:s.a.number,to:s.a.number,campaignId:s.a.number};var tt=et,at=a("R5y6"),rt=a("5f+b"),nt=a("Yfk4");function lt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],r=!0,n=!1,l=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,l=e}finally{try{r||null==c.return||c.return()}finally{if(n)throw l}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return it(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return it(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function it(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function ct(e){var t=e.period,a=e.from,l=e.to,c=e.campaignId,o=Object(i.a)().t,s=lt(Object(r.useState)(Object(Y.b)({loading:!0,error:null,data:null})),2),u=s[0],m=s[1],f=lt(Object(r.useState)(!1),2),p=f[0],b=f[1];if(Object(r.useEffect)((function(){var e=ae(t,a,l);c&&(e.campaignId=c),d.a.call("get","/methods/statistics/campaigns/info-table",e).data((function(e){m((function(t){return t.set("data",e).set("loading",!1)}))})).catch((function(){m((function(e){return e.set("error",!0).set("loading",!1)}))}))}),[t,a,l,c]),u.get("loading"))return n.a.createElement(S.a,null);if(u.get("error"))return n.a.createElement(N.a,null);var g=u.get("data"),v=p?g:g.slice(0,5);return n.a.createElement(C.a,null,n.a.createElement(A.a,null,n.a.createElement("p",{className:"campaigns-table-title"},o("statistics.campaigns.campaigns-info-table.rows-shown",{count:v.length,totalCount:g.length})),n.a.createElement(nt.a,{className:"campaigns-table",striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Campaign"),n.a.createElement("th",{className:"text-center"},"Sessions"),n.a.createElement("th",{className:"text-center"},"New sessions"),n.a.createElement("th",{className:"text-center"},"Unsubscribe rate"),n.a.createElement("th",{className:"text-center"},"Subscribers"))),n.a.createElement("tbody",null,v.map((function(e){return n.a.createElement("tr",{key:e.id},n.a.createElement("td",null,e.name),n.a.createElement("td",{className:"text-center"},e.sessions_count),n.a.createElement("td",{className:"text-center"},e.new_sessions_count),n.a.createElement("td",{className:"text-center"},e.unsubscribers),n.a.createElement("td",{className:"text-center"},e.subscribers))})))),g.length>5?n.a.createElement(De.a,{type:"button",onClick:function(){return b(!p)}},o(p?"statistics.hide-btn":"statistics.show-btn")):null))}ct.propTypes={period:s.a.number,from:s.a.number,to:s.a.number,campaignId:s.a.number};var ot=ct;function st(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],r=!0,n=!1,l=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,l=e}finally{try{r||null==c.return||c.return()}finally{if(n)throw l}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ut(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ut(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function mt(e){var t=e.value,a=e.onChange,r=Object(i.a)().t;return n.a.createElement(at.a,{name:"tags",label:r("statistics.campaigns.campaign-label"),value:t,setFieldValue:function(e,t){a(t)},errors:{},loadOptions:rt.a,isClearable:!0,className:"py-2",labelClass:"campaign-label"})}mt.propTypes={value:s.a.object,onChange:s.a.func.isRequired};var dt=function(){var e=Object(i.a)().t,t=z(),a=t.filters,l=t.apiFilters,c=t.handleFilterChange,o=l.period,s=l.from,u=l.to,m=st(Object(r.useState)(null),2),d=m[0],f=m[1],p=d?d.value:null;return n.a.createElement("div",null,n.a.createElement("p",{className:"statistics-title"},e("statistics.campaigns.title")),n.a.createElement(C.a,{className:"mb-5 shadow"},n.a.createElement(A.a,{className:"pt-2"},n.a.createElement(I.a,{className:"px-3 py-2"},n.a.createElement(x.a,{sm:4,className:"pb-2"},n.a.createElement(mt,{value:d,onChange:f})),n.a.createElement(x.a,{sm:4,className:"d-flex align-bottom pb-2 pt-4 mt-2"},n.a.createElement(H,{className:"w-100 align-self-end",filters:a,onChange:c})),n.a.createElement(x.a,{sm:6},n.a.createElement(Be,{period:o,from:s,to:u,campaignId:p})),n.a.createElement(x.a,{sm:6},n.a.createElement(Xe,{period:o,from:s,to:u,campaignId:p})),n.a.createElement(x.a,{sm:6},n.a.createElement(tt,{period:o,from:s,to:u,campaignId:p})),n.a.createElement(x.a,{sm:12},n.a.createElement(ot,{period:o,from:s,to:u,campaignId:p}))))))};function ft(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],r=!0,n=!1,l=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,l=e}finally{try{r||null==c.return||c.return()}finally{if(n)throw l}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return pt(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return pt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pt(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var bt=Object(r.forwardRef)((function(e,t){var a=e.data,r=e.style,l=void 0===r?{}:r,i={labels:a.map((function(e){return e.trigger_name})),datasets:[{label:"",data:a.map((function(e){return e.percent})),borderColor:"rgb(53, 162, 235)",backgroundColor:"rgba(53, 162, 235, 0.5)"}]};return n.a.createElement(R.a,{ref:t,style:l,options:F,data:i,type:"bar"})}));function gt(e){var t=e.value,a=e.onChange,r=Object(i.a)().t;return n.a.createElement(at.a,{className:"py-2",labelClass:"key-metric-label",name:"tags",label:r("statistics.triggers.trigger-label"),value:t,setFieldValue:function(e,t){a(t)},errors:{},loadOptions:function(e){return new Promise((function(t){d.a.call("get","/methods/statistics/possible-triggers",{q:e}).data((function(e){t(e.map((function(e){return{label:e,value:e}})))}))}))},isClearable:!0})}function vt(){var e=Object(i.a)().t,t=z(),a=t.filters,l=t.apiFilters,c=t.handleFilterChange,o=l.period,s=l.from,u=l.to,m=ft(Object(r.useState)(!1),2),f=m[0],p=m[1],b=ft(Object(r.useState)(null),2),g=b[0],v=b[1],y=g?g.value:null,h=ft(Object(r.useState)(Object(Y.b)({loading:!0,error:null,data:null})),2),E=h[0],j=h[1];Object(r.useEffect)((function(){var e=ae(o,s,u);y&&(e.trigger=y),d.a.call("get","/methods/statistics/trigger-usages",e).data((function(e){j((function(t){return t.set("data",e).set("loading",!1)}))})).catch((function(){j((function(e){return e.set("error",!0).set("loading",!1)}))}))}),[o,s,u,y]);var O=Object(r.useRef)();return E.get("loading")?n.a.createElement(S.a,null):E.get("error")?n.a.createElement(N.a,null):n.a.createElement("div",null,n.a.createElement("p",{className:"statistics-title"},y?e("statistics.triggers.title-one",{word:y}):e("statistics.triggers.title-all",{count:10})),n.a.createElement(C.a,{className:"mb-5 shadow"},n.a.createElement(A.a,{className:"pt-2"},n.a.createElement(I.a,{className:"px-3 py-2"},n.a.createElement(x.a,{sm:4,className:"pb-2"},n.a.createElement(gt,{value:g,onChange:v})),n.a.createElement(x.a,{sm:4,className:"d-flex align-bottom pb-2 pt-4 mt-2"},n.a.createElement(H,{className:"w-100 align-self-end",filters:a,onChange:c})),n.a.createElement(x.a,{sm:12},E.get("data").length>10?n.a.createElement(De.a,{className:"load-more-btn",onClick:function(){p(!f),O.current&&setTimeout((function(){O.current._resize()}),10)}},e(f?"statistics.hide-btn":"statistics.show-btn")):null,n.a.createElement(bt,{ref:O,data:E.get("data").slice(0,f?void 0:10),style:{maxHeight:f?500:350}}))))))}bt.propTypes={data:s.a.array.isRequired,style:s.a.object},gt.propTypes={value:s.a.object,onChange:s.a.func.isRequired},vt.propTypes={};var yt=vt,ht=a("XAkp"),Et=a("rWSr"),jt=a("mNz5"),Ot=a.n(jt),wt=a("ktSP");function St(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],r=!0,n=!1,l=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,l=e}finally{try{r||null==c.return||c.return()}finally{if(n)throw l}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Nt(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Nt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function Ct(e){var t=e.children,a=e.tooltip,l=St(Object(r.useState)(!1),2),i=l[0],c=l[1],o=St(Object(r.useState)(Ot()("tooltip")),1)[0];return n.a.createElement(n.a.Fragment,null,t,a?n.a.createElement(_.db,{className:"mx-2 tooltip-icon",onMouseEnter:function(){return c(!0)},onMouseLeave:function(){return c(!1)},id:o}):null,i&&a?n.a.createElement(Et.a,{placement:"right",isOpen:i,target:o,toggle:function(){return c((function(e){return!e}))}},a):null)}Ct.propTypes={children:s.a.any,tooltip:s.a.string};var At=function(e){var t=ne(e.apiFilters,"/methods/statistics/chatboard/general"),a=Object(i.a)().t;return t.get("loading")?n.a.createElement(S.a,null):t.get("error")?n.a.createElement(N.a,null):n.a.createElement(ht.a,{className:"common-stat-table"},n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("th",null,a("statistics.live-chat.general.total-number-of-chat-requests")),n.a.createElement("td",null,t.getIn(["data","total_number_of_chat_requests"]))),n.a.createElement("tr",null,n.a.createElement("th",null,n.a.createElement(Ct,{tooltip:a("statistics.live-chat.general.total-number-of-successful-proactive-chat-invitations-tooltip")},a("statistics.live-chat.general.total-number-of-successful-proactive-chat-invitations"))),n.a.createElement("td",null,t.getIn(["data","total_number_of_proactive_chat_invitations"]))),n.a.createElement("tr",null,n.a.createElement("th",null,n.a.createElement(Ct,{tooltip:a("statistics.live-chat.general.total-number-of-chats-accepted-by-operators-tooltip")},a("statistics.live-chat.general.total-number-of-chats-accepted-by-operators"))),n.a.createElement("td",null,t.getIn(["data","total_number_of_chats_accepted_by_operators"]))),n.a.createElement("tr",null,n.a.createElement("th",null,n.a.createElement(Ct,{tooltip:a("statistics.live-chat.general.total-number-of-skipped-chats-tooltip")},a("statistics.live-chat.general.total-number-of-skipped-chats"))),n.a.createElement("td",null,t.getIn(["data","total_number_of_skipped_chats"]))),n.a.createElement("tr",null,n.a.createElement("th",null,n.a.createElement(Ct,{tooltip:a("statistics.live-chat.general.average-waiting-time-until-chat-be-accepted-tooltip")},a("statistics.live-chat.general.average-waiting-time-until-chat-be-accepted"))),n.a.createElement("td",null,Object(wt.a)(Math.ceil(t.getIn(["data","average_waiting_time_until_chat_be_accepted"]))))),n.a.createElement("tr",null,n.a.createElement("th",null,n.a.createElement(Ct,{tooltip:a("statistics.live-chat.general.average-duration-of-chat-tooltip")},a("statistics.live-chat.general.average-duration-of-chat"))),n.a.createElement("td",null,Object(wt.a)(Math.ceil(t.getIn(["data","average_duration_of_chat"]))))),n.a.createElement("tr",null,n.a.createElement("th",null,n.a.createElement(Ct,{tooltip:a("statistics.live-chat.general.number-of-chats-closed-tooltip")},a("statistics.live-chat.general.number-of-chats-closed"))),n.a.createElement("td",null,t.getIn(["data","number_of_chats_closed"]))),n.a.createElement("tr",null,n.a.createElement("th",null,n.a.createElement(Ct,{tooltip:a("statistics.live-chat.general.number-of-chats-returned-back-to-que-tooltip")},a("statistics.live-chat.general.number-of-chats-returned-back-to-que"))),n.a.createElement("td",null,t.getIn(["data","number_of_chats_returned_back_to_que"]))),n.a.createElement("tr",null,n.a.createElement("th",null,n.a.createElement(Ct,{tooltip:a("statistics.live-chat.general.number-of-abandoned-chats-tooltip")},a("statistics.live-chat.general.number-of-abandoned-chats"))),n.a.createElement("td",null,t.getIn(["data","number_of_abandoned_chats"])))))};At.propTypes={apiFilters:s.a.shape({period:s.a.number,from:s.a.number,to:s.a.number})};var It=At;function xt(e){var t=e.statisticsData,a=e.mapLabel,r=Object(se.a)(),l=[];for(var i in t.data){var c=t.data[i],o={};for(var s in c)o[r(s)]=c[s];l.push({label:a(i),data:o,backgroundColor:we()(i)})}var u={labels:t.dates.map((function(e){return r(e)})),datasets:l};return n.a.createElement(R.a,{options:{responsive:!0,plugins:{legend:{display:!0},title:{display:!1}},scales:{x:{stacked:!0},y:{stacked:!0}}},data:u,type:"bar"})}xt.propTypes={statisticsData:s.a.shape({data:s.a.object,dates:s.a.array}).isRequired,mapLabel:s.a.func.isRequired};var _t=xt,kt=a("83d4");function Tt(e){return new Promise((function(t){d.a.call("get","/methods/user/".concat(e)).data((function(e){t({label:e.name,value:e.id,user:kt.d.instantiate(e)})}))}))}var Mt=a("F6sc");function qt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],r=!0,n=!1,l=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,l=e}finally{try{r||null==c.return||c.return()}finally{if(n)throw l}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Dt(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Dt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function Rt(e){var t=e.filters,a=Object(i.a)().t,l=qt(Object(r.useState)(null),2),c=l[0],o=l[1],s=ne(t,"/methods/statistics/chatboard/chat-duration/by-operator/".concat(c||""));return s.get("loading")?n.a.createElement(S.a,null):s.get("error")?n.a.createElement(N.a,null):n.a.createElement(n.a.Fragment,null,n.a.createElement(ve.a,{className:"limiter",label:!1,placeholder:a("statistics.live-chat.chat-duration-chart.all-operators"),name:"operator_id",value:c,setFieldValue:function(e,t){o(t)},loadOptions:Mt.a,loadValue:Tt,errors:{},isClearable:!0}),n.a.createElement(_t,{statisticsData:s.get("data"),mapLabel:function(e){return s.get("data").names[e]}}))}Rt.propTypes={filters:s.a.object.isRequired};var Ft=Rt;var Pt=a("suXn");function Lt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],r=!0,n=!1,l=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,l=e}finally{try{r||null==c.return||c.return()}finally{if(n)throw l}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ut(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Ut(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function Yt(e){var t=e.filters,a=Object(i.a)().t,l=Lt(Object(r.useState)(null),2),c=l[0],o=l[1],s=ne(t,"/methods/statistics/chatboard/chat-duration/by-service/".concat(c||""));if(s.get("loading"))return n.a.createElement(S.a,null);if(s.get("error"))return n.a.createElement(N.a,null);var u=function(e){return function(t){var a=[ie.i,ie.b,ie.c,ie.d,ie.e,ie.h,ie.g,ie.f,ie.a].map((function(t){return{label:e("integrations.service.".concat(t)),value:t}})).filter((function(e){return-1!==e.label.toLowerCase().indexOf(t.toLowerCase())}));return new Promise((function(e){e(a)}))}}(a);return n.a.createElement(n.a.Fragment,null,n.a.createElement(ve.a,{className:"limiter",label:!1,placeholder:a("statistics.live-chat.chat-duration-chart.all-services"),name:"operator_id",value:c,setFieldValue:function(e,t){o(t)},loadOptions:u,loadValue:function(e){return new Promise((function(t){u("").then((function(a){t(Object(Pt.find)(a,(function(t){return t.value===e})))}))}))},errors:{},isClearable:!0}),n.a.createElement(_t,{statisticsData:s.get("data"),mapLabel:function(e){return a("integrations.service.".concat(e))}}))}Yt.propTypes={filters:s.a.object.isRequired};var Vt=Yt;function $t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],r=!0,n=!1,l=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,l=e}finally{try{r||null==c.return||c.return()}finally{if(n)throw l}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return zt(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return zt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zt(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function Bt(e){var t=e.filters,a=Object(i.a)().t,l=$t(Object(r.useState)(null),2),c=l[0],o=l[1],s=ne(t,"/methods/statistics/chatboard/chat-duration/by-department/".concat(c||""));return s.get("loading")?n.a.createElement(S.a,null):s.get("error")?n.a.createElement(N.a,null):n.a.createElement(n.a.Fragment,null,n.a.createElement(ve.a,{className:"limiter",label:!1,placeholder:a("statistics.live-chat.chat-duration-chart.all-services"),name:"operator_id",value:c,setFieldValue:function(e,t){o(t)},loadOptions:he.a,loadValue:ye.a,errors:{},isClearable:!0}),n.a.createElement(_t,{statisticsData:s.get("data"),mapLabel:function(e){return e?s.get("data").names[e]:"-"}}))}Bt.propTypes={filters:s.a.object.isRequired};var Gt=Bt;function Qt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],r=!0,n=!1,l=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,l=e}finally{try{r||null==c.return||c.return()}finally{if(n)throw l}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Jt(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Jt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jt(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var Kt=function(){var e=Object(i.a)().t,t=Qt(Object(r.useState)(1),2),a=t[0],l=t[1],c=[1,2,3],o=z(),s=o.filters,u=o.apiFilters,m=o.handleFilterChange,d=null;switch(a){case 1:d=n.a.createElement(Vt,{filters:u});break;case 2:d=n.a.createElement(Gt,{filters:u});break;case 3:d=n.a.createElement(Ft,{filters:u})}return n.a.createElement("div",null,n.a.createElement("p",{className:"statistics-title"},e("statistics.live-chat.title")),n.a.createElement(C.a,{className:"mb-5 shadow"},n.a.createElement(A.a,{className:"pt-4"},n.a.createElement("div",{className:"navigation-bar-wrapper px-3"},n.a.createElement("div",{className:"navigation-bar d-flex"},c.map((function(t){return n.a.createElement("button",{key:t,onClick:function(){return l(t)},className:J()("navigation-item rounded-top py-2 px-4",{active:a===t})},e("statistics.live-chat.types.".concat(t)))})))),n.a.createElement(C.a,{className:"mx-3 live-chat-graph"},n.a.createElement(A.a,null,d,n.a.createElement(I.a,{className:"px-3 pb-0 pt-3"},n.a.createElement(x.a,{sm:4},n.a.createElement(H,{filters:s,onChange:m}))))),n.a.createElement(I.a,{className:"px-3 pt-4 pb-2"},n.a.createElement(x.a,{sm:12,md:8},n.a.createElement(It,{apiFilters:u}))))))};qe.e.register(qe.d,qe.j,qe.b,qe.p,qe.q,qe.g,qe.l,qe.i);t.default=function(){var e=Object(i.a)().t;return n.a.createElement(c.a,{pagesAddClass:"statistics-page"},n.a.createElement(l.a,null,e("statistics.title")),n.a.createElement(I.a,null,n.a.createElement(x.a,{sm:12,className:"mb-2"},n.a.createElement(T,null))),n.a.createElement(l.a,null,e("statistics.title-detail")),n.a.createElement(I.a,null,n.a.createElement(x.a,{sm:7},n.a.createElement(xe,null)),n.a.createElement(x.a,{sm:5,className:"mb-2 chat-sessions-by-country"},n.a.createElement(Z,null))),n.a.createElement(I.a,null,n.a.createElement(x.a,{sm:12},n.a.createElement(Me,null))),n.a.createElement(I.a,null,n.a.createElement(x.a,{sm:12},n.a.createElement(Ue,null))),n.a.createElement(dt,null),n.a.createElement(I.a,null,n.a.createElement(x.a,{sm:12},n.a.createElement(yt,null))),n.a.createElement(I.a,null,n.a.createElement(x.a,{sm:12},n.a.createElement(Kt,null))))}},Yfk4:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var r=a("q1tI"),n=a.n(r),l=a("17x9"),i=a.n(l),c=a("XAkp"),o=a("TSYQ"),s=a.n(o);function u(e){var t=e.children,a=e.className;return n.a.createElement("div",{className:s()("site-table-wrapper",a)},n.a.createElement(c.a,{className:s()("site-table",a)},t))}u.propTypes={children:i.a.any.isRequired,className:i.a.string}},"c0+T":function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var r=a("q1tI"),n=a.n(r),l=a("17x9"),i=a.n(l),c=a("jrRI"),o=a("NRhA"),s=a.n(o),u=a("Opvh"),m=a("J3gs");a("5Buo");var d=a("TSYQ"),f=a.n(d);function p(e){var t=e.value,a=e.onChange,l=e.customInput,i=e.placeholder,d=e.formGroupClass,p=e.inputClass,b=e.wrapperClassName,g=e.minDate,v=e.maxDate;Object(r.useEffect)((function(){Object(o.registerLocale)(window.locale,u[window.locale])}),[]);var y=function(e){switch(e){case"MM/DD/YYYY":return"MM/dd/yyyy";case"DD.MM.YYYY":return"dd.MM.yyyy"}}(Object(m.a)());return n.a.createElement(c.a,{className:f()(d)},n.a.createElement(s.a,{selected:t?new Date(1e3*t):null,onChange:function(e){return a(e?Math.ceil(e.getTime()/1e3):null)},className:f()("form-control",p),wrapperClassName:b,dateFormat:y,customInput:l,placeholderText:i,locale:window.locale,minDate:g,maxDate:v}))}p.propTypes={onChange:i.a.func.isRequired,customInput:i.a.any,value:i.a.number,placeholder:i.a.string,formGroupClass:i.a.string,inputClass:i.a.string,wrapperClassName:i.a.string,minDate:i.a.object,maxDate:i.a.object}},dbgk:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var r=a("q1tI"),n=a.n(r),l=a("17x9"),i=a.n(l);function c(e){var t=e.children;return n.a.createElement("h1",{className:"title-main mb-3"},t)}c.propTypes={children:i.a.any.isRequired}},ktSP:function(e,t,a){"use strict";function r(e){var t=Math.floor(e/31536e3);e-=31536e3*t;var a=Math.floor(e/604800);e-=604800*a;var r=Math.floor(e/86400);e-=86400*r;var n=Math.floor(e/3600);e-=3600*n;var l=Math.floor(e/60);e-=60*l;var i=[];return t&&i.push("".concat(t,"y")),a&&i.push("".concat(a,"w")),r&&i.push("".concat(r,"d")),n&&i.push("".concat(n,"h")),l&&i.push("".concat(l,"min")),e&&i.push("".concat(e,"s")),i.join(" ")}a.d(t,"a",(function(){return r}))},zwA0:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var r=a("q1tI"),n=a.n(r),l=a("9Koi");function i(){var e=Object(l.a)().t;return n.a.createElement("div",null,e("common.site-error-message"))}}}]);