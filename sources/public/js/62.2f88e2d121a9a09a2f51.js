(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{"5TAD":function(e,t,a){"use strict";var n=a("q1tI"),s=a.n(n),r=a("17x9"),i=a.n(r),l=a("55Ip"),c=a("TSYQ"),o=a.n(c);function m(e){var t=e.url,a=e.icon,n=e.text,r=e.realLink,i=e.className,c=s.a.createElement(s.a.Fragment,null,a,n?s.a.createElement("span",{className:"text-main color-blue"},n):null);return r?s.a.createElement("a",{className:o()("p-3 d-flex action-dropdown-item edit color-black",i),href:t},c):s.a.createElement(l.a,{className:o()("p-3 d-flex action-dropdown-item edit color-black",i),to:t},c)}m.defaultProps={realLink:!1},m.propTypes={url:i.a.string.isRequired,icon:i.a.any,text:i.a.string,realLink:i.a.bool,className:i.a.string},t.a=s.a.memo(m)},"6jMY":function(e,t,a){"use strict";a.d(t,"b",(function(){return s}));var n=a("MwQV");function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){return new Promise((function(a){var s={q:t};e&&(s.type=e),n.a.call("get","/methods/integrations/search",s).data((function(e){a(e.map((function(e){return{label:e.name,value:e.id,integration:e}})))}))}))}}var r=s();t.a=r},GmYL:function(e,t,a){"use strict";var n=a("q1tI"),s=a.n(n),r=a("17x9"),i=a.n(r),l=a("ma3e"),c=a("9Koi"),o=a("5TAD");function m(e){var t=e.url,a=Object(c.a)().t;return s.a.createElement(o.a,{url:t,icon:s.a.createElement(l.N,{className:"icon-size-15 color-blue mr-2"}),text:a("common.edit-link")})}m.propTypes={url:i.a.string.isRequired},t.a=s.a.memo(m)},Vham:function(e,t,a){"use strict";a.r(t);var n=a("q1tI"),s=a.n(n),r=a("17x9"),i=a.n(r),l=a("q7S4"),c=a("MwQV"),o=a("c8c+"),m=a("Qu/B"),u=a("EW+5"),g=Object(u.a)(l.a),d=g.loading,b=g.itemsListLoaded,f=g.error,E=a("4OsG");function p(e){return function(){return new Promise((function(t){t(function(e){return[{label:e("instantMessages.status.".concat(E.c)),value:E.c},{label:e("instantMessages.status.".concat(E.b)),value:E.b},{label:e("instantMessages.status.".concat(E.d)),value:E.d},{label:e("instantMessages.status.".concat(E.a)),value:E.a}]}(e))}))}}var h=a("jeY2"),v=a("9Koi"),x=a("4vsJ"),N=a("ridt"),M=a("jQco"),j=a("2pJb"),O=a("1Y33"),y=a("eOHm"),P=a("QPV6"),w=a("Yfk4"),q=a("dbgk"),k=a("Jxq0"),F=a("Uf9I"),R=a("19iC"),S=a("GmYL"),T=a("OKOT"),Y=a("55Ip"),_=a("6jMY"),L=a("ma3e"),I=a("5TAD");function Q(e){var t=e.filters,a=e.sort,n=e.data,r=e.currentPage,i=e.lastPage,l=e.changeFilters,c=e.changeSort,o=e.changePage,m=Object(v.a)().t,u=Object(R.a)();return s.a.createElement(s.a.Fragment,null,s.a.createElement(q.a,null,m("instantMessages.index.title")),s.a.createElement("div",{className:"text-right"},s.a.createElement(Y.a,{to:"/instant-message-templates/1",className:"btn btn-primary mt-2 mb-4 mr-2"},m("instantMessages.index.template-btn-text")),s.a.createElement(Y.a,{to:"/instant-messages/create",className:"btn btn-primary mt-2 mb-4"},m("instantMessages.index.create-btn-text"))),s.a.createElement(M.d,{filters:t,changeFilters:l}),s.a.createElement(w.a,{className:"instant-messages-table"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,s.a.createElement(j.a,{title:m("instantMessages.index.name-column"),active:Object(x.b)(a,"instant_messages.name")||Object(O.b)(t,"instant_messages.name")},s.a.createElement(x.a,{sort:a,name:"instant_messages.name",displayName:m("instantMessages.index.name-column"),changeSort:c,order:1}),s.a.createElement(F.a,{displayName:m("user.index-page.column-name"),filters:t,changeFilters:l,column:"instant_messages.name"}))),s.a.createElement("th",null,s.a.createElement(j.a,{title:m("instantMessages.index.integration-column"),active:Object(x.b)(a,"integrations.name")||Object(O.b)(t,"integrations.name")},s.a.createElement(x.a,{sort:a,name:"integrations.name",displayName:m("instantMessages.index.integration-column"),changeSort:c,order:1}),s.a.createElement(N.a,{displayName:m("user.index-page.integration-column"),filters:t,changeFilters:l,column:"integrations.id",loadOptions:Object(_.b)()}))),s.a.createElement("th",{className:"state"},s.a.createElement(j.a,{title:m("instantMessages.index.status-column"),active:Object(O.b)(t,"status")},s.a.createElement(N.a,{displayName:m("instantMessages.index.status-column"),filters:t,changeFilters:l,column:"status",loadOptions:p(m)}))),s.a.createElement("th",{className:"start-at"},s.a.createElement(j.a,{title:m("instantMessages.index.start-at-column"),active:Object(x.b)(a,"start_at")},s.a.createElement(x.a,{sort:a,name:"start_at",displayName:m("instantMessages.index.start-at-column"),changeSort:c,order:2}))),s.a.createElement("th",{className:"action-items"},"Â "))),s.a.createElement("tbody",null,n.length?n.map((function(e){return s.a.createElement("tr",{key:e.id,id:e.id},s.a.createElement("td",null,e.name),s.a.createElement("td",null,e.integration?e.integration.name:"-"),s.a.createElement("td",{className:"state"},m("instantMessages.status.".concat(e.status))),s.a.createElement("td",{className:"start-at"},u(e.start_at),e.send_instantly?"(".concat(m("instantMessages.sent-instantly"),")"):""),s.a.createElement(P.a,null,(function(t){return s.a.createElement(s.a.Fragment,null,s.a.createElement(I.a,{url:"/instant-messages/".concat(e.id,"/view"),icon:s.a.createElement(L.w,{className:"icon-size-15 color-blue mr-2"}),text:m("common.view-link")}),e.status!==E.c?null:s.a.createElement(S.a,{url:"/instant-messages/".concat(e.id,"/edit")}),e.status!==E.c?null:s.a.createElement(T.a,{url:"/methods/instant-messages/".concat(e.id),setConfirm:t,onSuccess:function(){return o(r)}}))})))})):s.a.createElement(k.a,{colspan:8}))),s.a.createElement(y.a,{currentPage:r,lastPage:i,loadPage:o,route:"/instant-messages"}))}Q.propTypes={changeFilters:i.a.func.isRequired,changeSort:i.a.func.isRequired,changePage:i.a.func.isRequired,data:i.a.array.isRequired,currentPage:i.a.number,lastPage:i.a.number,filters:i.a.object.isRequired,sort:i.a.object.isRequired};t.default=Object(h.a)(Q,(function(e){var t,a=e.instantMessages;return{loading:a.get("loading"),data:null===(t=a.get("data"))||void 0===t?void 0:t.toArray(),errors:a.get("errors"),currentPage:a.get("currentPage"),lastPage:a.get("lastPage"),filters:a.get("filters"),sort:a.get("sort")}}),(function(e){return{loadPage:function(t,a,n){return e(function(e,t,a){return function(n){var s={page:e};t.size&&(s.filter=Object(o.a)(t)),a.size&&(s.order=Object(m.a)(a)),n(d()),c.a.call("get","/methods/instant-messages",s,{}).then((function(e){n(b({filters:t,sort:a,response:e}))})).catch((function(e){return n(f(e))}))}}(t,a,n))}}}))}}]);