(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{"5TAD":function(e,t,n){"use strict";var a=n("q1tI"),r=n.n(a),c=n("17x9"),o=n.n(c),i=n("55Ip"),l=n("TSYQ"),s=n.n(l);function u(e){var t=e.url,n=e.icon,a=e.text,c=e.realLink,o=e.className,l=r.a.createElement(r.a.Fragment,null,n,a?r.a.createElement("span",{className:"text-main color-blue"},a):null);return c?r.a.createElement("a",{className:s()("p-3 d-flex action-dropdown-item edit color-black",o),href:t},l):r.a.createElement(i.a,{className:s()("p-3 d-flex action-dropdown-item edit color-black",o),to:t},l)}u.defaultProps={realLink:!1},u.propTypes={url:o.a.string.isRequired,icon:o.a.any,text:o.a.string,realLink:o.a.bool,className:o.a.string},t.a=r.a.memo(u)},6025:function(e,t,n){"use strict";n.r(t);var a=n("q1tI"),r=n.n(a),c=n("17x9"),o=n.n(c),i=n("/MKj"),l=n("TtP3"),s=n("k0Re"),u=n("bTjV"),m=n("zwA0"),d=n("QPV6"),p=n("GmYL"),f=n("OKOT"),b=n("Yfk4");function y(e){var t=e.companyId,n=e.departments,a=e.reloadPage;return r.a.createElement(b.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Department"),r.a.createElement("th",null,"Â "))),r.a.createElement("tbody",null,n.map((function(e){return r.a.createElement("tr",{key:e.id,id:"department-".concat(e.id)},r.a.createElement("td",null,e.name),r.a.createElement(d.a,null,(function(n){return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{url:"/companies/".concat(t,"/departments/").concat(e.id,"/edit")}),r.a.createElement(f.a,{url:"/methods/departments/".concat(e.id),setConfirm:n,onSuccess:a}))})))}))))}y.propTypes={companyId:o.a.number.isRequired,departments:o.a.array.isRequired,reloadPage:o.a.func.isRequired};var g=n("55Ip"),h=n("9Koi"),E=n("MwQV"),v=n("nc57"),x=n("6Rhw"),O=n("x37D"),j=n("Ty5D"),w=n("mL5Q"),k=n("n7jJ");function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(a=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,c=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw c}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function T(e){var t=e.company,n=e.redirectBack,c=Object(h.a)().t,o=Object(j.h)(),i=S(Object(a.useState)(!1),2),l=i[0],s=i[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{show:l,text:c("companies.edit-page.data-changed-message"),onConfirm:function(){return s(!1)}}),r.a.createElement(v.a,{className:"limiter",initialValues:{name:t.name},handleSubmit:function(e,a){var r=a.setSubmitting,c=a.setErrors;E.a.call("patch","/methods/companies/".concat(t.id),{},e).then((function(){n?o.goBack():s(!0)})).validation((function(e,t){c(t)})),r(!1)},renderForm:function(e){var t=e.handleChange,n=e.handleBlur,a=e.values,o=e.errors,i=e.isSubmitting;return r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{id:"name",name:"name",label:c("companies.edit-page.name-label"),placeholder:c("companies.edit-page.name-placeholder"),onChange:t,onBlur:n,value:a.name,errors:o}),r.a.createElement(O.a,{className:"pt-2 px-4 mt-3 mb-sm-4 mb-5",disabled:i},c("common.saveBtnText")))}}))}T.propTypes={company:o.a.instanceOf(w.a).isRequired,redirectBack:o.a.bool};var q=n("dbgk");function C(e){var t,n=e.loading,c=e.error,o=e.company,i=e.dispatch,d=Object(j.j)(),p=d.id,f="0"!==d.back,b=Object(h.a)().t,E=Object(a.useCallback)((function(){return i(Object(s.b)(p))}),[p]);return Object(a.useEffect)((function(){E()}),[E]),t=n||!o?r.a.createElement(u.a,null):c?r.a.createElement(m.a,null):r.a.createElement("div",null,r.a.createElement(T,{company:o,redirectBack:f}),r.a.createElement("div",{className:"text-sm-right"},r.a.createElement(g.a,{to:"/companies/".concat(p,"/users/1"),className:"btn btn-secondary ml-sm-3 mr-sm-0 mr-3 px-4 pt-2 mb-3"},b("companies.edit-page.users-list-link")),r.a.createElement(g.a,{to:"/companies/".concat(p,"/departments/create"),className:"btn btn-outline-primary ml-sm-3 mr-sm-0 mr-3 px-4 pt-2 mb-3"},b("companies.edit-page.add-department-btn"))),r.a.createElement(y,{companyId:+p,reloadPage:E,departments:o.departments.toArray()})),r.a.createElement(l.a,null,r.a.createElement(q.a,null,b("companies.edit-page.title")),r.a.createElement("div",null,t))}t.default=Object(i.c)((function(e){var t=e.companies;return{loading:t.get("loading"),error:t.get("error"),company:t.get("item")}}))(C);C.propTypes={company:o.a.instanceOf(w.a),dispatch:o.a.func.isRequired,error:o.a.object,loading:o.a.bool}},GmYL:function(e,t,n){"use strict";var a=n("q1tI"),r=n.n(a),c=n("17x9"),o=n.n(c),i=n("ma3e"),l=n("9Koi"),s=n("5TAD");function u(e){var t=e.url,n=Object(l.a)().t;return r.a.createElement(s.a,{url:t,icon:r.a.createElement(i.T,{className:"icon-size-15 color-blue mr-2"}),text:n("common.edit-link")})}u.propTypes={url:o.a.string.isRequired},t.a=r.a.memo(u)},OKOT:function(e,t,n){"use strict";var a=n("q1tI"),r=n.n(a),c=n("17x9"),o=n.n(c),i=n("kvuc"),l=n("9Koi"),s=n("MwQV"),u=n("ma3e");function m(e){var t=e.url,n=e.onSuccess,a=e.setConfirm,c=e.disabled,o=Object(l.a)().t;return r.a.createElement("button",{className:"btn btn-link no-shadow d-flex p-3 text-left w-100 action-dropdown-item text-dec-none",type:"button",onClick:function(){a({text:o("tables.delete-confirmation-text"),onConfirm:function(){s.a.call("delete",t).then((function(){a(null),n&&n(t)})).catch((function(){a(null)}))},onCancel:function(){a(null)}})},disabled:c},r.a.createElement(u.xb,{className:"icon-size-15 color-red mr-2"}),r.a.createElement("span",{className:"text-main color-red"},"Delete"))}function d(e){var t=e.url,n=e.onSuccess,a=e.setConfirm,c=e.disabled;return r.a.createElement(i.a,{tag:m,url:t,onSuccess:n,setConfirm:a,disabled:c})}m.propTypes={onSuccess:o.a.func,setConfirm:o.a.func.isRequired,url:o.a.string.isRequired,disabled:o.a.bool},d.propTypes={onSuccess:o.a.func,setConfirm:o.a.func.isRequired,url:o.a.string.isRequired,disabled:o.a.bool},t.a=r.a.memo(d)},QPV6:function(e,t,n){"use strict";var a=n("q1tI"),r=n.n(a),c=n("17x9"),o=n.n(c),i=n("oI+J"),l=n("Z7gm"),s=n("X68C"),u=n("FBLP"),m=n("ma3e");function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(a=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,c=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw c}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function f(e){var t,n=e.children,c=e.empty,o=d(Object(a.useState)(!1),2),p=o[0],f=o[1],b=d(Object(a.useState)(null),2),y=b[0],g=b[1];return t=c?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{className:"mx-auto",isOpen:p,toggle:function(){return f((function(e){return!e}))},setActiveFromChild:!0},r.a.createElement(l.a,{caret:!0,color:"transparent",className:"action-dropdown no-shadow p-0"},p?r.a.createElement(m.c,{className:"icon-size-16 color-blue"}):r.a.createElement(m.b,{className:"icon-size-16 color-blue"})),r.a.createElement(s.a,{right:!0,persist:!1,className:"p-0"},n(g))),y&&r.a.createElement(u.a,{show:!0,onCancel:y.onCancel,onConfirm:y.onConfirm,text:y.text})),r.a.createElement("td",{className:"action-items"},t)}f.defaultProps={empty:!1},f.propTypes={children:o.a.func.isRequired,empty:o.a.bool},t.a=r.a.memo(f)},Yfk4:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n("q1tI"),r=n.n(a),c=n("17x9"),o=n.n(c),i=n("XAkp"),l=n("TSYQ"),s=n.n(l);function u(e){var t=e.children,n=e.className;return r.a.createElement("div",{className:s()("site-table-wrapper",n)},r.a.createElement(i.a,{className:s()("site-table",n)},t))}u.propTypes={children:o.a.any.isRequired,className:o.a.string}},dbgk:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("q1tI"),r=n.n(a),c=n("17x9"),o=n.n(c);function i(e){var t=e.children;return r.a.createElement("h1",{className:"title-main mb-3"},t)}i.propTypes={children:o.a.any.isRequired}},k0Re:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return p}));var a=n("Cane"),r=n("MwQV"),c=n("c8c+"),o=n("Qu/B"),i=n("EW+5"),l=Object(i.a)(a.a),s=l.loading,u=l.itemsListLoaded,m=l.error,d=function(e,t,n){return function(a){var i={page:e};t.size&&(i.filter=Object(c.a)(t)),n.size&&(i.order=Object(o.a)(n)),a(s()),r.a.call("get","/methods/companies",i,{}).then((function(e){a(u({filters:t,sort:n,response:e}))})).catch((function(e){return a(m(e))}))}},p=function(e){return function(t){t(s()),r.a.call("get","/methods/companies/".concat(e)).data((function(e){var n;t((n=e,{type:a.a.ITEM_LOADED,payload:n}))})).catch((function(e){return t(m(e))}))}}},zwA0:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("q1tI"),r=n.n(a),c=n("9Koi");function o(){var e=Object(c.a)().t;return r.a.createElement("div",null,e("common.site-error-message"))}}}]);