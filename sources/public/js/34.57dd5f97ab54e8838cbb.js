(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{"/kxI":function(e,t,n){"use strict";var a=n("wx14"),r=n("zLVn"),i=n("q1tI"),o=n.n(i),l=n("17x9"),s=n.n(l),u=n("TSYQ"),c=n.n(u),f=n("33Jr"),m={tag:f.q,className:s.a.string,cssModule:s.a.object,innerRef:s.a.oneOfType([s.a.object,s.a.string,s.a.func])},d=function(e){var t=e.className,n=e.cssModule,i=e.innerRef,l=e.tag,s=Object(r.a)(e,["className","cssModule","innerRef","tag"]),u=Object(f.m)(c()(t,"card-body"),n);return o.a.createElement(l,Object(a.a)({},s,{className:u,ref:i}))};d.propTypes=m,d.defaultProps={tag:"div"},t.a=d},"19iC":function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return f}));var a=n("rpa7"),r=n("J3gs"),i=n("YOdH"),o=n("gmZo"),l=n("q1tI");function s(){return function(e){return!e||e.is_am_pm?"hh:mm a":"HH:mm"}(Object(a.a)())}function u(){var e=Object(i.a)(),t=s();return Object(l.useCallback)((function(n){return Object(o.a)(1e3*n).tz(e).format(t)}),[t,e])}function c(){var e=Object(r.a)();return s()+" "+e}function f(){var e=Object(i.a)(),t=c();return Object(l.useCallback)((function(n){return Object(o.a)(1e3*n).tz(e).format(t)}),[t,e])}},"6jMY":function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));var a=n("MwQV");function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){return new Promise((function(n){var r={q:t};if(e&&Array.isArray(e)&&e.length)for(var i in e)r["type[".concat(i,"]")]=e[i];else e&&(r.type=e);a.a.call("get","/methods/integrations/search",r).data((function(e){n(e.map((function(e){return{label:e.name,value:e.id,integration:e}})))}))}))}}var i=r();t.a=i},"6ukn":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("MwQV");function r(e){return new Promise((function(t){a.a.call("get","/methods/tags/search-company-tags",{q:e}).data((function(e){t(e.map((function(e){return{label:e.name,value:e.id}})))}))}))}},"9Uk/":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("Ty5D");function r(){var e=Object(a.i)().search;return[e,new URLSearchParams(e)]}},"9qca":function(e,t,n){"use strict";var a=n("q1tI"),r=n.n(a),i=n("17x9"),o=n.n(i),l=n("FrZM"),s=n("sOKU"),u=n("L3zb"),c=n("k/iu"),f=n("9Koi"),m=n("Mpt7"),d=n("MwQV");function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function g(e){var t=e.attachment,n=e.handleChange,i=Object(f.a)().t,o=p(Object(a.useState)(!!t&&t.get("type")===l.a),2),b=o[0],g=o[1];return r.a.createElement("div",{className:"limiter form-group 3"},r.a.createElement("div",null,r.a.createElement(s.a,{className:"mr-2 mb-4 px-sm-5 px-4",outline:b,onClick:function(){return g(!1)},color:b?"secondary":"primary"},i("chatbot.edit.attachment-file")),r.a.createElement(s.a,{className:"mr-2 mb-4 px-sm-5 px-4",outline:!b,onClick:function(){return g(!0)},color:b?"primary":"secondary"},i("chatbot.edit.attachment-url"))),r.a.createElement("div",{className:"mb-4"},b?r.a.createElement(u.a,{onChange:function(e){var t=Object(m.b)({type:l.a,url:e.target.value});n(t)},defaultValue:t?t.get("url",""):"",placeholder:i("chatbot.edit.attachment-url-input")}):r.a.createElement("div",null,r.a.createElement(c.a,{onChange:function(e){var t=new FormData;return t.append("file",e.target.files[0]),d.a.call("post","/methods/chat-bots/attachment",{},t).data((function(e){n(Object(m.b)(e))}))},name:"customFile",label:i("chatbot.edit.attachment-file-input"),id:"attachment-file"}))),r.a.createElement("div",null,t?r.a.createElement(l.b,{attachment:t}):null))}g.propTypes={attachment:o.a.instanceOf(m.b),handleChange:o.a.func.isRequired},t.a=g},BLzl:function(e,t,n){"use strict";var a=n("wx14"),r=n("zLVn"),i=n("q1tI"),o=n.n(i),l=n("17x9"),s=n.n(l),u=n("TSYQ"),c=n.n(u),f=n("33Jr"),m={tag:f.q,inverse:s.a.bool,color:s.a.string,body:s.a.bool,outline:s.a.bool,className:s.a.string,cssModule:s.a.object,innerRef:s.a.oneOfType([s.a.object,s.a.string,s.a.func])},d=function(e){var t=e.className,n=e.cssModule,i=e.color,l=e.body,s=e.inverse,u=e.outline,m=e.tag,d=e.innerRef,p=Object(r.a)(e,["className","cssModule","color","body","inverse","outline","tag","innerRef"]),b=Object(f.m)(c()(t,"card",!!s&&"text-white",!!l&&"card-body",!!i&&(u?"border":"bg")+"-"+i),n);return o.a.createElement(m,Object(a.a)({},p,{className:b,ref:d}))};d.propTypes=m,d.defaultProps={tag:"div"},t.a=d},"Bg/h":function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return c}));var a=n("q1tI"),r=n.n(a),i=n("17x9"),o=n.n(i),l=n("R5y6"),s=n("9Koi");function u(e){var t=e,n=[];return t.variables&&t.variables.phone_number&&n.push(t.variables.phone_number),t.variables&&t.variables.first_name&&n.push(t.variables.first_name),t.variables&&t.variables.last_name&&n.push(t.variables.last_name),{label:n.join(" ")||t.name,value:t.id}}var c=function(e){return e.map(u)};function f(e){var t=e.values,n=e.errors,a=e.setFieldValue,i=e.className,o=Object(s.a)().t;return r.a.createElement(l.a,{className:i,name:"clients",label:o("instantMessages.form.to-label"),value:t.clients,setFieldValue:a,errors:n,loadOptions:function(){return[]},defaultOptions:[],isMulti:!0})}f.propTypes={values:o.a.object.isRequired,errors:o.a.object.isRequired,setFieldValue:o.a.func.isRequired,className:o.a.string},t.a=f},CEGB:function(e,t,n){"use strict";var a=n("q1tI"),r=n.n(a),i=n("17x9"),o=n.n(i),l=n("sPdi"),s=n("jrRI"),u=n("3OM0"),c=n("TSYQ"),f=n.n(c),m=n("c0+T");function d(e){var t,n,a=e.id,i=e.label,o=e.errors,c=e.name,d=e.className,p=e.value,b=e.setFieldValue,g=e.minDate,h=e.maxDate,v=e.customInput,y=f()({"is-invalid":o&&(null===(t=o[c])||void 0===t?void 0:t.length)});return r.a.createElement(s.a,{className:f()(d)},i?r.a.createElement(u.a,{htmlFor:a},"function"==typeof i?i():i):null,r.a.createElement(m.a,{id:a,name:c,value:p,onChange:function(e){return b(c,e)},formGroupClass:f()("py-0",y),inputClass:y,minDate:g,maxDate:h,customInput:v}),o&&(null===(n=o[c])||void 0===n?void 0:n.length)?r.a.createElement(l.a,{errors:o[c]}):null)}d.propTypes={errors:o.a.object,id:o.a.oneOfType([o.a.string,o.a.number]),label:o.a.any,name:o.a.string.isRequired,className:o.a.string,setFieldValue:o.a.func.isRequired,value:o.a.any,minDate:o.a.object,maxDate:o.a.object,customInput:o.a.any},t.a=r.a.memo(d)},FPNo:function(e,t,n){"use strict";var a=n("q1tI"),r=n.n(a),i=n("17x9"),o=n.n(i),l=n("nc57"),s=n("19iC"),u=n("6Rhw"),c=n("x37D"),f=n("9Koi"),m=n("ok1R"),d=n("rhny"),p=n("R5y6"),b=n("bFnZ"),g=n.n(b),h=n("MwQV"),v=n("sPdi"),y=n("TSYQ"),O=n.n(y),j=n("ja6N");function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function E(e){var t=e.text,n=e.disabled,i=e.onSending,o=e.onSent,l=Object(f.a)().t,s=w(Object(a.useState)(!1),2),u=s[0],c=s[1],m=w(Object(a.useState)([]),2),d=m[0],b=m[1],y=w(Object(a.useState)(""),2),C=y[0],E=y[1],S=w(Object(a.useState)([]),2),T=S[0],_=S[1],I=Object(a.useCallback)((function(){i(),h.a.call("post","/methods/instant-messages/templates",{},{name:C,message:t,categories:T.map((function(e){return e.value}))}).validation((function(e,t){b(t.name)})).data((function(){c(!1)})).finally((function(){o()}))}),[T,C,o,i,t]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{show:u,title:l("instantMessages.form.template-name-label"),onConfirm:I,onCancel:function(){return c(!1)},dependencies:[u,E,d,I],confirmBtnCssClass:"px-5 mx-0 mt-4"},(function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",ref:e.setAutoFocusInputRef,className:O()("form-control",{"is-invalid":!!d.length}),value:C,onKeyDown:e.onEnterKeyDownConfirm,onChange:function(e){return E(e.target.value)},placeholder:l("instantMessages.form.template-name-label")}),d.length?r.a.createElement(v.a,{errors:d}):null),r.a.createElement(p.a,{className:"text-left",name:"categories",label:l("instantMessages.template.form.categories-label"),value:T,setFieldValue:function(e,t){return _(t)},errors:d,loadOptions:j.a,isMulti:!0,isClearable:!1}))})),r.a.createElement("button",{className:"pt-2 px-4 mb-3 btn btn-primary",type:"button",disabled:n||!t,onClick:function(){return c(!0)}},l("instantMessages.form.save-template-btn")))}E.propTypes={text:o.a.string,disabled:o.a.bool,onSending:o.a.func,onSent:o.a.func};var S=E,T=n("6jMY"),_=n("CEGB"),I=n("CXWj"),x=n("INJS"),N=n("Bg/h"),R=n("6ukn"),M=n("AEIT"),P=n("+z1p"),q=n("XRgj"),A=n("9qca"),D=n("sOKU"),V=n("Mpt7"),k=n("DCcX"),F=n("vkoW"),L=n("CaDr"),B=n("c8c+"),U=n("QDav"),Y=n("ma3e"),Q=n("uFPN");function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var W={container:function(e){return H(H({},e),{},{border:"1px solid #ced4da",display:"inline-block",width:"100%",borderRadius:"5px",minHeight:"35px"})},control:function(e){return H(H({},e),{},{border:"none",minHeight:"35px","&, &:hover":{border:"none",boxShadow:"none"},background:"transparent"})},singleValue:function(e){return H(H({},e),{},{margin:"0",font:"normal normal 15px/17px 'Roboto Regular', sans-serif",top:"45%"})},valueContainer:function(e){return H(H({},e),{},{padding:"2px 0 2px 8px",width:"130px"})},indicatorsContainer:function(e){return H(H({},e),{},{"& > div":{padding:"8px 4px 8px 0"},top:"-3px",paddingLeft:"6px",alignItems:"baseline"})},indicatorSeparator:function(e){return H(H({},e),{},{display:"none"})},placeholder:function(e){return H(H({},e),{},{font:"normal normal 15px/18px 'Roboto Regular', sans-serif",color:"#B0B0B0"})},option:function(e){return H(H({},e),{},{font:"normal normal 15px/17px 'Roboto Regular', sans-serif","&:hover, &:focus, &:active":{font:"normal normal 15px/17px 'Roboto Regular', sans-serif"}})}};function $(e){var t,n=e.close,i=e.selectTemplate,o=e.name,l=e.setName,s=e.categories,u=e.setCategories,c=e.currentTemplateId,p=Object(f.a)().t,b=J(Object(a.useState)([]),2),g=b[0],v=b[1],y=J(Object(a.useState)(null),2),w=y[0],C=y[1],E=Object(a.useRef)(),S=Object(a.useCallback)((function(e){var t={page:1,perPage:8};e.size&&(t.filter=Object(B.a)(e)),h.a.call("get","/methods/instant-messages/templates",t,{}).data((function(e){v(e.data.map(Q.a.instantiate))})).catch((function(e){var t=e.response;C(t.data)}))}),[]);return Object(a.useEffect)((function(){E.current&&clearTimeout(E.current),E.current=setTimeout((function(){var e=Object(V.a)([]);o&&(e=e.push(Object(V.b)({column:"name",operator:"like",value:o}))),s.size&&(e=e.push(Object(V.b)({column:"scopeCategoriesWhere",operator:"scope",value:s.map((function(e){return e.value})).toJS()}))),S(e)}),300)}),[E,S,o,s]),t=w?r.a.createElement("div",null,p("instantMessages.select-template-modal.error-message")):g?r.a.createElement("table",{className:"table table-bordered table-hover align-middle"},r.a.createElement("tbody",null,g.map((function(e){return r.a.createElement("tr",{className:"tr-select-template-modal",key:e.id},r.a.createElement("td",{className:"p-1 align-middle"},e.name),r.a.createElement("td",{className:"text-center p-1"},r.a.createElement("button",{title:p("instantMessages.select-template-modal.select-btn"),className:O()("btn-unstyled p-1 check-btn",{checked:c!==e.id}),type:"button",onClick:function(){i(e)}},r.a.createElement(Y.n,null))))})))):null,r.a.createElement(k.a,{isOpen:!0,size:"lg",onClose:n},r.a.createElement(F.a,{toggle:n},r.a.createElement(Y.Ab,null)," ",p("instantMessages.select-template-modal.title")),r.a.createElement(L.a,null,r.a.createElement(m.a,null,r.a.createElement(d.a,{sm:4},r.a.createElement(U.a,{styles:W,cacheOptions:!0,defaultOptions:!0,loadOptions:j.a,onChange:function(e){u(Object(V.a)(e))},value:s.toJS(),isMulti:!0,placeholder:""})),r.a.createElement(d.a,{sm:8},r.a.createElement("div",{className:"mb-2"},r.a.createElement("input",{type:"text",className:"form-control",value:o,onChange:function(e){l(e.target.value)}})),t))))}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function ee(e){var t=e.onTemplateSelected,n=e.renderAlternativeButton,i=e.children,o=e.currentTemplateId,l=X(Object(a.useState)(!1),2),s=l[0],u=l[1],c=X(Object(a.useState)(""),2),f=c[0],m=c[1],d=X(Object(a.useState)(Object(V.a)([])),2),p=d[0],b=d[1],g=Object(a.useCallback)((function(){u(!0)}),[]),h=Object(a.useCallback)((function(){u(!1),m(""),b(Object(V.a)([]))}),[]),v=Object(a.useCallback)((function(e){u(!1),t(e)}),[t]);return r.a.createElement(r.a.Fragment,null,s?r.a.createElement($,{close:h,selectTemplate:v,name:f,setName:m,categories:p,setCategories:b,currentTemplateId:o}):null,n?n(g):r.a.createElement(D.a,{onClick:g,color:"warning"},i))}$.propTypes={currentTemplateId:o.a.number,close:o.a.func.isRequired,selectTemplate:o.a.func.isRequired,name:o.a.string,setName:o.a.func.isRequired,categories:o.a.object,setCategories:o.a.func.isRequired},ee.propTypes={currentTemplateId:o.a.number,children:o.a.any,onTemplateSelected:o.a.func.isRequired,renderAlternativeButton:o.a.func};var te=n("jrRI");function ne(e){return function(e){if(Array.isArray(e))return ie(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||re(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw i}}return n}(e,t)||re(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e,t){if(e){if("string"==typeof e)return ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ie(e,t):void 0}}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function oe(e){var t,n,i,o=e.handleSendInstantlyChange,l=e.handleStartChange,s=e.handleTextChange,b=e.handleAttachmentChange,g=e.handleClientChange,h=e.handleBlur,y=e.handleTagsChange,j=e.values,w=e.errors,C=e.isSubmitting,E=e.handleNameChange,D=e.handleTemplateChange,V=e.handleIntegrationChange,k=e.handleSendViaIntegrationChange,F=e.fromList,L=e.calculation,B=Object(f.a)().t,U=ae(Object(a.useState)(!1),2),Y=U[0],Q=U[1],J=ae(Object(a.useState)(!1),2),K=J[0],z=J[1];return r.a.createElement(m.a,null,r.a.createElement(d.a,{md:6},r.a.createElement(u.a,{className:"limiter",id:"name",name:"name",label:B("instantMessages.form.name-label"),placeholder:B("instantMessages.form.name-placeholder"),onChange:E,onBlur:h,value:j.name,errors:w}),r.a.createElement("div",{className:"limiter form-group"},r.a.createElement("label",null,B("instantMessages.form.text-label")),r.a.createElement("div",{className:O()({"is-invalid":w&&(null===(t=w.message)||void 0===t?void 0:t.length)})},r.a.createElement(M.CKEditor,{editor:P.ClassicEditor,data:j.message,onChange:function(e,t){s(t.getData())},placeholder:B("instantMessages.form.text-placeholder"),config:{toolbar:["bold","italic","underline","link","bulletedList","numberedList","undo","redo"],mention:{feeds:[{marker:"@",feed:function(e){return Promise.resolve([{id:"@".concat(e)}].concat(ne([{id:"@first_name"},{id:"@last_name"},{id:"@email"},{id:"@phone_number"}].filter((function(t){return t.id.toLowerCase().includes(e.toLowerCase())})))))}}]}}})),w&&(null===(n=w.message)||void 0===n?void 0:n.length)?r.a.createElement(v.a,{errors:w.message}):null),r.a.createElement(S,{text:j.message,disabled:!!j.template,onSending:function(){return Q(!0)},onSent:function(){return Q(!1)}}),Y?null:r.a.createElement(te.a,null,r.a.createElement(ee,{currentTemplateId:j.template?j.template.value:null,onTemplateSelected:function(e){D("template",{value:e.id,template:e})}},B("instantMessages.form.select-template-btn"))),r.a.createElement(p.a,{className:"limiter",id:"sendViaIntegration",name:"sendViaIntegration",label:B("instantMessages.form.send_via-label"),value:j.sendViaIntegration,setFieldValue:k,errors:w,loadOptions:Object(T.b)(q.c)}),j.send_instantly?null:r.a.createElement(m.a,null,r.a.createElement(d.a,{sm:6},r.a.createElement(_.a,{id:"1",name:"start_date",label:B("instantMessages.form.start-date-label"),value:j.start_date,setFieldValue:l,errors:w,minDate:new Date,showTimeInput:!0})),r.a.createElement(d.a,{sm:6},r.a.createElement(x.a,{id:"start_time",name:"start_time",label:B("instantMessages.form.start-time-label"),value:j.start_time,setFieldValue:l,errors:w,disabled:!j.start_date,date:j.start_date,minTime:new Date}))),r.a.createElement(I.a,{id:"send_instantly",name:"send_instantly",label:B("instantMessages.form.send-instantly-label"),value:j.send_instantly,setFieldValue:o})),r.a.createElement(d.a,{md:6},r.a.createElement(A.a,{attachment:j.attachment,handleChange:b}),!F&&r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{className:"limiter",name:"tags",label:B("instantMessages.form.tags-label"),value:j.tags,setFieldValue:y,errors:w,loadOptions:R.a,isMulti:!0,isClearable:!1}),r.a.createElement(p.a,{className:"limiter",id:"integration",name:"integration",label:B("instantMessages.form.channel-label"),value:j.integration,setFieldValue:V,errors:w,loadOptions:T.a})),r.a.createElement("div",{className:"sub-label-bottom text-middle mb-4"},r.a.createElement("p",null,B("instantMessages.form.clients-count",{count:L?B("instantMessages.form.calculation"):null===(i=j.clients)||void 0===i?void 0:i.length})),r.a.createElement("a",{onClick:function(){return z(!K)}},B(K?"instantMessages.form.hide":"instantMessages.form.see-all"))),K&&r.a.createElement(N.a,{values:j,errors:w,setFieldValue:g})),r.a.createElement(d.a,{sm:12},r.a.createElement(c.a,{className:"pt-2 px-4 mb-4",disabled:C},B("common.saveBtnText"))))}oe.propTypes={handleAttachmentChange:o.a.func.isRequired,handleTagsChange:o.a.func.isRequired,handleSendInstantlyChange:o.a.func.isRequired,handleClientChange:o.a.func.isRequired,handleTextChange:o.a.func.isRequired,handleStartChange:o.a.func.isRequired,handleIntegrationChange:o.a.func.isRequired,handleSendViaIntegrationChange:o.a.func.isRequired,handleTemplateChange:o.a.func.isRequired,handleNameChange:o.a.func.isRequired,handleBlur:o.a.func.isRequired,values:o.a.object.isRequired,errors:o.a.object.isRequired,isSubmitting:o.a.bool,fromList:o.a.bool,calculation:o.a.bool};var le=oe,se=n("sveX");function ue(){return(ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ce(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){de(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return be(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function ge(e){var t=e.initialData,n=e.handleSubmit,i=e.afterSave,o=e.fromFilters,u=Object(a.useCallback)((function(e,t){var a,r,o,l,s;s=e.new_clients?e.new_clients:e.clients;var u=e.attachment?e.attachment.toJS():null,c=e.message||null;(null===(a=e.template)||void 0===a?void 0:a.value)&&(c=null,u=null);var f=~~e.send_instantly,m={name:e.name||null,message:c,attachment:u,filters:e.filters||null,selected:e.selected||null,integration_id:(null===(r=e.integration)||void 0===r?void 0:r.value)||null,send_via_integration_id:(null===(o=e.sendViaIntegration)||void 0===o?void 0:o.value)||null,message_template_id:(null===(l=e.template)||void 0===l?void 0:l.value)||null,send_instantly:f,start_date:f?null:e.start_date?Math.ceil(e.start_date):null,start_time:f?null:e.start_time?Math.ceil(e.start_time):null,tags:e.tags?e.tags.map((function(e){return e.value})):[],clients:s?s.map((function(e){return{id:e.__isNew__?null:e.value,name:e.label}})):[]};(u&&!u.id?Object(se.a)(u).then((function(e){m.attachment=e.data})):new Promise((function(e){return e()}))).then((function(){m.attachment&&(m.attachment_id=m.attachment.id),n(m).data((function(e){i(e)})).validation((function(e,n){var a={name:n.name,message:n.message,start_time:n.start_time,start_date:n.start_date,template:n.message_template_id,integration:n.integration_id,tags:n.tags,clients:n.clients,new_clients:n.clients,sendViaIntegration:n.send_via_integration_id};t.setErrors(a),t.setSubmitting(!1)})).catch((function(){t.setSubmitting(!1)}))}))}),[n,i]),c=Object(s.a)(),f=Object(a.useCallback)((function(e,t){var n;return(n=t||(e||null))?c(n):null}),[c]),m=Object(a.useCallback)((function(e,t,n,a){var r=[];return e&&r.push(e.label),n&&r.push(f(n,a)),t&&r.push(t.label),r.join(" ")}),[f]),d=pe(Object(a.useState)(!1),2),p=d[0],b=d[1],g=Object(a.useCallback)((function(e,n,a,r){b(!0),o?h.a.call("get","/methods/instant-messages/clients-from-filters",{filters:JSON.stringify(t.filters),selected:JSON.stringify(t.selected),sent_via_integration_id:a}).data((function(e){b(!1),setTimeout((function(){r(Object(N.b)(e.clients))}))})):h.a.call("get","/methods/instant-messages/clients",{tags:null==n?void 0:n.map((function(e){return e.value})),integration_id:e,sent_via_integration_id:a}).data((function(e){b(!1),setTimeout((function(){r(Object(N.b)(e.clients))}))}))}),[o,t.filters,t.selected]);return r.a.createElement(l.a,{initialValues:me(me({},t),{},{isNameChanged:!1}),handleSubmit:u,renderForm:function(e){var t=e.setFieldValue,n=e.handleChange,a=e.values,i=ce(e,["setFieldValue","handleChange","values"]);null!==a.clients||p||setTimeout((function(){var e,n;g(null===(e=a.integration)||void 0===e?void 0:e.value,a.tags,null===(n=a.sendViaIntegration)||void 0===n?void 0:n.value,(function(e){return t("clients",e)}))}));return r.a.createElement(le,ue({},i,{values:a,fromList:o,handleTagsChange:function(e,n){var r,i;t(e,n),g(null===(r=a.integration)||void 0===r?void 0:r.value,n,null===(i=a.sendViaIntegration)||void 0===i?void 0:i.value,(function(e){return t("clients",e)}))},handleTextChange:function(e){t("message",e),a.template&&a.template.template.message!==e&&t("template",null)},handleNameChange:function(e){n(e),t("isNameChanged",!!e.target.value)},handleTemplateChange:function(e,n){t(e,n),n?t("message",n.template.message):!n&&a.template&&t("message",""),a.isNameChanged||t("name",m(a.integration,n,a.start_date,a.start_time))},handleIntegrationChange:function(e,n){var r;t(e,n),a.isNameChanged||t("name",m(n,a.template,a.start_date,a.start_time)),n||(t("clients",null),t("new_clients",null)),g(n?n.value:null,a.tags,null===(r=a.sendViaIntegration)||void 0===r?void 0:r.value,(function(e){return t("clients",e)}))},handleStartChange:function(e,n){t(e,n);var r=a.start_time;if("start_date"===e){var i=new Date(r),o=new Date(1e3*n);o.setHours(i.getHours()),o.setMinutes(i.getMinutes()),t("start_time",r=o.getTime()/1e3)}a.isNameChanged||t("name",m(a.integration,a.template,"start_date"===e?n:a.start_date,"start_time"===e?n:r))},handleSendInstantlyChange:function(e,n){t(e,n),a.isNameChanged||t("name",m(a.integration,a.template,n?null:a.start_date,n?null:a.start_time))},handleClientChange:function(e,n){t(e,n)},handleSendViaIntegrationChange:function(e,n){t(e,n),g(n?n.value:null,a.tags,n?n.value:null,(function(e){return t("clients",e)}))},handleAttachmentChange:function(e){t("attachment",e)},calculation:p}))}})}ge.propTypes={initialData:o.a.object.isRequired,handleSubmit:o.a.func.isRequired,afterSave:o.a.func.isRequired,fromFilters:o.a.bool};t.a=r.a.memo(ge)},FrZM:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("q1tI"),r=n.n(a),i=n("Mpt7"),o=n("17x9"),l=n.n(o),s=n("ma3e"),u=n("Gv9V"),c=6;function f(e){var t=e.attachment,n=t.get("type"),a=t.get("url");if(!a||a.startsWith("sticker::"))return null;if(/\{\@[\w\d]*\}/.test(a))return r.a.createElement(s.C,null);switch(n){case c:return r.a.createElement("embed",{key:a,className:"attachment-preview",src:a,type:""});case 2:return r.a.createElement(s.C,null);case 1:return r.a.createElement("img",{className:"attachment-preview",src:a});case 7:return r.a.createElement("video",{controls:!0,className:"attachment-preview"},r.a.createElement("source",{src:a}));case 9:return r.a.createElement(u.a,{url:a})}return null}t.b=f,f.propTypes={attachment:l.a.instanceOf(i.b).isRequired}},Gv9V:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("q1tI"),r=n.n(a),i=n("17x9"),o=n.n(i),l=n("ma3e");function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function c(e){var t=e.url,n=Object(a.useRef)(),i=s(Object(a.useState)(!1),2),o=i[0],u=i[1];Object(a.useEffect)((function(){var e=n.current;u(!e.paused),e.onended=function(){u(!1)}}),[]);return r.a.createElement("div",null,r.a.createElement("button",{type:"button",onClick:function(){var e=n.current;e.paused?e.play():(e.pause(),e.currentTime=0),u(!e.paused)},className:"btn btn-outline-dark"},o?r.a.createElement(l.ob,null):r.a.createElement(l.U,null)),r.a.createElement("audio",{ref:n,src:t,controls:!0,className:"d-none"}))}c.propTypes={url:o.a.string.isRequired}},INJS:function(e,t,n){"use strict";var a=n("q1tI"),r=n.n(a),i=n("17x9"),o=n.n(i),l=n("sPdi"),s=n("jrRI"),u=n("3OM0"),c=n("TSYQ"),f=n.n(c),m=n("NRhA"),d=n.n(m),p=n("Opvh"),b=(n("5Buo"),n("19iC"));function g(e){var t=e.value,n=e.onChange,i=e.customInput,o=e.placeholder,l=e.formGroupClass,u=e.inputClass,c=e.minTime,g=e.maxTime,h=e.disabled,v=e.date;Object(a.useEffect)((function(){Object(m.registerLocale)(window.locale,p[window.locale])}),[]);var y=Object(b.d)();return r.a.createElement(s.a,{className:f()(l)},r.a.createElement(d.a,{selected:t?new Date(1e3*t):null,onChange:function(e){var t=e;v&&((t=new Date(1e3*v)).setHours(e.getHours()),t.setMinutes(e.getMinutes())),n(t.getTime()/1e3)},className:f()("form-control",u),dateFormat:y,customInput:i,placeholderText:o,locale:window.locale,showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:1,timeFormat:y,filterTime:function(e){var t;return v?((t=new Date(1e3*v)).setHours(e.getHours()),t.setMinutes(e.getMinutes())):t=new Date(e),c&&g?c.getTime()<t.getTime()&&t.getTime()<g.getTime():c?c.getTime()<t.getTime():!g||t.getTime()<g.getTime()},disabled:h}))}function h(e){var t,n,a=e.id,i=e.label,o=e.errors,c=e.name,m=e.className,d=e.value,p=e.setFieldValue,b=e.minTime,h=e.maxTime,v=e.disabled,y=e.date,O=f()({"is-invalid":o&&(null===(t=o[c])||void 0===t?void 0:t.length)});return r.a.createElement(s.a,{className:f()(m)},i?r.a.createElement(u.a,{htmlFor:a},"function"==typeof i?i():i):null,r.a.createElement(g,{id:a,name:c,value:d,onChange:function(e){return p(c,e)},formGroupClass:f()("py-0",O),inputClass:O,minTime:b,maxTime:h,disabled:v,date:y}),o&&(null===(n=o[c])||void 0===n?void 0:n.length)?r.a.createElement(l.a,{errors:o[c]}):null)}g.propTypes={onChange:o.a.func.isRequired,customInput:o.a.any,value:o.a.number,placeholder:o.a.string,formGroupClass:o.a.string,inputClass:o.a.string,minTime:o.a.object,maxTime:o.a.object,disabled:o.a.bool,date:o.a.number},h.propTypes={errors:o.a.object,id:o.a.oneOfType([o.a.string,o.a.number]),label:o.a.any,name:o.a.string.isRequired,className:o.a.string,setFieldValue:o.a.func.isRequired,value:o.a.any,minTime:o.a.object,maxTime:o.a.object,disabled:o.a.bool,date:o.a.number};t.a=r.a.memo(h)},QDav:function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));var a=n("q1tI"),r=n.n(a),i=(n("qKvR"),n("i8i4"),n("17x9"),n("q/f6")),o=n("njTy"),l=(n("iYmT"),n("FUBA"),n("1m/E"));function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var u={cacheOptions:!1,defaultOptions:!1,filterOption:null,isLoading:!1},c=function(e){var t,n;return n=t=function(t){var n,a;function o(e){var n;return(n=t.call(this)||this).select=void 0,n.lastRequest=void 0,n.mounted=!1,n.optionsCache={},n.handleInputChange=function(e,t){var a=n.props,r=a.cacheOptions,o=a.onInputChange,l=Object(i.k)(e,t,o);if(!l)return delete n.lastRequest,void n.setState({inputValue:"",loadedInputValue:"",loadedOptions:[],isLoading:!1,passEmptyOptions:!1});if(r&&n.optionsCache[l])n.setState({inputValue:l,loadedInputValue:l,loadedOptions:n.optionsCache[l],isLoading:!1,passEmptyOptions:!1});else{var s=n.lastRequest={};n.setState({inputValue:l,isLoading:!0,passEmptyOptions:!n.state.loadedInputValue},(function(){n.loadOptions(l,(function(e){n.mounted&&(e&&(n.optionsCache[l]=e),s===n.lastRequest&&(delete n.lastRequest,n.setState({isLoading:!1,loadedInputValue:l,loadedOptions:e||[],passEmptyOptions:!1})))}))}))}return l},n.state={defaultOptions:Array.isArray(e.defaultOptions)?e.defaultOptions:void 0,inputValue:void 0!==e.inputValue?e.inputValue:"",isLoading:!0===e.defaultOptions,loadedOptions:[],passEmptyOptions:!1},n}a=t,(n=o).prototype=Object.create(a.prototype),n.prototype.constructor=n,n.__proto__=a;var l=o.prototype;return l.componentDidMount=function(){var e=this;this.mounted=!0;var t=this.props.defaultOptions,n=this.state.inputValue;!0===t&&this.loadOptions(n,(function(t){if(e.mounted){var n=!!e.lastRequest;e.setState({defaultOptions:t||[],isLoading:n})}}))},l.UNSAFE_componentWillReceiveProps=function(e){e.cacheOptions!==this.props.cacheOptions&&(this.optionsCache={}),e.defaultOptions!==this.props.defaultOptions&&this.setState({defaultOptions:Array.isArray(e.defaultOptions)?e.defaultOptions:void 0})},l.componentWillUnmount=function(){this.mounted=!1},l.focus=function(){this.select.focus()},l.blur=function(){this.select.blur()},l.loadOptions=function(e,t){var n=this.props.loadOptions;if(!n)return t();var a=n(e,t);a&&"function"==typeof a.then&&a.then(t,(function(){return t()}))},l.render=function(){var t=this,n=this.props,a=(n.loadOptions,n.isLoading),i=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(n,["loadOptions","isLoading"]),o=this.state,l=o.defaultOptions,u=o.inputValue,c=o.isLoading,f=o.loadedInputValue,m=o.loadedOptions,d=o.passEmptyOptions?[]:u&&f?m:l||[];return r.a.createElement(e,s({},i,{ref:function(e){t.select=e},options:d,isLoading:c||a,onInputChange:this.handleInputChange}))},o}(a.Component),t.defaultProps=u,n},f=Object(l.a)(o.a),m=c(f);t.a=m},R5y6:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a=n("q1tI"),r=n.n(a),i=n("QDav"),o=n("xilt"),l=n("jrRI"),s=n("3OM0"),u=n("TSYQ"),c=n.n(u),f=n("sPdi"),m=n("17x9"),d=n.n(m),p=n("9Koi");function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v={control:function(e){return g(g({},e),{},{"&, &:hover, &:focus":{borderColor:"#ced4da",boxShadow:"none"}})},menu:function(e){return g(g({},e),{},{zIndex:10})}};function y(e){var t,n,a=e.id,u=e.label,m=e.errors,d=e.loadOptions,b=e.name,g=e.setFieldValue,h=e.handleBlur,y=e.value,O=e.className,j=e.labelClass,w=e.placeholder,C=e.isClearable,E=e.cacheOptions,S=e.isMulti,T=e.isDisabled,_=e.defaultOptions,I=Object(p.a)().t,x=C?o.a:i.a;return r.a.createElement(l.a,{className:c()(O)},r.a.createElement(s.a,{className:c()(j),htmlFor:a},u),r.a.createElement(x,{cacheOptions:E,defaultOptions:_,loadOptions:d,onChange:function(e){g(b,e)},value:y,isClearable:C,className:c()({"is-invalid":!!(null===(t=m[b])||void 0===t?void 0:t.length)}),placeholder:w||I("common.default-select-placeholder"),styles:v,isMulti:S,isDisabled:T,onBlur:h}),(null===(n=m[b])||void 0===n?void 0:n.length)?r.a.createElement(f.a,{errors:m[b]}):null)}y.defaultProps={isClearable:!0,cacheOptions:!0,defaultOptions:!0},y.propTypes={errors:d.a.object.isRequired,id:d.a.oneOfType([d.a.string,d.a.number]),value:d.a.oneOfType([d.a.shape({label:d.a.string,value:d.a.oneOfType([d.a.string,d.a.number])}),d.a.array]),label:d.a.any.isRequired,name:d.a.string.isRequired,handleBlur:d.a.func,setFieldValue:d.a.func.isRequired,loadOptions:d.a.func.isRequired,className:d.a.string,labelClass:d.a.string,placeholder:d.a.string,isClearable:d.a.bool,isMulti:d.a.bool,isDisabled:d.a.bool,cacheOptions:d.a.bool,defaultOptions:d.a.oneOfType([d.a.bool,d.a.array])}},"c0+T":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n("q1tI"),r=n.n(a),i=n("17x9"),o=n.n(i),l=n("jrRI"),s=n("NRhA"),u=n.n(s),c=n("Opvh"),f=n("J3gs");n("5Buo");var m=n("TSYQ"),d=n.n(m);function p(e){var t=e.value,n=e.onChange,i=e.customInput,o=e.placeholder,m=e.formGroupClass,p=e.inputClass,b=e.wrapperClassName,g=e.minDate,h=e.maxDate;Object(a.useEffect)((function(){Object(s.registerLocale)(window.locale,c[window.locale])}),[]);var v=function(e){switch(e){case"MM/DD/YYYY":return"MM/dd/yyyy";case"DD.MM.YYYY":return"dd.MM.yyyy"}}(Object(f.a)());return r.a.createElement(l.a,{className:d()(m)},r.a.createElement(u.a,{selected:t?new Date(1e3*t):null,onChange:function(e){return n(e?Math.ceil(e.getTime()/1e3):null)},className:d()("form-control",p),wrapperClassName:b,dateFormat:v,customInput:i,placeholderText:o,locale:window.locale,minDate:g,maxDate:h}))}p.propTypes={onChange:o.a.func.isRequired,customInput:o.a.any,value:o.a.number,placeholder:o.a.string,formGroupClass:o.a.string,inputClass:o.a.string,wrapperClassName:o.a.string,minDate:o.a.object,maxDate:o.a.object}},dbgk:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("q1tI"),r=n.n(a),i=n("17x9"),o=n.n(i);function l(e){var t=e.children;return r.a.createElement("h1",{className:"title-main mb-3"},t)}l.propTypes={children:o.a.any.isRequired}},gmZo:function(e,t,n){"use strict";n("iYuL");var a=n("f0Wu");a.locale(window.locale),t.a=a},ja6N:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("MwQV");function r(e){return new Promise((function(t){a.a.call("get","/methods/instant-messages/template-categories/search",{q:e}).data((function(e){t(e.map((function(e){return{label:e.name,value:e.id,template:e}})))}))}))}},oj9i:function(e,t,n){"use strict";n.r(t);var a=n("q1tI"),r=n.n(a),i=n("dbgk"),o=n("TtP3"),l=n("FPNo"),s=n("MwQV"),u=n("Ty5D"),c=n("9Koi"),f=n("BLzl"),m=n("/kxI"),d=n("9Uk/"),p=n("Bg/h"),b=n("h4JF");function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}t.default=function(){var e,t=Object(c.a)().t,n=g(Object(d.a)(),2)[1],h=n.get("filters"),v=n.get("selected"),y=JSON.parse(h)||[],O=g(Object(a.useState)(null),2),j=O[0],w=O[1],C=JSON.parse(v)||{},E=g(Object(a.useState)(null),2),S=E[0],T=E[1],_=Object(a.useCallback)((function(e){return s.a.call("post","/methods/instant-messages",{},e)}),[]),I=Object(a.useCallback)((function(){T("/instant-messages/1")}),[]);if(Object(a.useEffect)((function(){s.a.call("get","/methods/instant-messages/clients-from-filters",{filter:h,selected:v}).data((function(e){w(e)}))}),[h,v]),null!==S)return r.a.createElement(u.a,{to:S});if(j){var x=Object(p.b)(j.clients);e=r.a.createElement(l.a,{afterSave:I,handleSubmit:_,fromFilters:!0,initialData:{filters:y,selected:C,name:"",message:"",integration:null,sendViaIntegration:null,template:null,start_date:null,start_time:null,tags:null,clients:x,new_clients:null,integration_type:null,send_instantly:!1}})}else e=r.a.createElement(b.a,null);return r.a.createElement(o.a,null,r.a.createElement(i.a,null,t("instantMessages.create-title")),r.a.createElement(f.a,{className:"instant-messages-view mb-5 shadow"},r.a.createElement(m.a,{className:"px-4 rounded"},e)))}},qcUN:function(e,t,n){"use strict";var a=n("Mpt7");function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=c(e);if(t){var r=c(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,n,a,r=s(u);function u(){return i(this,u),r.apply(this,arguments)}return t=u,a=[{key:"instantiate",value:function(e){return new u(e)}}],(n=null)&&o(t.prototype,n),a&&o(t,a),u}(Object(a.d)({id:null,name:null}));t.a=f},sveX:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("MwQV");function r(e){return a.a.call("post","/methods/chat-bots/attachment",{},e)}},uFPN:function(e,t,n){"use strict";var a=n("Mpt7"),r=n("qcUN");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=p(e);if(t){var r=p(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(o,e);var t,n,a,i=m(o);function o(){return u(this,o),i.apply(this,arguments)}return t=o,a=[{key:"instantiate",value:function(e){var t=e.categories;return new o(l(l({},e),{},{categories:t?t.map(r.a.instantiate):t}))}}],(n=null)&&c(t.prototype,n),a&&c(t,a),o}(Object(a.d)({id:null,name:null,message:null,created_at:null,categories:[],attachment:null}));t.a=b},vwsU:function(e,t,n){"use strict";n.d(t,"b",(function(){return f}));var a=n("q1tI"),r=n.n(a),i=(n("qKvR"),n("i8i4"),n("17x9"),n("q/f6")),o=n("njTy"),l=(n("iYmT"),n("FUBA"),n("1m/E"));function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var u=function(e,t){void 0===e&&(e="");var n=String(e).toLowerCase(),a=String(t.value).toLowerCase(),r=String(t.label).toLowerCase();return a===n||r===n},c=s({allowCreateWhileLoading:!1,createOptionPosition:"last"},{formatCreateLabel:function(e){return'Create "'+e+'"'},isValidNewOption:function(e,t,n){return!(!e||t.some((function(t){return u(e,t)}))||n.some((function(t){return u(e,t)})))},getNewOptionData:function(e,t){return{label:t,value:e,__isNew__:!0}}}),f=function(e){var t,n;return n=t=function(t){var n,a;function o(e){var n;(n=t.call(this,e)||this).select=void 0,n.onChange=function(e,t){var a=n.props,r=a.getNewOptionData,o=a.inputValue,l=a.isMulti,s=a.onChange,u=a.onCreateOption,c=a.value,f=a.name;if("select-option"!==t.action)return s(e,t);var m=n.state.newOption,d=Array.isArray(e)?e:[e];if(d[d.length-1]!==m)s(e,t);else if(u)u(o);else{var p=r(o,o),b={action:"create-option",name:f};s(l?[].concat(Object(i.e)(c),[p]):p,b)}};var a=e.options||[];return n.state={newOption:void 0,options:a},n}a=t,(n=o).prototype=Object.create(a.prototype),n.prototype.constructor=n,n.__proto__=a;var l=o.prototype;return l.UNSAFE_componentWillReceiveProps=function(e){var t=e.allowCreateWhileLoading,n=e.createOptionPosition,a=e.formatCreateLabel,r=e.getNewOptionData,o=e.inputValue,l=e.isLoading,s=e.isValidNewOption,u=e.value,c=e.options||[],f=this.state.newOption;f=s(o,Object(i.e)(u),c)?r(o,a(o)):void 0,this.setState({newOption:f,options:!t&&l||!f?c:"first"===n?[f].concat(c):[].concat(c,[f])})},l.focus=function(){this.select.focus()},l.blur=function(){this.select.blur()},l.render=function(){var t=this,n=this.state.options;return r.a.createElement(e,s({},this.props,{ref:function(e){t.select=e},options:n,onChange:this.onChange}))},o}(a.Component),t.defaultProps=c,n},m=f(o.a),d=Object(l.a)(m);t.a=d},xilt:function(e,t,n){"use strict";n("q1tI"),n("qKvR"),n("i8i4"),n("17x9");var a=n("njTy"),r=(n("iYmT"),n("FUBA"),n("1m/E")),i=n("QDav"),o=n("vwsU"),l=Object(o.b)(a.a),s=Object(r.a)(l),u=Object(i.b)(s);t.a=u}}]);