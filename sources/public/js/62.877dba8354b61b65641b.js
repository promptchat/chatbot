(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{"/kxI":function(e,t,r){"use strict";var a=r("wx14"),n=r("zLVn"),c=r("q1tI"),i=r.n(c),l=r("17x9"),u=r.n(l),o=r("TSYQ"),s=r.n(o),d=r("33Jr"),m={tag:d.q,className:u.a.string,cssModule:u.a.object,innerRef:u.a.oneOfType([u.a.object,u.a.string,u.a.func])},p=function(e){var t=e.className,r=e.cssModule,c=e.innerRef,l=e.tag,u=Object(n.a)(e,["className","cssModule","innerRef","tag"]),o=Object(d.m)(s()(t,"card-body"),r);return i.a.createElement(l,Object(a.a)({},u,{className:o,ref:c}))};p.propTypes=m,p.defaultProps={tag:"div"},t.a=p},"19iC":function(e,t,r){"use strict";r.d(t,"d",(function(){return u})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return s})),r.d(t,"a",(function(){return d}));var a=r("rpa7"),n=r("J3gs"),c=r("YOdH"),i=r("gmZo"),l=r("q1tI");function u(){return function(e){return!e||e.is_am_pm?"hh:mm a":"HH:mm"}(Object(a.a)())}function o(){var e=Object(c.a)(),t=u();return Object(l.useCallback)((function(r){return Object(i.a)(1e3*r).tz(e).format(t)}),[t,e])}function s(){var e=Object(n.a)();return u()+" "+e}function d(){var e=Object(c.a)(),t=s();return Object(l.useCallback)((function(r){return Object(i.a)(1e3*r).tz(e).format(t)}),[t,e])}},BLzl:function(e,t,r){"use strict";var a=r("wx14"),n=r("zLVn"),c=r("q1tI"),i=r.n(c),l=r("17x9"),u=r.n(l),o=r("TSYQ"),s=r.n(o),d=r("33Jr"),m={tag:d.q,inverse:u.a.bool,color:u.a.string,body:u.a.bool,outline:u.a.bool,className:u.a.string,cssModule:u.a.object,innerRef:u.a.oneOfType([u.a.object,u.a.string,u.a.func])},p=function(e){var t=e.className,r=e.cssModule,c=e.color,l=e.body,u=e.inverse,o=e.outline,m=e.tag,p=e.innerRef,b=Object(n.a)(e,["className","cssModule","color","body","inverse","outline","tag","innerRef"]),f=Object(d.m)(s()(t,"card",!!u&&"text-white",!!l&&"card-body",!!c&&(o?"border":"bg")+"-"+c),r);return i.a.createElement(m,Object(a.a)({},b,{className:f,ref:p}))};p.propTypes=m,p.defaultProps={tag:"div"},t.a=p},Buep:function(e,t,r){"use strict";r.d(t,"a",(function(){return E}));var a=r("q1tI"),n=r.n(a),c=r("Vy9V"),i=r("jrRI"),l=r("3OM0"),u=r("TSYQ"),o=r.n(u),s=r("sPdi"),d=r("17x9"),m=r.n(d),p=r("9Koi");function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],a=!0,n=!1,c=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(e){n=!0,c=e}finally{try{a||null==l.return||l.return()}finally{if(n)throw c}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var j={control:function(e){return O(O({},e),{},{"&, &:hover, &:focus":{borderColor:"#ced4da",boxShadow:"none"}})}};function E(e){var t,r,u=e.id,d=e.label,m=e.errors,v=e.loadOptions,y=e.loadValue,O=e.name,g=e.setFieldValue,E=e.setFieldLabel,h=e.value,q=e.className,w=e.placeholder,N=e.isClearable,R=e.selectOptions,S=f(Object(a.useState)(null),2),_=S[0],P=S[1],k=Object(p.a)().t;return Object(a.useEffect)((function(){h&&!_&&y(h).then((function(e){P(e)}))}),[y,_,h]),n.a.createElement(i.a,{className:o()(q)},!1===d?null:n.a.createElement(l.a,{htmlFor:u},d),n.a.createElement(c.a,b({},R,{cacheOptions:!0,defaultOptions:!0,loadOptions:v,onChange:function(e){g(O,e?e.value:null),E&&E(e?e.label:null),P(e)},value:h?_:null,isClearable:N,className:o()({"is-invalid":!!(null===(t=m[O])||void 0===t?void 0:t.length)}),placeholder:w||k("common.default-select-placeholder"),styles:j})),(null===(r=m[O])||void 0===r?void 0:r.length)?n.a.createElement(s.a,{errors:m[O]}):null)}E.defaultProps={isClearable:!0},E.propTypes={errors:m.a.object.isRequired,id:m.a.oneOfType([m.a.string,m.a.number]),value:m.a.oneOfType([m.a.string,m.a.number]),label:m.a.any,name:m.a.string.isRequired,setFieldValue:m.a.func.isRequired,setFieldLabel:m.a.func,loadOptions:m.a.func.isRequired,loadValue:m.a.func.isRequired,className:m.a.string,placeholder:m.a.string,isClearable:m.a.bool,selectOptions:m.a.object}},Q59H:function(e,t,r){"use strict";var a=r("q1tI"),n=r.n(a),c=r("17x9"),i=r.n(c),l=r("9Koi"),u=r("BLzl"),o=r("/kxI"),s=i.a.shape({products_catalog_id:i.a.number,internal_product_id:i.a.string,image_link:i.a.string,link:i.a.string,title:i.a.string,description:i.a.string,price:i.a.string}),d=i.a.shape({quantity:i.a.number.isRequired,item_price:i.a.number.isRequired,catalog_id:i.a.number,internal_product_id:i.a.string.isRequired,product:s.isRequired});function m(e){var t=e.itemPrice,r=e.quantity,a=e.currency,c=Object(l.a)().t;return n.a.createElement("div",{className:"mt-3 mb-3 pb-3 d-md-flex order-item"},n.a.createElement("div",{className:"mr-4"},n.a.createElement("div",{className:"quantity"},n.a.createElement("b",{className:"quantity-label"},c("shop.order-item.quantity")," "),n.a.createElement("b",null,r))),n.a.createElement("div",{className:"product-info"},n.a.createElement("div",null,n.a.createElement("b",null,"Unknown product")),n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement("b",{className:"mr-1"},c("shop.order-item.item-price")),n.a.createElement("span",null,t,a)))))}function p(e){var t=e.itemPrice,r=e.quantity,a=e.product,c=e.currency,i=Object(l.a)().t;return n.a.createElement("div",{className:"mt-3 mb-3 pb-3 d-md-flex order-item"},n.a.createElement("div",{className:"mr-4"},n.a.createElement("a",{href:a.link,target:"_blank",className:"product-img-link"},n.a.createElement("img",{src:a.image_link,alt:a.title,className:"img-responsive product-img"})),n.a.createElement("div",{className:"quantity"},n.a.createElement("b",{className:"quantity-label"},i("shop.order-item.quantity")," "),n.a.createElement("b",null,r))),n.a.createElement("div",{className:"product-info"},n.a.createElement("div",null,n.a.createElement("b",null,a.title)),n.a.createElement("div",null,a.description),n.a.createElement("div",null,n.a.createElement("div",{className:"mr-2"},n.a.createElement("b",{className:"mr-2"},i("shop.order-item.price")),n.a.createElement("span",null,a.price)),n.a.createElement("div",null,n.a.createElement("b",{className:"mr-1"},i("shop.order-item.item-price")),n.a.createElement("span",null,t,c)))))}function b(e){var t=e.itemPrice,r=e.quantity,a=e.product,c=e.currency;return a?n.a.createElement(p,{quantity:r,itemPrice:t,currency:c,product:a}):n.a.createElement(m,{itemPrice:t,currency:c,quantity:r})}function f(e){var t=e.order,r=Object(l.a)().t;return n.a.createElement(u.a,{className:"m-1 mb-2 order-preview"},n.a.createElement(o.a,null,n.a.createElement("div",{className:"mb-3"},n.a.createElement("h5",null,r("shop.order.preview.ordered-title")),n.a.createElement("div",null,t.accepted.products.map((function(e){return n.a.createElement(b,{key:"".concat(e.quantity,"-").concat(e.internal_product_id),quantity:e.quantity,itemPrice:e.item_price,product:e.product,currency:t.currency})})))),t.productsNotEnough&&t.productsNotEnough.length?n.a.createElement("div",{className:"text-danger mb-3"},n.a.createElement("h2",null,r("shop.order.preview.failed-to-order-title")),n.a.createElement("div",null,t.productsNotEnough.map((function(e){return n.a.createElement(b,{key:"".concat(e.quantity,"-").concat(e.internal_product_id),quantity:e.quantity,itemPrice:e.item_price,product:e.product,currency:t.currency})})))):null,n.a.createElement("h5",{className:"d-flex justify-content-between"},n.a.createElement("span",null,r("shop.order.preview.total")),n.a.createElement("span",null,t.price," ",t.currency))))}m.propTypes={quantity:i.a.number.isRequired,itemPrice:i.a.number.isRequired,currency:i.a.string.isRequired},p.propTypes={product:s.isRequired,quantity:i.a.number.isRequired,itemPrice:i.a.number.isRequired,currency:i.a.string.isRequired},b.propTypes={product:s,quantity:i.a.number.isRequired,itemPrice:i.a.number.isRequired,currency:i.a.string.isRequired},f.propTypes={order:i.a.shape({currency:i.a.string.isRequired,price:i.a.string.isRequired,accepted:i.a.shape({sum:i.a.number.isRequired,products:i.a.arrayOf(d)}),productsNotEnough:i.a.arrayOf(d)})},t.a=f},RYal:function(e,t,r){"use strict";r.r(t);var a=r("q1tI"),n=r.n(a),c=r("TtP3"),i=r("MwQV"),l=r("Ty5D"),u=r("h4JF"),o=r("9Koi"),s=r("XAkp"),d=r("BLzl"),m=r("/kxI"),p=r("19iC"),b=r("gvs2"),f=r("Q59H"),v=r("55Ip"),y=r("nc57"),O=r("x37D"),g=r("Buep"),j=r("ok4j");function E(e){return new Promise((function(t){i.a.call("get","/methods/order-statuses/".concat(e)).data((function(e){t({label:e.name,value:e.id})}))}))}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],a=!0,n=!1,c=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(e){n=!0,c=e}finally{try{a||null==l.return||l.return()}finally{if(n)throw c}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return q(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}t.default=function(){var e=Object(o.a)().t,t=h(Object(a.useState)(null),2),r=t[0],q=t[1],w=Object(l.j)().id,N=Object(p.a)();Object(a.useEffect)((function(){i.a.call("get","/methods/orders/".concat(w)).data((function(e){q(b.a.instantiate(e))}))}),[w]);var R,S=Object(a.useCallback)((function(e,t){return t.setSubmitting(!1),i.a.call("patch","/methods/orders/".concat(w,"/change-status"),{},e).data((function(){t.setSubmitting(!1)})).validation((function(e,r){t.setErrors(r),t.setSubmitting(!1)}))}),[w]);return R=r?n.a.createElement("div",null,n.a.createElement(y.a,{initialValues:{order_status_id:r.order_status_id},handleSubmit:S,renderForm:function(t){var a=t.setFieldValue,c=t.isSubmitting,i=t.values,l=t.errors;return n.a.createElement("div",null,n.a.createElement(s.a,{striped:!0,bordered:!0},n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("th",null,e("shop.order.view-page.client-column")),n.a.createElement("td",null,n.a.createElement(v.a,{to:'/clients/1?filters=[{"column":"clients.id","operator":"eq","value":"'.concat(r.client_id,'","filterValue":"').concat(r.client_id,'","display":"ID","displayingType":"text"}]')},r.client.name))),n.a.createElement("tr",null,n.a.createElement("th",null,e("shop.order.view-page.status-column")),n.a.createElement("td",null,n.a.createElement(g.a,{className:"limiter",label:!1,name:"order_status_id",value:i.order_status_id,setFieldValue:a,loadOptions:j.a,loadValue:E,errors:l,isClearable:!0}))),n.a.createElement("tr",null,n.a.createElement("th",null,e("shop.order.view-page.created-column")),n.a.createElement("td",null,N(r.created_at))))),n.a.createElement(O.a,{className:"pt-2 px-4 mb-4",disabled:c},e("common.saveBtnText")))}}),n.a.createElement(f.a,{order:r.extended_details})):n.a.createElement(u.a,null),n.a.createElement(c.a,{title:e("shop.order.view-page.title")},n.a.createElement(d.a,{className:"pages-card mb-4 shadow"},n.a.createElement(m.a,{className:"px-sm-4 px-2 rounded"},R)))}},Vy9V:function(e,t,r){"use strict";var a=r("4Jst"),n=r("q1tI"),c=r("2k+j"),i=r("HhE6"),l=r("wBLH"),u=(r("yUKz"),r("cO97"),r("SKuE"),r("/ouT"),r("g/0L"),r("9IRi"),r("ROju"),r("EPfG"),r("5KkY"),r("qEaO"),r("X4k0"),r("i8i4"),r("y74/"),Object(n.forwardRef)((function(e,t){var r=Object(l.a)(e),u=Object(i.a)(r);return n.createElement(c.a,Object(a.a)({ref:t},u))})));t.a=u},gmZo:function(e,t,r){"use strict";r("iYuL");var a=r("f0Wu");a.locale(window.locale),t.a=a},ok4j:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var a=r("MwQV");function n(e){return new Promise((function(t){var r={q:e};a.a.call("get","/methods/order-statuses/search",r).data((function(e){t(e.map((function(e){return{label:e.name,value:e.id,orderStatus:e}})))}))}))}},wBLH:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var a=r("ngzn"),n=r("Gyn+"),c=r("TRVv"),i=r("wRwD"),l=r("q1tI"),u=r("qvlS"),o=["defaultOptions","cacheOptions","loadOptions","options","isLoading","onInputChange","filterOption"];function s(e){var t=e.defaultOptions,r=void 0!==t&&t,s=e.cacheOptions,d=void 0!==s&&s,m=e.loadOptions;e.options;var p=e.isLoading,b=void 0!==p&&p,f=e.onInputChange,v=e.filterOption,y=void 0===v?null:v,O=Object(i.a)(e,o),g=O.inputValue,j=Object(l.useRef)(void 0),E=Object(l.useRef)(!1),h=Object(l.useState)(Array.isArray(r)?r:void 0),q=Object(c.a)(h,2),w=q[0],N=q[1],R=Object(l.useState)(void 0!==g?g:""),S=Object(c.a)(R,2),_=S[0],P=S[1],k=Object(l.useState)(!0===r),x=Object(c.a)(k,2),I=x[0],T=x[1],C=Object(l.useState)(void 0),V=Object(c.a)(C,2),A=V[0],L=V[1],M=Object(l.useState)([]),z=Object(c.a)(M,2),F=z[0],B=z[1],D=Object(l.useState)(!1),H=Object(c.a)(D,2),J=H[0],Q=H[1],Y=Object(l.useState)({}),K=Object(c.a)(Y,2),U=K[0],G=K[1],X=Object(l.useState)(void 0),Z=Object(c.a)(X,2),$=Z[0],W=Z[1],ee=Object(l.useState)(void 0),te=Object(c.a)(ee,2),re=te[0],ae=te[1];d!==re&&(G({}),ae(d)),r!==$&&(N(Array.isArray(r)?r:void 0),W(r)),Object(l.useEffect)((function(){return E.current=!0,function(){E.current=!1}}),[]);var ne=Object(l.useCallback)((function(e,t){if(!m)return t();var r=m(e,t);r&&"function"==typeof r.then&&r.then(t,(function(){return t()}))}),[m]);Object(l.useEffect)((function(){!0===r&&ne(_,(function(e){E.current&&(N(e||[]),T(!!j.current))}))}),[]);var ce=Object(l.useCallback)((function(e,t){var r=Object(u.l)(e,t,f);if(!r)return j.current=void 0,P(""),L(""),B([]),T(!1),void Q(!1);if(d&&U[r])P(r),L(r),B(U[r]),T(!1),Q(!1);else{var c=j.current={};P(r),T(!0),Q(!A),ne(r,(function(e){E&&c===j.current&&(j.current=void 0,T(!1),L(r),B(e||[]),Q(!1),G(e?Object(n.a)(Object(n.a)({},U),{},Object(a.a)({},r,e)):U))}))}}),[d,ne,A,U,f]),ie=J?[]:_&&A?F:w||[];return Object(n.a)(Object(n.a)({},O),{},{options:ie,isLoading:I||b,onInputChange:ce,filterOption:y})}}}]);