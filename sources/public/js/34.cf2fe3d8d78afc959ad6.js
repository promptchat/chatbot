(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{6025:function(e,t,n){"use strict";n.r(t);var a=n("q1tI"),r=n.n(a),c=n("17x9"),o=n.n(c),i=n("/MKj"),l=n("TtP3"),m=n("k0Re"),u=n("bTjV"),s=n("zwA0"),d=n("QPV6"),p=n("GmYL"),f=n("OKOT"),b=n("Yfk4");function y(e){var t=e.companyId,n=e.departments,a=e.reloadPage;return r.a.createElement(b.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Department"),r.a.createElement("th",null,"Â "))),r.a.createElement("tbody",null,n.map((function(e){return r.a.createElement("tr",{key:e.id,id:"department-".concat(e.id)},r.a.createElement("td",null,e.name),r.a.createElement(d.a,null,(function(n){return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{url:"/companies/".concat(t,"/departments/").concat(e.id,"/edit")}),r.a.createElement(f.a,{url:"/methods/departments/".concat(e.id),setConfirm:n,onSuccess:a}))})))}))))}y.propTypes={companyId:o.a.number.isRequired,departments:o.a.array.isRequired,reloadPage:o.a.func.isRequired};var g=n("55Ip"),h=n("9Koi"),E=n("MwQV"),v=n("nc57"),j=n("6Rhw"),O=n("x37D"),w=n("Ty5D"),k=n("mL5Q"),x=n("n7jJ");function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(a=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,c=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw c}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function T(e){var t=e.company,n=e.redirectBack,c=Object(h.a)().t,o=Object(w.h)(),i=R(Object(a.useState)(!1),2),l=i[0],m=i[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{show:l,text:c("companies.edit-page.data-changed-message"),onConfirm:function(){return m(!1)}}),r.a.createElement(v.a,{className:"limiter",initialValues:{name:t.name},handleSubmit:function(e,a){var r=a.setSubmitting,c=a.setErrors;E.a.call("patch","/methods/companies/".concat(t.id),{},e).then((function(){n?o.goBack():m(!0)})).validation((function(e,t){c(t)})),r(!1)},renderForm:function(e){var t=e.handleChange,n=e.handleBlur,a=e.values,o=e.errors,i=e.isSubmitting;return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{id:"name",name:"name",label:c("companies.edit-page.name-label"),placeholder:c("companies.edit-page.name-placeholder"),onChange:t,onBlur:n,value:a.name,errors:o}),r.a.createElement(O.a,{className:"pt-2 px-4 mt-3 mb-sm-4 mb-5",disabled:i},c("common.saveBtnText")))}}))}T.propTypes={company:o.a.instanceOf(k.a).isRequired,redirectBack:o.a.bool};var q=n("dbgk");function C(e){var t,n=e.loading,c=e.error,o=e.company,i=e.dispatch,d=Object(w.j)(),p=d.id,f="0"!==d.back,b=Object(h.a)().t,E=Object(a.useCallback)((function(){return i(Object(m.b)(p))}),[p]);return Object(a.useEffect)((function(){E()}),[E]),t=n||!o?r.a.createElement(u.a,null):c?r.a.createElement(s.a,null):r.a.createElement("div",null,r.a.createElement(T,{company:o,redirectBack:f}),r.a.createElement("div",{className:"text-sm-right"},r.a.createElement(g.a,{to:"/companies/".concat(p,"/users/1"),className:"btn btn-secondary ml-sm-3 mr-sm-0 mr-3 px-4 pt-2 mb-3"},b("companies.edit-page.users-list-link")),r.a.createElement(g.a,{to:"/companies/".concat(p,"/departments/create"),className:"btn btn-outline-primary ml-sm-3 mr-sm-0 mr-3 px-4 pt-2 mb-3"},b("companies.edit-page.add-department-btn"))),r.a.createElement(y,{companyId:+p,reloadPage:E,departments:o.departments.toArray()})),r.a.createElement(l.a,null,r.a.createElement(q.a,null,b("companies.edit-page.title")),r.a.createElement("div",null,t))}t.default=Object(i.c)((function(e){var t=e.companies;return{loading:t.get("loading"),error:t.get("error"),company:t.get("item")}}))(C);C.propTypes={company:o.a.instanceOf(k.a),dispatch:o.a.func.isRequired,error:o.a.object,loading:o.a.bool}},k0Re:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return p}));var a=n("Cane"),r=n("MwQV"),c=n("c8c+"),o=n("Qu/B"),i=n("EW+5"),l=Object(i.a)(a.a),m=l.loading,u=l.itemsListLoaded,s=l.error,d=function(e,t,n){return function(a){var i={page:e};t.size&&(i.filter=Object(c.a)(t)),n.size&&(i.order=Object(o.a)(n)),a(m()),r.a.call("get","/methods/companies",i,{}).then((function(e){a(u({filters:t,sort:n,response:e}))})).catch((function(e){return a(s(e))}))}},p=function(e){return function(t){t(m()),r.a.call("get","/methods/companies/".concat(e)).data((function(e){var n;t((n=e,{type:a.a.ITEM_LOADED,payload:n}))})).catch((function(e){return t(s(e))}))}}},n7jJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n("q1tI"),r=n.n(a),c=n("17x9"),o=n.n(c),i=n("bFnZ"),l=n.n(i);function m(e){var t=e.show,n=e.text,a=e.onConfirm,c=e.type,o=void 0===c?"success":c;return r.a.createElement(l.a,{title:"",show:t,onConfirm:a,type:o},n)}m.propTypes={onConfirm:o.a.func.isRequired,show:o.a.bool.isRequired,text:o.a.string.isRequired,type:o.a.string}}}]);