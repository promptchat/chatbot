(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"6rqU":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("q1tI"),r=n.n(a),i=n("17x9"),l=n.n(i),c=n("sOKU");function o(e){var t=e.fields,n=e.validate,a=e.nextStep,i=e.allowedSteps,l=e.changeStep,o=e.content;if(!i.includes(a))return null;return r.a.createElement(c.a,{className:"pt-2 px-4 my-4",type:"button",color:"primary",onClick:function(){n?n(t).then((function(){return l(a)})):l(a)}},o?o():"Next")}o.propTypes={validate:l.a.func,fields:l.a.array,allowedSteps:l.a.array.isRequired,changeStep:l.a.func.isRequired,nextStep:l.a.string.isRequired,content:l.a.func}},"76xo":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("q1tI");function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,i=void 0;try{for(var l,c=e[Symbol.iterator]();!(a=(l=c.next()).done)&&(n.push(l.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function l(){var e=r(Object(a.useState)(!1),2),t=e[0],n=e[1];return[t,function(){var e,t;e=window.integrationScriptUse,(t=document.createElement("textarea")).value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),n(!0),setTimeout((function(){n(!1)}),1500)}]}},Buep:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var a=n("q1tI"),r=n.n(a),i=n("QDav"),l=n("jrRI"),c=n("3OM0"),o=n("TSYQ"),s=n.n(o),u=n("sPdi"),d=n("17x9"),m=n.n(d),f=n("9Koi");function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,i=void 0;try{for(var l,c=e[Symbol.iterator]();!(a=(l=c.next()).done)&&(n.push(l.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E={control:function(e){return g(g({},e),{},{"&, &:hover, &:focus":{borderColor:"#ced4da",boxShadow:"none"}})}};function S(e){var t,n,o=e.id,d=e.label,m=e.errors,v=e.loadOptions,h=e.loadValue,g=e.name,y=e.setFieldValue,S=e.value,O=e.className,w=e.placeholder,j=e.isClearable,q=e.selectOptions,R=b(Object(a.useState)(null),2),C=R[0],k=R[1],x=Object(f.a)().t;return Object(a.useEffect)((function(){S&&!C&&h(S).then((function(e){k(e)}))}),[h,C,S]),r.a.createElement(l.a,{className:s()(O)},r.a.createElement(c.a,{htmlFor:o},d),r.a.createElement(i.a,p({},q,{cacheOptions:!0,defaultOptions:!0,loadOptions:v,onChange:function(e){y(g,e?e.value:null),k(e)},value:S?C:null,isClearable:j,className:s()({"is-invalid":!!(null===(t=m[g])||void 0===t?void 0:t.length)}),placeholder:w||x("common.default-select-placeholder"),styles:E})),(null===(n=m[g])||void 0===n?void 0:n.length)?r.a.createElement(u.a,{errors:m[g]}):null)}S.defaultProps={isClearable:!0},S.propTypes={errors:m.a.object.isRequired,id:m.a.oneOfType([m.a.string,m.a.number]),value:m.a.oneOfType([m.a.string,m.a.number]),label:m.a.any.isRequired,name:m.a.string.isRequired,setFieldValue:m.a.func.isRequired,loadOptions:m.a.func.isRequired,loadValue:m.a.func.isRequired,className:m.a.string,placeholder:m.a.string,isClearable:m.a.bool,selectOptions:m.a.object}},HayB:function(e,t,n){"use strict";n.d(t,"b",(function(){return O})),n.d(t,"a",(function(){return w}));var a,r=n("q1tI"),i=n.n(r),l=n("17x9"),c=n.n(l),o=n("XRgj"),s=n("ok1R"),u=n("rhny"),d=n("xbK4"),m=n("TSYQ"),f=n.n(m),p=n("6rqU"),b=n("9Koi"),v=n("BAJy"),h=n("3OM0"),g=n("ma3e");function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,i=void 0;try{for(var l,c=e[Symbol.iterator]();!(a=(l=c.next()).done)&&(n.push(l.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=(S(a={},o.i,(function(){return i.a.createElement(g.v,{className:"service-icon color-blue3 icon-size-40"})})),S(a,o.b,(function(){return i.a.createElement(g.s,{className:"service-icon facebook-icon icon-size-40 color-facebook"})})),S(a,o.c,(function(){return i.a.createElement("img",{className:"service-img sms-chat",src:"/img/services/sms-chat.png",alt:"sms-chat"})})),S(a,o.d,(function(){return i.a.createElement(g.cb,{className:"service-icon whatsapp-icon icon-size-40 color-whatsapp"})})),S(a,o.e,(function(){return i.a.createElement(g.T,{className:"service-icon telegram-icon icon-size-40 color-telegram"})})),S(a,o.h,(function(){return i.a.createElement(g.bb,{className:"service-icon viber-icon icon-size-40 color-viber"})})),S(a,o.g,(function(){return i.a.createElement("span",{className:"d-flex justify-content-center position-relative service-img-wrapper"},i.a.createElement("img",{className:"service-img twilio",src:"/img/services/twilio-red.svg",alt:"twilio-whatsapp"}),i.a.createElement("div",{className:"position-absolute twilio-whatsapp rounded-circle d-flex justify-content-center align-items-center"},i.a.createElement(g.cb,{className:"icon-size-20 color-whatsapp sm-whatsapp"})))})),S(a,o.f,(function(){return i.a.createElement("img",{className:"service-img twilio",src:"/img/services/twilio-red.svg",alt:"sms-twilio"})})),S(a,o.a,(function(){return i.a.createElement("img",{className:"service-img twilio",src:"/img/services/dotgo.svg",alt:"sms-twilio"})})),a);function w(e){var t=e.validate,n=e.isEdit,a=e.handleChange,l=e.values,c=e.allowedSteps,m=e.changeStep,E=Object(b.a)().t,S=y(Object(r.useState)([{label:E("integrations.service.".concat(o.i)),value:o.i,icon:O[o.i],iconBtn:function(){return i.a.createElement(g.v,{className:"icon-size-25"})}},{label:E("integrations.service.".concat(o.b)),value:o.b,icon:O[o.b],iconBtn:function(){return i.a.createElement(g.s,{className:"icon-size-25"})}},{label:E("integrations.service.".concat(o.c)),value:o.c,icon:O[o.c],iconBtn:function(){return i.a.createElement("img",{className:"service-img sms-chat-btn",src:"/img/services/sms-chat.png",alt:"sms-chat"})}},{label:E("integrations.service.".concat(o.d)),value:o.d,icon:O[o.d],iconBtn:function(){return i.a.createElement(g.cb,{className:"icon-size-25"})}},{label:E("integrations.service.".concat(o.e)),value:o.e,icon:O[o.e],iconBtn:function(){return i.a.createElement(g.T,{className:"icon-size-25"})}},{label:E("integrations.service.".concat(o.h)),value:o.h,icon:O[o.h],iconBtn:function(){return i.a.createElement(g.bb,{className:"icon-size-25"})}},{label:E("integrations.service.".concat(o.g)),value:o.g,icon:O[o.g],iconBtn:function(){return i.a.createElement("span",{className:"position-relative service-img-wrapper"},i.a.createElement("img",{className:"service-img twilio-btn",src:"/img/services/twilio-white.svg",alt:"twilio-whatsapp"}),i.a.createElement(g.cb,{className:"pl-2 icon-size-20 color-white"}))}},{label:E("integrations.service.".concat(o.f)),value:o.f,icon:O[o.f],iconBtn:function(){return i.a.createElement("img",{className:"service-img twilio-btn",src:"/img/services/twilio-white.svg",alt:"sms-twilio"})}},{label:E("integrations.service.".concat(o.a)),value:o.a,icon:O[o.a],iconBtn:function(){return i.a.createElement("img",{className:"service-img twilio-btn",src:"/img/services/dotgo.svg",alt:"sms-twilio"})}}]),1)[0],w=S.findIndex((function(e){return+e.value==+l.service})),j=-1===w?null:S[w];return i.a.createElement(i.a.Fragment,null,i.a.createElement(s.a,{className:"my-4"},S.map((function(e){var t=+e.value==+l.service;return i.a.createElement(u.a,{xl:4,md:4,sm:6,key:e.value,className:f()("my-3 px-sm-3 px-0",{active:t})},i.a.createElement("div",{className:"rounded d-flex align-items-center p-sm-3 py-3 px-2"},i.a.createElement("div",{className:"position-relative service-img-wrapper d-flex justify-content-center mr-1"},e.icon()),i.a.createElement(v.a,{className:"ml-2 ",value:e.value,onChange:n?null:a,checked:t,type:"radio",id:"service-".concat(e.value),name:"service",disabled:n}),i.a.createElement(h.a,{className:"mb-0",htmlFor:"service-".concat(e.value)},e.label)))}))),i.a.createElement(p.a,{validate:t,fields:["service"],allowedSteps:c,nextStep:d.a,changeStep:m,content:function(){return i.a.createElement(i.a.Fragment,null,E("integrations.form.next-btn.step-service",{serviceName:j.label}),i.a.createElement("span",{className:"ml-2 pl-1"},null==j?void 0:j.iconBtn()))}}))}w.propTypes={isEdit:c.a.bool,validate:c.a.func.isRequired,handleChange:c.a.func.isRequired,changeStep:c.a.func.isRequired,values:c.a.object.isRequired,allowedSteps:c.a.array.isRequired}},"K+m7":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("MwQV");function r(e){return new Promise((function(t){a.a.call("get","/methods/chat-bots/search",{q:e}).data((function(e){t(e.map((function(e){return{label:e.name,value:e.id}})))}))}))}},clgt:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("XRgj");function r(e){return[a.i,a.b,a.g,a.f,a.a].includes(+e)}},dbgk:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("q1tI"),r=n.n(a),i=n("17x9"),l=n.n(i);function c(e){var t=e.children;return r.a.createElement("h1",{className:"title-main mb-3"},t)}c.propTypes={children:l.a.any.isRequired}},xbK4:function(e,t,n){"use strict";n.d(t,"c",(function(){return me})),n.d(t,"a",(function(){return fe})),n.d(t,"b",(function(){return pe})),n.d(t,"d",(function(){return be})),n.d(t,"e",(function(){return ve})),n.d(t,"f",(function(){return he}));var a=n("q1tI"),r=n.n(a),i=n("17x9"),l=n.n(i),c=n("nc57"),o=n("TSYQ"),s=n.n(o),u=n("9Koi");function d(e){var t=e.values,n=e.validate,a=e.allowedScreens,i=e.step,l=e.showSetUpScreen,c=e.onChange,o=e.errors,d=Object(u.a)().t,m=[{label:d("integrations.form.step.".concat(me)),value:me,fields:["service"],dependsOn:[]},{label:d("integrations.form.step.".concat(fe)),value:fe,fields:["name","prefix","company_chat_bot_id","locale"],dependsOn:["service"]},{label:d("integrations.form.step.".concat(pe)),value:pe,nFields:["service","name","prefix","company_chat_bot_id","locale"],dependsOn:["service","name","prefix","company_chat_bot_id","locale"]},{label:d("integrations.form.step.".concat(be)),value:be,dependsOn:"all"},{label:d("integrations.form.step.".concat(ve)),value:ve,dependsOn:"all"}];return r.a.createElement("div",{className:"navigation-bar-wrapper"},r.a.createElement("div",{className:"navigation-bar w-100 d-flex"},m.map((function(e){if(e.value===be&&!l)return null;var u,d=a.includes(e.value),m=Object.entries(o);u=e.fields?m.filter((function(t){return e.fields.includes(t[0])&&t[1].length})).length:!!e.nFields&&m.filter((function(t){return!e.nFields.includes(t[0])&&t[1].length})).length;return r.a.createElement("button",{key:e.value,type:"button",onClick:function(){n("all"===e.dependsOn?Object.keys(t):e.dependsOn).then((function(){c(e.value)}))},className:s()("navigation-item rounded-top w-100 py-2 px-3",{active:e.value===i,error:u}),disabled:!d},e.label)}))))}d.propTypes={values:l.a.object.isRequired,validate:l.a.func.isRequired,errors:l.a.object,allowedScreens:l.a.array.isRequired,step:l.a.string,onChange:l.a.func.isRequired,showSetUpScreen:l.a.bool};var m=n("HayB"),f=n("6rqU"),p=n("6Rhw"),b=n("Buep"),v=n("K+m7"),h=n("MwQV");function g(e){return new Promise((function(t){h.a.call("get","/methods/chat-bots/".concat(e)).data((function(e){t({label:e.name,value:e.id})}))}))}var y=n("9MIN");function E(){return new Promise((function(e){h.a.call("get","/methods/language").data((function(t){e(Object(y.a)(t))}))}))}function S(e){return new Promise((function(t){h.a.call("get","/methods/language/".concat(e)).data((function(e){t(Object(y.a)([e])[0])}))}))}var O=n("ok1R"),w=n("rhny");function j(e){var t=e.setFieldValue,n=e.handleChange,a=e.handleBlur,i=e.values,l=e.errors,c=e.allowedSteps,o=e.changeStep,s=e.validate,d=Object(u.a)().t;return r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,null,r.a.createElement(w.a,{lg:6},r.a.createElement(p.a,{className:"limiter",name:"name",label:d("integrations.form.chatbot-screen.name-label"),placeholder:d("integrations.form.chatbot-screen.name-placeholder"),onChange:n,onBlur:a,value:i.name||"",errors:l}),r.a.createElement(p.a,{className:"limiter",name:"prefix",label:d("integrations.form.chatbot-screen.prefix-label"),placeholder:d("integrations.form.chatbot-screen.prefix-placeholder"),onChange:n,onBlur:a,value:i.prefix||"",errors:l})),r.a.createElement(w.a,{lg:6},r.a.createElement(b.a,{className:"limiter",name:"company_chat_bot_id",label:d("integrations.form.chatbot-screen.chat-label"),value:i.company_chat_bot_id,setFieldValue:t,errors:l,loadOptions:v.a,loadValue:g}),r.a.createElement(b.a,{className:"limiter",name:"locale",label:d("integrations.form.chatbot-screen.language-label"),loadOptions:E,loadValue:S,value:i.locale,setFieldValue:t,errors:l}))),r.a.createElement(f.a,{validate:s,fields:["service","name","prefix","company_chat_bot_id","locale"],changeStep:o,allowedSteps:c,nextStep:pe,content:function(){return d("integrations.form.next-btn.step-chatbot")}}))}j.propTypes={allowedSteps:l.a.array.isRequired,changeStep:l.a.func.isRequired,validate:l.a.func.isRequired,errors:l.a.object.isRequired,handleBlur:l.a.func.isRequired,handleChange:l.a.func.isRequired,setFieldValue:l.a.func.isRequired,values:l.a.object.isRequired};var q=n("XRgj");function R(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function C(e,t){var n=e.service,a=R(e,["service"]);switch(+n){case q.i:return a.config_id&&!t.config_id;case q.b:return a.token&&a.app_secret&&!t.token&&!t.app_secret;case q.e:case q.c:case q.d:case q.h:return a.token&&!t.token;case q.g:case q.f:return a.token&&a.sid&&!t.token&&!t.sid;case q.a:return a.client_id&&a.client_secret&&!t.client_id&&!t.client_secret;default:return!1}}var k=n("sOKU"),x=n("aLZG");function N(e){var t=e.handleSubmit,n=e.video,a=e.values,i=e.errors,l=e.children,c=Object(u.a)().t;return r.a.createElement(r.a.Fragment,null,n?r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{color:"dark",fade:!1},c("integrations.form.msg-instead-of-video"))):null,l,C(a,i)?r.a.createElement(k.a,{className:"pt-2 px-4 my-4",type:"submit",color:"primary",onClick:t},c("integrations.form.next-btn.step-configure")):null)}function _(){return new Promise((function(e){h.a.call("get","/methods/chat-box-configs/search").data((function(t){e(t.map((function(e){return{label:e.name,value:e.id}})))}))}))}function B(e){return new Promise((function(t){h.a.call("get","/methods/chat-box-configs/".concat(e)).data((function(e){t({label:e.name,value:e.id})}))}))}function I(e){var t=e.video,n=e.handleSubmitClick,a=e.setFieldValue,i=e.values,l=e.errors,c=Object(u.a)().t;return r.a.createElement(N,{video:t,handleSubmit:n(["config_id"]),values:i,errors:l},r.a.createElement(b.a,{className:"limiter",name:"config_id",label:c("integrations.form.configure-screen.config-label"),loadOptions:_,loadValue:B,value:i.config_id||"",setFieldValue:a,errors:l}))}function A(e){var t=e.video,n=e.handleSubmitClick,a=e.handleChange,i=e.handleBlur,l=e.values,c=e.errors,o=Object(u.a)().t;return r.a.createElement(N,{handleSubmit:n(["token","app_secret"]),errors:c,values:l,video:t},r.a.createElement(p.a,{className:"limiter",name:"token",label:o("integrations.form.configure-screen.token-label"),placeholder:o("integrations.form.configure-screen.token-placeholder"),onChange:a,onBlur:i,value:l.token||"",errors:c}),r.a.createElement(p.a,{className:"limiter",name:"app_secret",label:o("integrations.form.configure-screen.app-secret-label"),placeholder:o("integrations.form.configure-screen.app-secret-placeholder"),onChange:a,onBlur:i,value:l.app_secret||"",errors:c}))}function P(e){var t=e.video,n=e.handleSubmitClick,a=e.handleChange,i=e.handleBlur,l=e.values,c=e.errors,o=n(["config_id"]),s=Object(u.a)().t;return r.a.createElement(N,{video:t,values:l,errors:c,handleSubmit:o},r.a.createElement(p.a,{className:"limiter",name:"token",label:s("integrations.form.configure-screen.token-label"),placeholder:s("integrations.form.configure-screen.token-placeholder"),value:l.token||"",onChange:a,onBlur:i,errors:c}))}function T(e){var t=e.video,n=e.handleSubmitClick,a=e.handleChange,i=e.handleBlur,l=e.values,c=e.errors,o=n(["sid","token"]),s=Object(u.a)().t;return r.a.createElement(N,{handleSubmit:o,errors:c,values:l,video:t},r.a.createElement(p.a,{className:"limiter",name:"sid",label:s("integrations.form.configure-screen.sid-label"),placeholder:s("integrations.form.configure-screen.sid-placeholder"),onChange:a,onBlur:i,value:l.sid||"",errors:c}),r.a.createElement(p.a,{className:"limiter",name:"token",label:s("integrations.form.configure-screen.token-label"),placeholder:s("integrations.form.configure-screen.token-placeholder"),onChange:a,onBlur:i,value:l.token||"",errors:c}))}function F(e){var t=e.video,n=e.handleSubmitClick,a=e.handleChange,i=e.handleBlur,l=e.values,c=e.errors,o=n(["bot_id","client_id","client_secret"]),s=Object(u.a)().t;return r.a.createElement(N,{handleSubmit:o,errors:c,values:l,video:t},r.a.createElement(p.a,{className:"limiter",name:"client_id",label:s("integrations.form.configure-screen.client_id-label"),placeholder:s("integrations.form.configure-screen.client_id-placeholder"),onChange:a,onBlur:i,value:l.client_id||"",errors:c}),r.a.createElement(p.a,{className:"limiter",name:"client_secret",label:s("integrations.form.configure-screen.client_secret-label"),placeholder:s("integrations.form.configure-screen.client_secret-placeholder"),onChange:a,onBlur:i,value:l.client_secret||"",errors:c}),r.a.createElement(p.a,{className:"limiter",name:"bot_id",label:s("integrations.form.configure-screen.bot_id-label"),placeholder:s("integrations.form.configure-screen.bot_id-placeholder"),onChange:a,onBlur:i,value:l.bot_id||"",errors:c}))}function V(e){var t=e.setFieldValue,n=e.handleChange,a=e.handleBlur,i=e.values,l=e.errors,c=e.validate,o=e.handleSubmit,s=function(e){return function(t){if(t.preventDefault(),c){var n=e.concat(["service","name","prefix","company_chat_bot_id","locale","config_id"]);c(n).then((function(){o()}))}else o()}};switch(+i.service){case q.i:return r.a.createElement(I,{video:"bx79vJP4zWI",setFieldValue:t,values:i,errors:l,handleSubmitClick:s});case q.b:return r.a.createElement(A,{video:"bx79vJP4zWI",handleChange:n,handleBlur:a,values:i,errors:l,handleSubmitClick:s});case q.e:return r.a.createElement(P,{video:"b9-cHk-7N8k",handleChange:n,handleBlur:a,values:i,errors:l,handleSubmitClick:s});case q.c:return r.a.createElement(P,{video:"bx79vJP4zWI",handleChange:n,handleBlur:a,values:i,errors:l,handleSubmitClick:s});case q.d:return r.a.createElement(P,{video:"b9-cHk-7N8k",handleChange:n,handleBlur:a,values:i,errors:l,handleSubmitClick:s});case q.h:return r.a.createElement(P,{video:"bx79vJP4zWI",handleChange:n,handleBlur:a,values:i,errors:l,handleSubmitClick:s});case q.g:case q.f:return r.a.createElement(T,{video:"bx79vJP4zWI",handleChange:n,handleBlur:a,values:i,errors:l,handleSubmitClick:s});case q.a:return r.a.createElement(F,{video:"bx79vJP4zWI",handleChange:n,handleBlur:a,values:i,errors:l,handleSubmitClick:s})}}N.propTypes={children:l.a.any.isRequired,errors:l.a.object.isRequired,handleSubmit:l.a.func.isRequired,values:l.a.object.isRequired,video:l.a.string},I.propTypes={video:l.a.string,errors:l.a.object.isRequired,handleSubmitClick:l.a.func.isRequired,setFieldValue:l.a.func.isRequired,values:l.a.object.isRequired},A.propTypes={video:l.a.string,errors:l.a.object.isRequired,handleBlur:l.a.func.isRequired,handleChange:l.a.func.isRequired,handleSubmitClick:l.a.func.isRequired,values:l.a.object.isRequired},P.propTypes={video:l.a.string,errors:l.a.object.isRequired,handleBlur:l.a.func.isRequired,handleChange:l.a.func.isRequired,handleSubmitClick:l.a.func.isRequired,values:l.a.object.isRequired},T.propTypes={video:l.a.string,errors:l.a.object.isRequired,handleBlur:l.a.func.isRequired,handleChange:l.a.func.isRequired,handleSubmitClick:l.a.func.isRequired,values:l.a.object.isRequired},F.propTypes={video:l.a.string,errors:l.a.object.isRequired,handleBlur:l.a.func.isRequired,handleChange:l.a.func.isRequired,handleSubmitClick:l.a.func.isRequired,values:l.a.object.isRequired},V.propTypes={errors:l.a.object.isRequired,handleBlur:l.a.func.isRequired,handleChange:l.a.func.isRequired,setFieldValue:l.a.func.isRequired,validate:l.a.func.isRequired,handleSubmit:l.a.func.isRequired,values:l.a.object.isRequired};var z=n("h4JF");function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,i=void 0;try{for(var l,c=e[Symbol.iterator]();!(a=(l=c.next()).done)&&(n.push(l.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function M(e){var t=e.video,n=e.integrationId,i=e.renderContent,l=U(Object(a.useState)(null),2),c=l[0],o=l[1],s=Object(u.a)().t;return Object(a.useEffect)((function(){h.a.call("get","/methods/integrations/".concat(n,"/setup-data")).data((function(e){o(e)}))}),[n]),c?r.a.createElement("div",{className:"video-player-block"},t?r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{color:"dark",fade:!1},s("integrations.form.msg-instead-of-video"))):null,i(c)):r.a.createElement(z.a,null)}function J(e){var t=e.values,n=Object(u.a)().t;return r.a.createElement(M,{integrationId:t.id,video:"vlDzYIIOYmM",renderContent:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"text-main pt-4"},n("integrations.form.setup-screen.copy-html-text")),r.a.createElement("p",{className:"copy-html-text p-3 rounded"},e.script))}})}function K(e){var t=e.values,n=Object(u.a)().t;return r.a.createElement(M,{integrationId:t.id,video:"vlDzYIIOYmM",renderContent:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{className:"limiter",label:n("integrations.form.setup-screen.callback-label"),name:"callbackUrl",value:e.callbackUrl,readOnly:1}),r.a.createElement(p.a,{className:"limiter",label:n("integrations.form.setup-screen.confirmation-token-label"),name:"token",value:e.verification,readOnly:1}))}})}function Y(e){var t=e.values,n=e.video,a=Object(u.a)().t;return r.a.createElement(M,{integrationId:t.id,video:n,renderContent:function(e){return r.a.createElement(p.a,{className:"limiter",label:a("integrations.form.setup-screen.callback-label"),name:"callbackUrl",value:e.callbackUrl,readOnly:1})}})}function Q(e){var t=e.values,n=e.changeStep,a=e.allowedSteps,i=Object(u.a)().t,l=null;switch(+t.service){case q.i:l=r.a.createElement(J,{values:t});break;case q.b:l=r.a.createElement(K,{values:t});break;case q.g:l=r.a.createElement(Y,{video:"5kUu97Vkwj4",values:t});break;case q.f:case q.a:l=r.a.createElement(Y,{video:"10byeZV5jcc",values:t})}return r.a.createElement(r.a.Fragment,null,l,r.a.createElement(f.a,{changeStep:n,allowedSteps:a,nextStep:ve,content:function(){return i("integrations.form.next-btn.step-setup")}}))}M.propTypes={integrationId:l.a.number.isRequired,renderContent:l.a.func.isRequired,video:l.a.string},J.propTypes={values:l.a.object.isRequired},K.propTypes={values:l.a.object.isRequired},Y.propTypes={video:l.a.string,values:l.a.object.isRequired},Q.propTypes={allowedSteps:l.a.array.isRequired,changeStep:l.a.func.isRequired,values:l.a.object.isRequired};var W=n("55Ip"),$=n("3OM0"),H=n("76xo"),L=n("jrRI"),X=n("L3zb");function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,i=void 0;try{for(var l,c=e[Symbol.iterator]();!(a=(l=c.next()).done)&&(n.push(l.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function ee(e){var t=e.values,n=Object(u.a)().t,a=Z(Object(H.a)(),2),i=a[0],l=a[1];return r.a.createElement("div",null,r.a.createElement("p",{className:"color-blue title-middle mt-4 pb-2"},n("integrations.form.success-screen.title")),r.a.createElement("p",{className:"text-main mb-5"},n("integrations.form.success-screen.text")),r.a.createElement("p",{className:"text-main mb-5"},r.a.createElement(L.a,null,r.a.createElement($.a,null,n("integrations.form.success-screen.api-token-label")),r.a.createElement(X.a,{id:"api-token",type:"text",value:t.apiToken,readOnly:!0})),r.a.createElement("div",{className:"text-right"},i?r.a.createElement("span",null,n("integrations.form.success-screen.copied-message")):null,r.a.createElement(k.a,{onClick:l},n("integrations.form.success-screen.copy-btn")))),r.a.createElement(W.a,{to:"/integrations",className:"pt-2 px-4 mt-3 mb-sm-4 mb-5 btn btn-success"},n("integrations.form.next-btn.step-success")))}ee.propTypes={values:l.a.object.isRequired};var te=ee;function ne(e){var t=e.isEdit,n=e.handleChange,a=e.handleBlur,i=e.validate,l=e.values,c=e.errors,o=e.isSubmitting,s=e.setFieldValue,u=e.allowedScreens,d=e.changeStep,f=e.handleSubmit;switch(l.step){case me:return r.a.createElement(m.a,{isEdit:t,handleChange:n,values:l,allowedSteps:u,changeStep:d,validate:i});case fe:return r.a.createElement(j,{values:l,errors:c,setFieldValue:s,handleChange:n,handleBlur:a,allowedSteps:u,changeStep:d,validate:i});case pe:return r.a.createElement(V,{values:l,errors:c,setFieldValue:s,handleChange:n,handleBlur:a,validate:i,handleSubmit:f});case be:return r.a.createElement(Q,{values:l,allowedSteps:u,changeStep:d});case ve:return r.a.createElement(te,{handleChange:n,handleBlur:a,values:l,errors:c,isSubmitting:o,setFieldValue:s,allowedSteps:u})}}ne.propTypes={isEdit:l.a.bool,errors:l.a.object.isRequired,handleBlur:l.a.func.isRequired,handleChange:l.a.func.isRequired,isSubmitting:l.a.bool,setFieldValue:l.a.func.isRequired,validate:l.a.func.isRequired,values:l.a.object.isRequired,allowedScreens:l.a.array.isRequired,changeStep:l.a.func.isRequired,handleSubmit:l.a.func.isRequired};var ae=n("clgt"),re=n("BLzl"),ie=n("afej"),le=n("/kxI");function ce(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oe(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,i=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw i}}}}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){de(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var me="service",fe="chat-bot",pe="configure",be="setup",ve="success";function he(e){var t=e.isEdit,n=e.step,a=e.onSubmit,i=e.defaultData;return r.a.createElement(c.a,{className:"integration-form",initialValues:ue({step:t&&n?n:me},i),handleSubmit:a,renderForm:function(e){var n=e.handleChange,a=e.handleBlur,i=e.values,l=e.errors,c=e.isSubmitting,o=e.setFieldValue,s=e.setErrors,u=e.handleSubmit,m=[me],f=!!i.service;f&&m.push(fe);var p=f&&function(e,t){return e.company_chat_bot_id&&e.name&&e.prefix&&e.locale&&!t.company_chat_bot_id&&!t.name&&!t.prefix&&!t.locale}(i,l);p&&m.push(pe);var b=p&&C(i,l);t&&b&&(Object(ae.a)(i.service)?m.push(be):m.push(ve));var v=b&&Object(ae.a)(i.service);t&&v&&m.push(ve);var g=function(e){return o("step",e)},y=function(e){return new Promise((function(t,n){var a,r={},l=ce(e);try{for(l.s();!(a=l.n()).done;){var c=a.value;r[c]=i[c]}}catch(e){l.e(e)}finally{l.f()}h.a.call("post","/methods/integrations/validate",{},r).then((function(){t()})).validation((function(e,t){s(t),n&&n()}))}))};return r.a.createElement(O.a,null,r.a.createElement(w.a,{xl:9},r.a.createElement(re.a,{className:"mb-5 card-navbar shadow"},r.a.createElement(ie.a,{className:"p-0"},r.a.createElement(d,{allowedScreens:m,step:i.step,onChange:g,showSetUpScreen:Object(ae.a)(i.service),errors:l,validate:y,values:i})),r.a.createElement(le.a,{className:"px-4 rounded-bottom"},r.a.createElement(ne,{handleChange:n,handleBlur:a,values:i,errors:l,isSubmitting:c,setFieldValue:o,validate:y,isEdit:t,allowedScreens:m,changeStep:g,handleSubmit:u})))))}})}he.propTypes={step:l.a.oneOf([me,fe,pe,be,ve]),isEdit:l.a.bool,defaultData:l.a.object.isRequired,onSubmit:l.a.func.isRequired}}}]);