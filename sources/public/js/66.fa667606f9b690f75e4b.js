(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{"8WGv":function(e,t,n){"use strict";var a=n("q1tI"),o=n.n(a),r=n("17x9"),l=n.n(r),i=n("sPdi"),c=n("jrRI"),u=n("3OM0"),s=n("Cs6D"),d=n("TSYQ"),p=n.n(d),f=n("9Koi");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h={control:function(e){return g(g({},e),{},{"&, &:hover, &:focus":{borderColor:"#ced4da",boxShadow:"none"}})}};function v(e){var t,n,a=e.id,r=e.label,l=e.errors,d=e.name,m=e.setFieldValue,g=e.options,b=e.value,v=e.className,y=e.placeholder,O=e.isClearable,_=e.isDisabled,j=Object(f.a)().t,E=g.findIndex((function(e){return e.value===b})),w=-1===E?null:g[E];return o.a.createElement(c.a,{className:p()(v)},o.a.createElement(u.a,{htmlFor:a},r),o.a.createElement(s.a,{id:a,name:d,isDisabled:_,onChange:function(e){return m(d,e?e.value:null)},options:g,value:w,isClearable:O,className:p()("select-field",{"is-invalid":!!(null===(t=l[d])||void 0===t?void 0:t.length)}),placeholder:y||j("common.default-select-placeholder"),styles:h}),(null===(n=l[d])||void 0===n?void 0:n.length)?o.a.createElement(i.a,{errors:l[d]}):null)}v.defaultProps={isClearable:!0},v.propTypes={errors:l.a.object.isRequired,id:l.a.oneOfType([l.a.string,l.a.number]),value:l.a.oneOfType([l.a.string,l.a.number]),label:l.a.any.isRequired,name:l.a.string.isRequired,setFieldValue:l.a.func.isRequired,options:l.a.array.isRequired,className:l.a.string,placeholder:l.a.string,isClearable:l.a.bool,isDisabled:l.a.bool},t.a=o.a.memo(v)},Buep:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var a=n("q1tI"),o=n.n(a),r=n("QDav"),l=n("jrRI"),i=n("3OM0"),c=n("TSYQ"),u=n.n(c),s=n("sPdi"),d=n("17x9"),p=n.n(d),f=n("9Koi");function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,o=!1,r=void 0;try{for(var l,i=e[Symbol.iterator]();!(a=(l=i.next()).done)&&(n.push(l.value),!t||n.length!==t);a=!0);}catch(e){o=!0,r=e}finally{try{a||null==i.return||i.return()}finally{if(o)throw r}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O={control:function(e){return v(v({},e),{},{"&, &:hover, &:focus":{borderColor:"#ced4da",boxShadow:"none"}})}};function _(e){var t,n,c=e.id,d=e.label,p=e.errors,b=e.loadOptions,h=e.loadValue,v=e.name,y=e.setFieldValue,_=e.setFieldLabel,j=e.value,E=e.className,w=e.placeholder,S=e.isClearable,C=e.selectOptions,q=g(Object(a.useState)(null),2),V=q[0],k=q[1],P=Object(f.a)().t;return Object(a.useEffect)((function(){j&&!V&&h(j).then((function(e){k(e)}))}),[h,V,j]),o.a.createElement(l.a,{className:u()(E)},!1===d?null:o.a.createElement(i.a,{htmlFor:c},d),o.a.createElement(r.a,m({},C,{cacheOptions:!0,defaultOptions:!0,loadOptions:b,onChange:function(e){y(v,e?e.value:null),_&&_(e?e.label:null),k(e)},value:j?V:null,isClearable:S,className:u()({"is-invalid":!!(null===(t=p[v])||void 0===t?void 0:t.length)}),placeholder:w||P("common.default-select-placeholder"),styles:O})),(null===(n=p[v])||void 0===n?void 0:n.length)?o.a.createElement(s.a,{errors:p[v]}):null)}_.defaultProps={isClearable:!0},_.propTypes={errors:p.a.object.isRequired,id:p.a.oneOfType([p.a.string,p.a.number]),value:p.a.oneOfType([p.a.string,p.a.number]),label:p.a.any.isRequired,name:p.a.string.isRequired,setFieldValue:p.a.func.isRequired,setFieldLabel:p.a.func,loadOptions:p.a.func.isRequired,loadValue:p.a.func.isRequired,className:p.a.string,placeholder:p.a.string,isClearable:p.a.bool,selectOptions:p.a.object}},Cs6D:function(e,t,n){"use strict";var a=n("q1tI"),o=n.n(a),r=n("Wwog"),l=n("qKvR"),i=(n("i8i4"),n("17x9"),n("njTy")),c=(n("iYmT"),n("FUBA"),n("1m/E")),u=n("TqVZ");a.Component;var s=Object(c.a)(i.a);t.a=s},QDav:function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var a=n("q1tI"),o=n.n(a),r=(n("qKvR"),n("i8i4"),n("17x9"),n("q/f6")),l=n("njTy"),i=(n("iYmT"),n("FUBA"),n("1m/E"));function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var u={cacheOptions:!1,defaultOptions:!1,filterOption:null,isLoading:!1},s=function(e){var t,n;return n=t=function(t){var n,a;function l(e){var n;return(n=t.call(this)||this).select=void 0,n.lastRequest=void 0,n.mounted=!1,n.optionsCache={},n.handleInputChange=function(e,t){var a=n.props,o=a.cacheOptions,l=a.onInputChange,i=Object(r.k)(e,t,l);if(!i)return delete n.lastRequest,void n.setState({inputValue:"",loadedInputValue:"",loadedOptions:[],isLoading:!1,passEmptyOptions:!1});if(o&&n.optionsCache[i])n.setState({inputValue:i,loadedInputValue:i,loadedOptions:n.optionsCache[i],isLoading:!1,passEmptyOptions:!1});else{var c=n.lastRequest={};n.setState({inputValue:i,isLoading:!0,passEmptyOptions:!n.state.loadedInputValue},(function(){n.loadOptions(i,(function(e){n.mounted&&(e&&(n.optionsCache[i]=e),c===n.lastRequest&&(delete n.lastRequest,n.setState({isLoading:!1,loadedInputValue:i,loadedOptions:e||[],passEmptyOptions:!1})))}))}))}return i},n.state={defaultOptions:Array.isArray(e.defaultOptions)?e.defaultOptions:void 0,inputValue:void 0!==e.inputValue?e.inputValue:"",isLoading:!0===e.defaultOptions,loadedOptions:[],passEmptyOptions:!1},n}a=t,(n=l).prototype=Object.create(a.prototype),n.prototype.constructor=n,n.__proto__=a;var i=l.prototype;return i.componentDidMount=function(){var e=this;this.mounted=!0;var t=this.props.defaultOptions,n=this.state.inputValue;!0===t&&this.loadOptions(n,(function(t){if(e.mounted){var n=!!e.lastRequest;e.setState({defaultOptions:t||[],isLoading:n})}}))},i.UNSAFE_componentWillReceiveProps=function(e){e.cacheOptions!==this.props.cacheOptions&&(this.optionsCache={}),e.defaultOptions!==this.props.defaultOptions&&this.setState({defaultOptions:Array.isArray(e.defaultOptions)?e.defaultOptions:void 0})},i.componentWillUnmount=function(){this.mounted=!1},i.focus=function(){this.select.focus()},i.blur=function(){this.select.blur()},i.loadOptions=function(e,t){var n=this.props.loadOptions;if(!n)return t();var a=n(e,t);a&&"function"==typeof a.then&&a.then(t,(function(){return t()}))},i.render=function(){var t=this,n=this.props,a=(n.loadOptions,n.isLoading),r=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(n,["loadOptions","isLoading"]),l=this.state,i=l.defaultOptions,u=l.inputValue,s=l.isLoading,d=l.loadedInputValue,p=l.loadedOptions,f=l.passEmptyOptions?[]:u&&d?p:i||[];return o.a.createElement(e,c({},r,{ref:function(e){t.select=e},options:f,isLoading:s||a,onInputChange:this.handleInputChange}))},l}(a.Component),t.defaultProps=u,n},d=Object(i.a)(l.a),p=s(d);t.a=p},YN8i:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a=n("q1tI"),o=n.n(a),r=n("17x9"),l=n.n(r),i=n("9Koi"),c=n("Ty5D"),u=n("nc57"),s=n("6Rhw"),d=n("x37D"),p=n("Buep"),f=n("MwQV");function m(e){return new Promise((function(t){f.a.call("get","/methods/google-services/company-google-accounts/".concat(e)).data((function(e){t({label:e.email,value:e.id})}))}))}function g(){return new Promise((function(e){f.a.call("get","/methods/google-services/search-company-google-accounts").data((function(t){e(t.map((function(e){return{label:e.email,value:e.id}})))}))}))}function b(e){return function(t){return new Promise((function(n){f.a.call("get","/methods/google-services/sheets/".concat(e,"/spreadsheets/").concat(t,"/")).data((function(e){n({label:e.title,value:e.id})}))}))}}var h=n("8WGv");function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,o=!1,r=void 0;try{for(var l,i=e[Symbol.iterator]();!(a=(l=i.next()).done)&&(n.push(l.value),!t||n.length!==t);a=!0);}catch(e){o=!0,r=e}finally{try{a||null==i.return||i.return()}finally{if(o)throw r}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function O(e){var t,n=e.values,r=e.errors,l=e.setFieldValue,c=Object(i.a)().t,u=v(Object(a.useState)([]),2),s=u[0],d=u[1],y=n.sheet_id,O=n.company_google_account_id;return Object(a.useEffect)((function(){y&&f.a.call("get","/methods/google-services/sheets/".concat(O,"/spreadsheets/").concat(y,"/pages")).data((function(e){d(e.map((function(e){return{label:e.name,value:e.name}})))}))}),[y,O]),o.a.createElement(o.a.Fragment,null,o.a.createElement(p.a,{loadValue:m,setFieldValue:function(e,t){l(e,t),l("sheet_id",null),l("page_name",null),d([])},loadOptions:g,value:n.company_google_account_id,name:"company_google_account_id",label:c("shop.catalog.create-page.google-account-id-label"),errors:r}),n.company_google_account_id?o.a.createElement(p.a,{loadValue:b(n.company_google_account_id),setFieldValue:function(e,t){l(e,t),l("page_name",null),t?(f.a.call("get","/methods/google-services/sheets/".concat(n.company_google_account_id,"/spreadsheets/").concat(t,"/pages")).data((function(e){d(e.map((function(e){return{label:e.name,value:e.name}})))})),b(n.company_google_account_id)(t).then((function(e){l("google_table_name",e.label)}))):(d([]),l("google_table_name",""))},loadOptions:(t=n.company_google_account_id,function(){return new Promise((function(e){f.a.call("get","/methods/google-services/sheets/".concat(t)).data((function(t){e(t.map((function(e){return{label:e.name,value:e.id}})))}))}))}),value:n.sheet_id,name:"sheet_id",label:c("shop.catalog.create-page.google-sheet-id-label"),errors:r}):null,n.company_google_account_id&&n.sheet_id&&s.length?o.a.createElement(h.a,{id:"page_name",key:"".concat(n.company_google_account_id,"-").concat(n.sheet_id),label:c("shop.catalog.create-page.google-sheet-page-label"),name:"page_name",value:n.page_name,setFieldValue:function(e,t){l(e,t)},options:s,errors:r}):null)}function _(e){var t=e.handleChange,n=e.handleBlur,a=e.values,r=e.errors,l=Object(i.a)().t;return o.a.createElement(s.a,{className:"limiter",id:"fb_token",name:"fb_token",label:l("shop.catalog.create-page.fb-token-label"),placeholder:l("shop.catalog.create-page.fb-token-placeholder"),onChange:t,onBlur:n,value:a.fb_token,errors:r})}function j(e){var t=e.initialFormData,n=e.submitData,r=Object(i.a)().t,l=v(Object(a.useState)(!1),2),p=l[0],f=l[1],m=Object(a.useCallback)((function(e,t){var a=t.setSubmitting,o=t.setErrors;n(e,{setSubmitting:a,setErrors:o,setRedirect:f})}),[n,f]);return p?o.a.createElement(c.a,{to:"/product-catalogs/1"}):o.a.createElement(u.a,{initialValues:t,handleSubmit:m,renderForm:function(e){var t=e.handleChange,n=e.handleBlur,a=e.values,l=e.errors,i=e.isSubmitting,c=e.setFieldValue;return o.a.createElement(o.a.Fragment,null,o.a.createElement(s.a,{className:"limiter",id:"name",name:"name",label:r("shop.catalog.create-page.name-label"),placeholder:r("shop.catalog.create-page.name-placeholder"),onChange:t,onBlur:n,value:a.name,errors:l}),o.a.createElement(s.a,{className:"limiter",id:"name",name:"facebook_catalog_id",label:r("shop.catalog.create-page.facebook-catalog-id-label"),placeholder:r("shop.catalog.create-page.facebook-catalog-id-placeholder"),onChange:t,onBlur:n,value:a.facebook_catalog_id,errors:l}),o.a.createElement(_,{handleChange:t,handleBlur:n,values:a,errors:l,isSubmitting:i,setFieldValue:c}),o.a.createElement(O,{handleChange:t,handleBlur:n,values:a,errors:l,isSubmitting:i,setFieldValue:c}),o.a.createElement(d.a,{className:"pt-2 px-4 mt-3 mb-5",disabled:i},r("common.saveBtnText")))}})}j.propTypes={initialFormData:l.a.object.isRequired,submitData:l.a.func.isRequired}},bhnu:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return b}));var a=n("q1tI"),o=n.n(a),r=n("MwQV"),l=n("vDqi"),i=n.n(l),c=n("Ty5D"),u=n("TtP3"),s=n("dbgk"),d=n("9Koi"),p=n("h4JF"),f=n("YN8i");function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,o=!1,r=void 0;try{for(var l,i=e[Symbol.iterator]();!(a=(l=i.next()).done)&&(n.push(l.value),!t||n.length!==t);a=!0);}catch(e){o=!0,r=e}finally{try{a||null==i.return||i.return()}finally{if(o)throw r}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function b(){var e=Object(d.a)().t,t=Object(c.j)().id,n=m(Object(a.useState)(null),2),l=n[0],g=n[1];Object(a.useEffect)((function(){var e=i.a.CancelToken.source();return r.a.call("get","/methods/product-catalogs/".concat(t),{},{},{cancelToken:e.token}).then((function(e){g(e.data)})),function(){e.cancel()}}),[t,g]);var b,h=Object(a.useCallback)((function(e,n){var a=n.setSubmitting,o=n.setErrors,l=n.setRedirect,i={name:e.name,company_google_account_id:e.company_google_account_id,sheet_id:e.sheet_id,google_table_name:e.google_table_name,page_name:e.page_name,facebook_catalog_id:e.facebook_catalog_id,fb_token:e.fb_token};r.a.call("patch","/methods/product-catalogs/".concat(t),{},i).data((function(){l(!0)})).validation((function(e,t){o(t)})).finally((function(){a(!1)}))}),[t]);return b=l?o.a.createElement(f.a,{initialFormData:{name:l.name,facebook_catalog_id:l.facebook_catalog_id,fb_token:l.fb_token,google_table_name:l.google_table_name,company_google_account_id:l.company_google_account_id,sheet_id:l.sheet_id,page_name:l.page_name},submitData:h}):o.a.createElement(p.a,null),o.a.createElement(u.a,null,o.a.createElement(s.a,null,e("shop.catalog.edit-page.title")),b)}},dbgk:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("q1tI"),o=n.n(a),r=n("17x9"),l=n.n(r);function i(e){var t=e.children;return o.a.createElement("h1",{className:"title-main mb-3"},t)}i.propTypes={children:l.a.any.isRequired}}}]);