(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"/kxI":function(e,t,n){"use strict";var a=n("wx14"),r=n("zLVn"),o=n("q1tI"),i=n.n(o),c=n("17x9"),l=n.n(c),s=n("TSYQ"),u=n.n(s),m=n("33Jr"),f={tag:m.q,className:l.a.string,cssModule:l.a.object,innerRef:l.a.oneOfType([l.a.object,l.a.string,l.a.func])},d=function(e){var t=e.className,n=e.cssModule,o=e.innerRef,c=e.tag,l=Object(r.a)(e,["className","cssModule","innerRef","tag"]),s=Object(m.m)(u()(t,"card-body"),n);return i.a.createElement(c,Object(a.a)({},l,{className:s,ref:o}))};d.propTypes=f,d.defaultProps={tag:"div"},t.a=d},"9Wsk":function(e,t,n){"use strict";var a=n("4Jst"),r=n("q1tI"),o=n("2k+j"),i=n("wBLH"),c=n("HhE6"),l=n("vfse"),s=(n("yUKz"),n("cO97"),n("SKuE"),n("/ouT"),n("g/0L"),n("9IRi"),n("ROju"),n("EPfG"),n("5KkY"),n("qEaO"),n("X4k0"),n("i8i4"),n("y74/"),Object(r.forwardRef)((function(e,t){var n=Object(i.a)(e),s=Object(c.a)(n),u=Object(l.a)(s);return r.createElement(o.a,Object(a.a)({ref:t},u))})));t.a=s},"9qca":function(e,t,n){"use strict";var a=n("q1tI"),r=n.n(a),o=n("17x9"),i=n.n(o),c=n("FrZM"),l=n("sOKU"),s=n("L3zb"),u=n("k/iu"),m=n("9Koi"),f=n("Mpt7"),d=n("MwQV");function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function g(e){var t=e.attachment,n=e.handleChange,o=Object(m.a)().t,i=b(Object(a.useState)(!!t&&t.get("type")===c.a),2),p=i[0],g=i[1];return r.a.createElement("div",{className:"limiter form-group 3"},r.a.createElement("div",null,r.a.createElement(l.a,{className:"mr-2 mb-4 px-sm-5 px-4",outline:p,onClick:function(){return g(!1)},color:p?"secondary":"primary"},o("chatbot.edit.attachment-file")),r.a.createElement(l.a,{className:"mr-2 mb-4 px-sm-5 px-4",outline:!p,onClick:function(){return g(!0)},color:p?"primary":"secondary"},o("chatbot.edit.attachment-url"))),r.a.createElement("div",{className:"mb-4"},p?r.a.createElement(s.a,{onChange:function(e){var t=Object(f.b)({type:c.a,url:e.target.value});n(t)},defaultValue:t?t.get("url",""):"",placeholder:o("chatbot.edit.attachment-url-input")}):r.a.createElement("div",null,r.a.createElement(u.a,{onChange:function(e){var t=new FormData;return t.append("file",e.target.files[0]),d.a.call("post","/methods/chat-bots/attachment",{},t).data((function(e){n(Object(f.b)(e))}))},name:"customFile",label:o("chatbot.edit.attachment-file-input"),id:"attachment-file"}))),r.a.createElement("div",null,t?r.a.createElement(c.b,{attachment:t}):null))}g.propTypes={attachment:i.a.instanceOf(f.b),handleChange:i.a.func.isRequired},t.a=g},BLzl:function(e,t,n){"use strict";var a=n("wx14"),r=n("zLVn"),o=n("q1tI"),i=n.n(o),c=n("17x9"),l=n.n(c),s=n("TSYQ"),u=n.n(s),m=n("33Jr"),f={tag:m.q,inverse:l.a.bool,color:l.a.string,body:l.a.bool,outline:l.a.bool,className:l.a.string,cssModule:l.a.object,innerRef:l.a.oneOfType([l.a.object,l.a.string,l.a.func])},d=function(e){var t=e.className,n=e.cssModule,o=e.color,c=e.body,l=e.inverse,s=e.outline,f=e.tag,d=e.innerRef,b=Object(r.a)(e,["className","cssModule","color","body","inverse","outline","tag","innerRef"]),p=Object(m.m)(u()(t,"card",!!l&&"text-white",!!c&&"card-body",!!o&&(s?"border":"bg")+"-"+o),n);return i.a.createElement(f,Object(a.a)({},b,{className:p,ref:d}))};d.propTypes=f,d.defaultProps={tag:"div"},t.a=d},FrZM:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n("q1tI"),r=n.n(a),o=n("Mpt7"),i=n("17x9"),c=n.n(i),l=n("ma3e"),s=n("Gv9V"),u=6;function m(e){var t=e.attachment,n=t.get("type"),a=t.get("url");if(!a||a.startsWith("sticker::"))return null;if(/\{@[\w\d]*}/.test(a))return r.a.createElement(l.D,null);switch(n){case u:return r.a.createElement("embed",{key:a,className:"attachment-preview",src:a,type:""});case 2:return r.a.createElement(l.D,null);case 1:return r.a.createElement("img",{className:"attachment-preview",src:a});case 7:return r.a.createElement("video",{controls:!0,className:"attachment-preview"},r.a.createElement("source",{src:a}));case 9:return r.a.createElement(s.a,{url:a})}return null}t.b=m,m.propTypes={attachment:c.a.instanceOf(o.b).isRequired}},Gv9V:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n("q1tI"),r=n.n(a),o=n("17x9"),i=n.n(o),c=n("ma3e");function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function u(e){var t=e.url,n=Object(a.useRef)(),o=l(Object(a.useState)(!1),2),i=o[0],s=o[1];Object(a.useEffect)((function(){var e=n.current;s(!e.paused),e.onended=function(){s(!1)}}),[]);return r.a.createElement("div",null,r.a.createElement("button",{type:"button",onClick:function(){var e=n.current;e.paused?e.play():(e.pause(),e.currentTime=0),s(!e.paused)},className:"btn btn-outline-dark"},i?r.a.createElement(c.pb,null):r.a.createElement(c.V,null)),r.a.createElement("audio",{ref:n,src:t,controls:!0,className:"d-none"}))}u.propTypes={url:i.a.string.isRequired}},PLmP:function(e,t,n){"use strict";let a=/(-?(?:\d+\.?\d*|\d*\.?\d+)(?:e[-+]?\d+)?)\s*([\p{L}]*)/giu;function r(e="",t="ms"){var n=null;return(e=(e+"").replace(/(\d)[,_](\d)/g,"$1$2")).replace(a,(function(e,t,a){(a=o(a))&&(n=(n||0)+parseFloat(t,10)*a)})),n&&n/(o(t)||1)}function o(e){return r[e]||r[e.toLowerCase().replace(/s$/,"")]}r.nanosecond=r.ns=1e-6,r["µs"]=r["μs"]=r.us=r.microsecond=.001,r.millisecond=r.ms=r[""]=1,r.second=r.sec=r.s=1e3*r.ms,r.minute=r.min=r.m=60*r.s,r.hour=r.hr=r.h=60*r.m,r.day=r.d=24*r.h,r.week=r.wk=r.w=7*r.d,r.month=r.b=30.4375*r.d,r.year=r.yr=r.y=365.25*r.d,t.a=r},R5y6:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a=n("q1tI"),r=n.n(a),o=n("Vy9V"),i=n("9Wsk"),c=n("jrRI"),l=n("3OM0"),s=n("TSYQ"),u=n.n(s),m=n("sPdi"),f=n("17x9"),d=n.n(f),b=n("9Koi");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v={control:function(e){return g(g({},e),{},{"&, &:hover, &:focus":{borderColor:"#ced4da",boxShadow:"none"}})},menu:function(e){return g(g({},e),{},{zIndex:10})}};function y(e){var t,n,a=e.id,s=e.label,f=e.errors,d=e.loadOptions,p=e.name,g=e.setFieldValue,h=e.handleBlur,y=e.value,O=e.className,j=e.labelClass,w=e.placeholder,E=e.isClearable,C=e.cacheOptions,S=e.isMulti,k=e.isDisabled,R=e.defaultOptions,N=Object(b.a)().t,q=E?i.a:o.a;return r.a.createElement(c.a,{className:u()(O)},r.a.createElement(l.a,{className:u()(j),htmlFor:a},s),r.a.createElement(q,{cacheOptions:C,defaultOptions:R,loadOptions:d,onChange:function(e){g(p,e)},value:y,isClearable:E,className:u()({"is-invalid":!!(null===(t=f[p])||void 0===t?void 0:t.length)}),placeholder:w||N("common.default-select-placeholder"),styles:v,isMulti:S,isDisabled:k,onBlur:h}),(null===(n=f[p])||void 0===n?void 0:n.length)?r.a.createElement(m.a,{errors:f[p]}):null)}y.defaultProps={isClearable:!0,cacheOptions:!0,defaultOptions:!0},y.propTypes={errors:d.a.object.isRequired,id:d.a.oneOfType([d.a.string,d.a.number]),value:d.a.oneOfType([d.a.shape({label:d.a.string,value:d.a.oneOfType([d.a.string,d.a.number])}),d.a.array]),label:d.a.any.isRequired,name:d.a.string.isRequired,handleBlur:d.a.func,setFieldValue:d.a.func.isRequired,loadOptions:d.a.func.isRequired,className:d.a.string,labelClass:d.a.string,placeholder:d.a.string,isClearable:d.a.bool,isMulti:d.a.bool,isDisabled:d.a.bool,cacheOptions:d.a.bool,defaultOptions:d.a.oneOfType([d.a.bool,d.a.array])}},UiJU:function(e,t,n){"use strict";var a=n("o0o1"),r=n.n(a),o=n("q1tI"),i=n.n(o),c=n("17x9"),l=n.n(c),s=n("nc57"),u=n("6Rhw"),m=n("x37D"),f=n("9Koi"),d=n("ok1R"),b=n("rhny"),p=n("sOKU"),g=n("ma3e"),h=n("CXWj"),v=n("BLzl"),y=n("/kxI"),O=n("+z1p"),j=n("AEIT"),w=n("jrRI"),E=n("BAJy"),C=n("3OM0"),S=n("9qca");function k(e){return function(e){if(Array.isArray(e))return R(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var N={toolbar:["bold","italic","underline","link","bulletedList","numberedList","undo","redo"],mention:{feeds:[{marker:"@",feed:function(e){return Promise.resolve([{id:"@".concat(e)}].concat(k([{id:"@first_name"},{id:"@last_name"},{id:"@email"},{id:"@phone_number"}].filter((function(t){return t.id.toLowerCase().includes(e.toLowerCase())})))))}}]}};function q(e){var t=e.item,n=e.onItemChange,a=e.onRemove,r=e.index,o=e.errors,c=Object(f.a)().t;return i.a.createElement(v.a,{className:"mb-2"},i.a.createElement(y.a,null,i.a.createElement(d.a,null,i.a.createElement(b.a,{sm:12,md:6},i.a.createElement(w.a,null,i.a.createElement(C.a,null,c("campaigns.form.message-text-label")),i.a.createElement(j.CKEditor,{editor:O.ClassicEditor,data:t.get("text"),onChange:function(e,a){n(t.set("text",a.getData()))},placeholder:c("campaigns.form.message-text-placeholder"),config:N})),i.a.createElement(w.a,null,i.a.createElement(C.a,null,c("campaigns.form.message-attachment-label")),i.a.createElement(S.a,{attachment:t.get("attachment"),handleChange:function(e){n(t.set("attachment",e))}}))),i.a.createElement(b.a,{sm:12,md:6},i.a.createElement(u.a,{className:"mr-sm-3 mr-2",id:"messages.".concat(r,".trigger"),name:"messages.".concat(r,".trigger"),label:c("campaigns.form.message-trigger-label"),placeholder:c("campaigns.form.message-trigger-placeholder"),value:t.get("trigger"),onChange:function(e){n(t.set("trigger",e.target.value))},errors:o}),i.a.createElement(u.a,{className:"mr-sm-3 mr-2",id:"messages.".concat(r,".delay"),name:"messages.".concat(r,".delay"),label:c("campaigns.form.message-delay-label"),placeholder:c("campaigns.form.message-delay-placeholder"),value:t.get("delay"),onChange:function(e){n(t.set("delay",e.target.value))},errors:o})),i.a.createElement(b.a,{sm:12},k(Array(7).keys()).map((function(e){var a;return i.a.createElement("span",{key:e},i.a.createElement(E.a,{id:"messages.".concat(r,".day-config.").concat(e),className:"day-select-btn",name:"messages.".concat(r,".day-config.").concat(e),type:"checkbox",checked:t.get("days_config").includes(e),onChange:function(a){if(+a.target.checked)n(t.set("days_config",t.get("days_config").push(e).sort()));else{var r=t.get("days_config").filter((function(t){return t!==e})).sort(),o=t.set("days_config",r);r.count()||(o=o.set("only_working_time",!1)),n(o)}},invalid:!!(null===(a=o[name])||void 0===a?void 0:a.length),label:c("common.daysOfWeek.".concat(e))}))}))),i.a.createElement(b.a,{sm:10},i.a.createElement(h.a,{id:"messages.".concat(r,".only_working_time"),name:"messages.".concat(r,".only_working_time"),label:c("campaigns.form.message-only-working-time-label"),disabled:!t.get("days_config").count(),value:t.get("only_working_time"),setFieldValue:function(e,a){n(t.set("only_working_time",a))},errors:o})),i.a.createElement(b.a,{sm:2,className:"text-right pt-2"},i.a.createElement("button",{className:"btn btn-link no-shadow",type:"button",onClick:a},i.a.createElement(g.yb,{className:"color-gray icon-size-20"}))))))}q.propTypes={item:l.a.object.isRequired,errors:l.a.object.isRequired,onItemChange:l.a.func.isRequired,onRemove:l.a.func.isRequired,index:l.a.number.isRequired};var x=q,I=n("R5y6"),A=n("MwQV");function P(e){return new Promise((function(t){A.a.call("get","/methods/time-zones/search",{q:e}).data((function(e){t(e.map((function(e){return{label:e.name,value:e.id}})))}))}))}function L(e){var t=e.handleBlur,n=e.values,a=e.errors,r=e.isSubmitting,o=e.handleNameChange,c=e.handleTimeZoneChange,l=e.handleMessageChange,s=e.handleClickRemoveMessage,g=e.handleClickAddMessage,h=Object(f.a)().t;return i.a.createElement(d.a,null,i.a.createElement(b.a,{md:12},i.a.createElement(u.a,{className:"limiter",id:"name",name:"name",label:h("campaigns.form.name-label"),placeholder:h("campaigns.form.name-placeholder"),onChange:o,onBlur:t,value:n.name,errors:a}),i.a.createElement(I.a,{className:"limiter",name:"timeZone",label:h("campaigns.form.time-zone-label"),value:n.timeZone,setFieldValue:c,errors:a,loadOptions:P,isMulti:!1,isClearable:!1}),i.a.createElement("div",null,n.messages.map((function(e,t){return i.a.createElement(x,{key:t,index:t,item:e,onItemChange:function(e){l(t,e)},onRemove:function(){return s(t)},errors:a})}))),i.a.createElement("div",{className:"text-right"},i.a.createElement(p.a,{className:"mb-3",type:"button",onClick:g},h("campaigns.form.add-message-btn")))),i.a.createElement(b.a,{sm:12},i.a.createElement(m.a,{className:"pt-2 px-4 mb-4",disabled:r},h("common.saveBtnText"))))}L.propTypes={handleMessageChange:l.a.func.isRequired,handleClickRemoveMessage:l.a.func.isRequired,handleClickAddMessage:l.a.func.isRequired,handleNameChange:l.a.func.isRequired,handleTimeZoneChange:l.a.func.isRequired,handleBlur:l.a.func.isRequired,values:l.a.object.isRequired,errors:l.a.object.isRequired,isSubmitting:l.a.bool,fromList:l.a.bool,calculation:l.a.bool};var M=L,T=n("Mpt7"),V=n("PLmP"),_=n("sveX");function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function F(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){K(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function J(e,t,n,a,r,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(a,r)}function W(e){var t=e.initialData,n=e.handleSubmit,a=e.afterSave,c=e.fromFilters,l=Object(o.useCallback)(function(){var e,t=(e=r.a.mark((function e(t,o){var i,c,l,s,u,m,f;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=t.messages?t.messages.toJS():[],c=[],l=U(i),e.prev=3,l.s();case 5:if((s=l.n()).done){e.next=16;break}if(!(u=s.value).attachment||u.attachment.id){e.next=12;break}return e.next=10,Object(_.a)(u.attachment);case 10:m=e.sent,u.attachment=m.data;case 12:u.attachment&&(u.attachment_id=u.attachment.id),c.push(u);case 14:e.next=5;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(3),l.e(e.t0);case 21:return e.prev=21,l.f(),e.finish(21);case 24:f={name:t.name||null,timeZone:t.timeZone?t.timeZone.value:null,messages:c.map((function(e){return B(B({},e),{},{delay:""!==e.delay?Object(V.a)(e.delay)/6e4:null})}))},n(f).data((function(e){o.setSubmitting(!1),a(e)})).validation((function(e,t){o.setErrors(t),o.setSubmitting(!1)})).catch((function(){o.setSubmitting(!1)}));case 26:case"end":return e.stop()}}),e,null,[[3,18,21,24]])})),function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){J(o,a,r,i,c,"next",e)}function c(e){J(o,a,r,i,c,"throw",e)}i(void 0)}))});return function(e,n){return t.apply(this,arguments)}}(),[n,a]);return i.a.createElement(s.a,{initialValues:t,handleSubmit:l,renderForm:function(e){var t=e.setFieldValue,n=e.handleChange,a=e.values,r=e.errors,o=e.setErrors,l=F(e,["setFieldValue","handleChange","values","errors","setErrors"]);return i.a.createElement(M,D({},l,{errors:r,setErrors:o,values:a,fromList:c,handleNameChange:function(e){n(e),t("isNameChanged",!!e.target.value)},handleTimeZoneChange:function(e,n){t(e,n)},handleClickRemoveMessage:function(e){var n=B({},r);n.messages&&delete n.messages,o(n),t("messages",a.messages.delete(e))},handleMessageChange:function(e,n){t("messages",a.messages.set(e,n))},handleClickAddMessage:function(){t("messages",a.messages.push(Object(T.b)({text:"",trigger:"",only_working_time:0,delay:"",days_config:Object(T.a)([0,1,2,3,4,5,6])})))}}))}})}W.propTypes={initialData:l.a.object.isRequired,handleSubmit:l.a.func.isRequired,afterSave:l.a.func.isRequired,fromFilters:l.a.bool};t.a=W},Vy9V:function(e,t,n){"use strict";var a=n("4Jst"),r=n("q1tI"),o=n("2k+j"),i=n("HhE6"),c=n("wBLH"),l=(n("yUKz"),n("cO97"),n("SKuE"),n("/ouT"),n("g/0L"),n("9IRi"),n("ROju"),n("EPfG"),n("5KkY"),n("qEaO"),n("X4k0"),n("i8i4"),n("y74/"),Object(r.forwardRef)((function(e,t){var n=Object(c.a)(e),l=Object(i.a)(n);return r.createElement(o.a,Object(a.a)({ref:t},l))})));t.a=l},sveX:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("MwQV");function r(e){return a.a.call("post","/methods/chat-bots/attachment",{},e)}},vfse:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n("Gyn+"),r=n("XvEU"),o=n("wRwD"),i=n("q1tI"),c=n("qvlS"),l=n("2k+j"),s=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,a=String(e).toLowerCase(),r=String(n.getOptionValue(t)).toLowerCase(),o=String(n.getOptionLabel(t)).toLowerCase();return r===a||o===a},m={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,t,n,a){return!(!e||t.some((function(t){return u(e,t,a)}))||n.some((function(t){return u(e,t,a)})))},getNewOptionData:function(e,t){return{label:t,value:e,__isNew__:!0}}};function f(e){var t=e.allowCreateWhileLoading,n=void 0!==t&&t,u=e.createOptionPosition,f=void 0===u?"last":u,d=e.formatCreateLabel,b=void 0===d?m.formatCreateLabel:d,p=e.isValidNewOption,g=void 0===p?m.isValidNewOption:p,h=e.getNewOptionData,v=void 0===h?m.getNewOptionData:h,y=e.onCreateOption,O=e.options,j=void 0===O?[]:O,w=e.onChange,E=Object(o.a)(e,s),C=E.getOptionValue,S=void 0===C?l.c:C,k=E.getOptionLabel,R=void 0===k?l.b:k,N=E.inputValue,q=E.isLoading,x=E.isMulti,I=E.value,A=E.name,P=Object(i.useMemo)((function(){return g(N,Object(c.i)(I),j,{getOptionValue:S,getOptionLabel:R})?v(N,b(N)):void 0}),[b,v,R,S,N,g,j,I]),L=Object(i.useMemo)((function(){return!n&&q||!P?j:"first"===f?[P].concat(Object(r.a)(j)):[].concat(Object(r.a)(j),[P])}),[n,f,q,P,j]),M=Object(i.useCallback)((function(e,t){if("select-option"!==t.action)return w(e,t);var n=Array.isArray(e)?e:[e];if(n[n.length-1]!==P)w(e,t);else if(y)y(N);else{var a=v(N,N),o={action:"create-option",name:A,option:a};w(Object(c.d)(x,[].concat(Object(r.a)(Object(c.i)(I)),[a]),a),o)}}),[v,N,x,A,P,y,w,I]);return Object(a.a)(Object(a.a)({},E),{},{options:L,onChange:M})}},wBLH:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n("ngzn"),r=n("Gyn+"),o=n("TRVv"),i=n("wRwD"),c=n("q1tI"),l=n("qvlS"),s=["defaultOptions","cacheOptions","loadOptions","options","isLoading","onInputChange","filterOption"];function u(e){var t=e.defaultOptions,n=void 0!==t&&t,u=e.cacheOptions,m=void 0!==u&&u,f=e.loadOptions;e.options;var d=e.isLoading,b=void 0!==d&&d,p=e.onInputChange,g=e.filterOption,h=void 0===g?null:g,v=Object(i.a)(e,s),y=v.inputValue,O=Object(c.useRef)(void 0),j=Object(c.useRef)(!1),w=Object(c.useState)(Array.isArray(n)?n:void 0),E=Object(o.a)(w,2),C=E[0],S=E[1],k=Object(c.useState)(void 0!==y?y:""),R=Object(o.a)(k,2),N=R[0],q=R[1],x=Object(c.useState)(!0===n),I=Object(o.a)(x,2),A=I[0],P=I[1],L=Object(c.useState)(void 0),M=Object(o.a)(L,2),T=M[0],V=M[1],_=Object(c.useState)([]),D=Object(o.a)(_,2),F=D[0],z=D[1],B=Object(c.useState)(!1),K=Object(o.a)(B,2),U=K[0],Z=K[1],J=Object(c.useState)({}),W=Object(o.a)(J,2),$=W[0],G=W[1],Q=Object(c.useState)(void 0),X=Object(o.a)(Q,2),H=X[0],Y=X[1],ee=Object(c.useState)(void 0),te=Object(o.a)(ee,2),ne=te[0],ae=te[1];m!==ne&&(G({}),ae(m)),n!==H&&(S(Array.isArray(n)?n:void 0),Y(n)),Object(c.useEffect)((function(){return j.current=!0,function(){j.current=!1}}),[]);var re=Object(c.useCallback)((function(e,t){if(!f)return t();var n=f(e,t);n&&"function"==typeof n.then&&n.then(t,(function(){return t()}))}),[f]);Object(c.useEffect)((function(){!0===n&&re(N,(function(e){j.current&&(S(e||[]),P(!!O.current))}))}),[]);var oe=Object(c.useCallback)((function(e,t){var n=Object(l.l)(e,t,p);if(!n)return O.current=void 0,q(""),V(""),z([]),P(!1),void Z(!1);if(m&&$[n])q(n),V(n),z($[n]),P(!1),Z(!1);else{var o=O.current={};q(n),P(!0),Z(!T),re(n,(function(e){j&&o===O.current&&(O.current=void 0,P(!1),V(n),z(e||[]),Z(!1),G(e?Object(r.a)(Object(r.a)({},$),{},Object(a.a)({},n,e)):$))}))}}),[m,re,T,$,p]),ie=U?[]:N&&T?F:C||[];return Object(r.a)(Object(r.a)({},v),{},{options:ie,isLoading:A||b,onInputChange:oe,filterOption:h})}}}]);