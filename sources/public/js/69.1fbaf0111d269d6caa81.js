(window.webpackJsonp=window.webpackJsonp||[]).push([[69],{"5+3T":function(e,t,n){"use strict";n.r(t);var a=n("q1tI"),r=n.n(a),c=n("dbgk"),l=n("TtP3"),i=n("MwQV"),u=n("Ty5D"),o=n("9Koi"),s=n("BLzl"),f=n("/kxI"),m=n("9Uk/"),b=n("Bg/h"),d=n("XgT/"),p=n("h4JF"),g=n("R5y6"),h=n("5f+b");function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,c=void 0;try{for(var l,i=e[Symbol.iterator]();!(a=(l=i.next()).done)&&(n.push(l.value),!t||n.length!==t);a=!0);}catch(e){r=!0,c=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw c}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}t.default=function(){var e=Object(o.a)().t,t=v(Object(m.a)(),2)[1],n=t.get("filters"),y=t.get("selected"),O=JSON.parse(n)||[],w=JSON.parse(y)||{},j=v(Object(a.useState)(null),2),S=j[0],E=j[1],k=v(Object(a.useState)(null),2),I=k[0],A=k[1],T=v(Object(a.useState)(null),2),J=T[0],N=T[1];Object(a.useEffect)((function(){i.a.call("get","/methods/campaigns/clients-from-filters",{filter:n,selected:y}).data((function(e){A(e)}))}),[n,y]),Object(a.useEffect)((function(){S&&i.a.call("get","/methods/campaigns/".concat(S)).catch((function(){E(null)}))}),[S]);var V,U=Object(a.useCallback)((function(e){return i.a.call("post","/methods/campaigns/".concat(S,"/subscribe"),{},e)}),[S]),x=Object(a.useCallback)((function(){N("/campaigns/1")}),[]);if(null!==J)return r.a.createElement(u.a,{to:J});if(S&&I){var C=Object(b.b)(I.clients);V=r.a.createElement(d.a,{afterSave:x,handleSubmit:U,fromFilters:!0,initialData:{filters:O,selected:w,clients:C,tags:[],integration:null}})}else V=S?r.a.createElement(p.a,null):r.a.createElement("div",null,r.a.createElement(g.a,{className:"limiter",id:"sendViaIntegration",name:"sendViaIntegration",label:e("campaigns.form.campaign-label"),value:S,setFieldValue:function(e,t){E(null==t?void 0:t.value)},loadOptions:h.a,errors:{}}));return r.a.createElement(l.a,null,r.a.createElement(c.a,null,e("campaigns.subscribe.title")),r.a.createElement(s.a,{className:"campaigns-view mb-4 shadow"},r.a.createElement(f.a,{className:"px-4 rounded"},V)))}},"5f+b":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("MwQV");function r(e){return new Promise((function(t){a.a.call("get","/methods/campaigns/search",{q:e}).data((function(e){t(e.map((function(e){return{label:e.name,value:e.id,client:e}})))}))}))}},"9Uk/":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("Ty5D");function r(){var e=Object(a.i)().search;return[e,new URLSearchParams(e)]}}}]);