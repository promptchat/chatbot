/*! For license information please see 29.6e72f3d1100253f62d43.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{"/Zzm":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("DCcX"),a=n("vkoW"),o=n("q1tI"),i=n.n(o),c=n("17x9"),l=n.n(c);function u(e){var t=e.close,n=e.chatBotId;return i.a.createElement(r.a,{isOpen:!0,size:"md",onRequestClose:t},i.a.createElement(a.a,{toggle:t},"Preview"),i.a.createElement("iframe",{style:{width:500,height:600},src:"/preview/".concat(n,"?embed=1")}))}u.propTypes={close:l.a.func.isRequired,chatBotId:l.a.number.isRequired}},"/kxI":function(e,t,n){"use strict";var r=n("wx14"),a=n("zLVn"),o=n("q1tI"),i=n.n(o),c=n("17x9"),l=n.n(c),u=n("TSYQ"),s=n.n(u),d=n("33Jr"),p={tag:d.q,className:l.a.string,cssModule:l.a.object,innerRef:l.a.oneOfType([l.a.object,l.a.string,l.a.func])},f=function(e){var t=e.className,n=e.cssModule,o=e.innerRef,c=e.tag,l=Object(a.a)(e,["className","cssModule","innerRef","tag"]),u=Object(d.m)(s()(t,"card-body"),n);return i.a.createElement(c,Object(r.a)({},l,{className:u,ref:o}))};f.propTypes=p,f.defaultProps={tag:"div"},t.a=f},"2Te1":function(e,t,n){"use strict";var r=n("wx14"),a=n("zLVn"),o=n("q1tI"),i=n.n(o),c=n("17x9"),l=n.n(c),u=n("TSYQ"),s=n.n(u),d=n("33Jr"),p={color:l.a.string,pill:l.a.bool,tag:d.q,innerRef:l.a.oneOfType([l.a.object,l.a.func,l.a.string]),children:l.a.node,className:l.a.string,cssModule:l.a.object},f=function(e){var t=e.className,n=e.cssModule,o=e.color,c=e.innerRef,l=e.pill,u=e.tag,p=Object(a.a)(e,["className","cssModule","color","innerRef","pill","tag"]),f=Object(d.m)(s()(t,"badge","badge-"+o,!!l&&"badge-pill"),n);return p.href&&"span"===u&&(u="a"),i.a.createElement(u,Object(r.a)({},p,{className:f,ref:c}))};f.propTypes=p,f.defaultProps={color:"secondary",pill:!1,tag:"span"},t.a=f},"4Oki":function(e,t,n){"use strict";var r=n("4Jst"),a=n("q1tI"),o=n("2k+j"),i=n("HhE6"),c=n("vfse"),l=(n("yUKz"),n("cO97"),n("SKuE"),n("/ouT"),n("g/0L"),n("9IRi"),n("ROju"),n("EPfG"),n("5KkY"),n("qEaO"),n("X4k0"),n("i8i4"),n("y74/"),Object(a.forwardRef)((function(e,t){var n=Object(i.a)(e),l=Object(c.a)(n);return a.createElement(o.a,Object(r.a)({ref:t},l))})));t.a=l},"5f+b":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("MwQV");function a(e){return new Promise((function(t){r.a.call("get","/methods/campaigns/search",{q:e}).data((function(e){t(e.map((function(e){return{label:e.name,value:e.id,client:e}})))}))}))}},"8N4D":function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.matchesSelector=d,t.matchesSelectorAndParentsTo=function(e,t,n){var r=e;do{if(d(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1},t.addEvent=function(e,t,n,r){if(!e)return;var a=l({capture:!0},r);e.addEventListener?e.addEventListener(t,n,a):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},t.removeEvent=function(e,t,n,r){if(!e)return;var a=l({capture:!0},r);e.removeEventListener?e.removeEventListener(t,n,a):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null},t.outerHeight=function(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,a.int)(n.borderTopWidth),t+=(0,a.int)(n.borderBottomWidth)},t.outerWidth=function(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,a.int)(n.borderLeftWidth),t+=(0,a.int)(n.borderRightWidth)},t.innerHeight=function(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,a.int)(n.paddingTop),t-=(0,a.int)(n.paddingBottom)},t.innerWidth=function(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,a.int)(n.paddingLeft),t-=(0,a.int)(n.paddingRight)},t.offsetXYFromParent=function(e,t,n){var r=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),a=(e.clientX+t.scrollLeft-r.left)/n,o=(e.clientY+t.scrollTop-r.top)/n;return{x:a,y:o}},t.createCSSTransform=function(e,t){var n=p(e,t,"px");return u({},(0,o.browserPrefixToKey)("transform",o.default),n)},t.createSVGTransform=function(e,t){return p(e,t,"")},t.getTranslation=p,t.getTouch=function(e,t){return e.targetTouches&&(0,a.findInArray)(e.targetTouches,(function(e){return t===e.identifier}))||e.changedTouches&&(0,a.findInArray)(e.changedTouches,(function(e){return t===e.identifier}))},t.getTouchIdentifier=function(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier},t.addUserSelectStyles=function(e){if(!e)return;var t=e.getElementById("react-draggable-style-el");t||((t=e.createElement("style")).type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t));e.body&&f(e.body,"react-draggable-transparent-selection")},t.removeUserSelectStyles=function(e){if(!e)return;try{if(e.body&&b(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{var t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}}catch(e){}},t.addClassName=f,t.removeClassName=b;var a=n("gbW8"),o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var c=a?Object.getOwnPropertyDescriptor(e,o):null;c&&(c.get||c.set)?Object.defineProperty(n,o,c):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n("Ga4A"));function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s="";function d(e,t){return s||(s=(0,a.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return(0,a.isFunction)(e[t])}))),!!(0,a.isFunction)(e[s])&&e[s](t)}function p(e,t,n){var r=e.x,a=e.y,o="translate(".concat(r).concat(n,",").concat(a).concat(n,")");if(t){var i="".concat("string"==typeof t.x?t.x:t.x+n),c="".concat("string"==typeof t.y?t.y:t.y+n);o="translate(".concat(i,", ").concat(c,")")+o}return o}function f(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function b(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}},"8WGv":function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("sPdi"),l=n("jrRI"),u=n("3OM0"),s=n("y2Vs"),d=n("TSYQ"),p=n.n(d),f=n("9Koi");function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h={control:function(e){return m(m({},e),{},{"&, &:hover, &:focus":{borderColor:"#ced4da",boxShadow:"none"}})}};function v(e){var t,n,r=e.id,o=e.label,i=e.errors,d=e.name,b=e.setFieldValue,m=e.options,g=e.value,v=e.className,y=e.placeholder,O=e.isClearable,E=e.isDisabled,j=Object(f.a)().t,w=m.find((function(e){return e.value===g}));return a.a.createElement(l.a,{className:p()(v)},a.a.createElement(u.a,{htmlFor:r},o),a.a.createElement(s.a,{id:r,name:d,isDisabled:E,onChange:function(e){return b(d,e?e.value:null)},options:m,value:w,isClearable:O,className:p()("select-field",{"is-invalid":!!(null===(t=i[d])||void 0===t?void 0:t.length)}),placeholder:y||j("common.default-select-placeholder"),styles:h}),(null===(n=i[d])||void 0===n?void 0:n.length)?a.a.createElement(c.a,{errors:i[d]}):null)}v.defaultProps={isClearable:!0},v.propTypes={errors:i.a.object.isRequired,id:i.a.oneOfType([i.a.string,i.a.number]),value:i.a.oneOfType([i.a.string,i.a.number]),label:i.a.any.isRequired,name:i.a.string.isRequired,setFieldValue:i.a.func.isRequired,options:i.a.array,className:i.a.string,placeholder:i.a.string,isClearable:i.a.bool,isDisabled:i.a.bool},t.a=a.a.memo(v)},"9Wsk":function(e,t,n){"use strict";var r=n("4Jst"),a=n("q1tI"),o=n("2k+j"),i=n("wBLH"),c=n("HhE6"),l=n("vfse"),u=(n("yUKz"),n("cO97"),n("SKuE"),n("/ouT"),n("g/0L"),n("9IRi"),n("ROju"),n("EPfG"),n("5KkY"),n("qEaO"),n("X4k0"),n("i8i4"),n("y74/"),Object(a.forwardRef)((function(e,t){var n=Object(i.a)(e),u=Object(c.a)(n),s=Object(l.a)(u);return a.createElement(o.a,Object(r.a)({ref:t},s))})));t.a=u},BLzl:function(e,t,n){"use strict";var r=n("wx14"),a=n("zLVn"),o=n("q1tI"),i=n.n(o),c=n("17x9"),l=n.n(c),u=n("TSYQ"),s=n.n(u),d=n("33Jr"),p={tag:d.q,inverse:l.a.bool,color:l.a.string,body:l.a.bool,outline:l.a.bool,className:l.a.string,cssModule:l.a.object,innerRef:l.a.oneOfType([l.a.object,l.a.string,l.a.func])},f=function(e){var t=e.className,n=e.cssModule,o=e.color,c=e.body,l=e.inverse,u=e.outline,p=e.tag,f=e.innerRef,b=Object(a.a)(e,["className","cssModule","color","body","inverse","outline","tag","innerRef"]),m=Object(d.m)(s()(t,"card",!!l&&"text-white",!!c&&"card-body",!!o&&(u?"border":"bg")+"-"+o),n);return i.a.createElement(p,Object(r.a)({},b,{className:m,ref:f}))};f.propTypes=p,f.defaultProps={tag:"div"},t.a=f},Buep:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var r=n("q1tI"),a=n.n(r),o=n("Vy9V"),i=n("jrRI"),c=n("3OM0"),l=n("TSYQ"),u=n.n(l),s=n("sPdi"),d=n("17x9"),p=n.n(d),f=n("9Koi");function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O={control:function(e){return v(v({},e),{},{"&, &:hover, &:focus":{borderColor:"#ced4da",boxShadow:"none"}})}};function E(e){var t,n,l=e.id,d=e.label,p=e.errors,g=e.loadOptions,h=e.loadValue,v=e.name,y=e.setFieldValue,E=e.setFieldLabel,j=e.value,w=e.className,T=e.placeholder,x=e.isClearable,k=e.selectOptions,S=m(Object(r.useState)(null),2),C=S[0],P=S[1],I=Object(f.a)().t;return Object(r.useEffect)((function(){j&&!C&&h(j).then((function(e){P(e)}))}),[h,C,j]),a.a.createElement(i.a,{className:u()(w)},!1===d?null:a.a.createElement(c.a,{htmlFor:l},d),a.a.createElement(o.a,b({},k,{cacheOptions:!0,defaultOptions:!0,loadOptions:g,onChange:function(e){y(v,e?e.value:null),E&&E(e?e.label:null),P(e)},value:j?C:null,isClearable:x,className:u()({"is-invalid":!!(null===(t=p[v])||void 0===t?void 0:t.length)}),placeholder:T||I("common.default-select-placeholder"),styles:O})),(null===(n=p[v])||void 0===n?void 0:n.length)?a.a.createElement(s.a,{errors:p[v]}):null)}E.defaultProps={isClearable:!0},E.propTypes={errors:p.a.object.isRequired,id:p.a.oneOfType([p.a.string,p.a.number]),value:p.a.oneOfType([p.a.string,p.a.number]),label:p.a.any,name:p.a.string.isRequired,setFieldValue:p.a.func.isRequired,setFieldLabel:p.a.func,loadOptions:p.a.func.isRequired,loadValue:p.a.func.isRequired,className:p.a.string,placeholder:p.a.string,isClearable:p.a.bool,selectOptions:p.a.object}},ChEw:function(e,t,n){"use strict";var r=n("wx14"),a=n("zLVn"),o=n("q1tI"),i=n.n(o),c=n("17x9"),l=n.n(c),u=n("TSYQ"),s=n.n(u),d=n("33Jr"),p={tag:d.q,className:l.a.string,cssModule:l.a.object},f=function(e){var t=e.className,n=e.cssModule,o=e.tag,c=Object(a.a)(e,["className","cssModule","tag"]),l=Object(d.m)(s()(t,"card-title"),n);return i.a.createElement(o,Object(r.a)({},c,{className:l}))};f.propTypes=p,f.defaultProps={tag:"div"},t.a=f},DMen:function(e,t,n){"use strict";n.d(t,"t",(function(){return b})),n.d(t,"u",(function(){return m})),n.d(t,"k",(function(){return g})),n.d(t,"j",(function(){return h})),n.d(t,"c",(function(){return v})),n.d(t,"l",(function(){return y})),n.d(t,"m",(function(){return O})),n.d(t,"g",(function(){return E})),n.d(t,"b",(function(){return j})),n.d(t,"q",(function(){return w})),n.d(t,"r",(function(){return T})),n.d(t,"e",(function(){return x})),n.d(t,"y",(function(){return k})),n.d(t,"w",(function(){return S})),n.d(t,"x",(function(){return C})),n.d(t,"s",(function(){return P})),n.d(t,"f",(function(){return I})),n.d(t,"h",(function(){return N})),n.d(t,"p",(function(){return R})),n.d(t,"D",(function(){return M})),n.d(t,"B",(function(){return _})),n.d(t,"n",(function(){return A})),n.d(t,"F",(function(){return D})),n.d(t,"C",(function(){return L})),n.d(t,"E",(function(){return q})),n.d(t,"z",(function(){return Y})),n.d(t,"A",(function(){return F})),n.d(t,"I",(function(){return V})),n.d(t,"G",(function(){return U})),n.d(t,"H",(function(){return B})),n.d(t,"v",(function(){return G})),n.d(t,"i",(function(){return H})),n.d(t,"a",(function(){return z})),n.d(t,"o",(function(){return X})),n.d(t,"d",(function(){return W}));var r=n("STRW"),a=n("MwQV"),o=n("c8c+"),i=n("Qu/B"),c=n("EW+5"),l=Object(c.a)(r.a),u=l.loading,s=l.itemsListLoaded,d=l.error,p=d,f=function(e){return{type:r.a.ITEM_LOADED,payload:e}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n){var r=n().chatbot.get("item");return a.a.call("patch","/methods/chat-bots/".concat(r.get("id")),{temporary:+e},r.toJSON())}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n){var r=n().chatbot.get("item");return a.a.call("patch","/methods/templates/".concat(r.get("id")),{temporary:+e},r.toJSON())}},g=function(e,t,n){return function(r){var c={page:e};t.size&&(c.filter=Object(o.a)(t)),n.size&&(c.order=Object(i.a)(n)),r(u()),a.a.call("get","/methods/chat-bots",c,{}).then((function(e){r(s({filters:t,sort:n,response:e}))})).catch((function(e){return r(d(e))}))}},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){n(u()),a.a.call("get","/methods/chat-bots/".concat(e),{temporary:+t}).data((function(e){n(f(e))})).catch((function(e){return n(d(e))}))}},v=function(e){return function(t){return a.a.call("get","/methods/chat-bots/".concat(e,"/pure-chat-bot")).data((function(e){t({type:r.a.APPLY_FROM_TEMPLATE,payload:{anchors:e.anchors,blocks:e.blocks}})})).catch((function(e){return t(p(e))}))}},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){n(u()),a.a.call("get","/methods/templates/".concat(e),{temporary:+t}).data((function(e){n(f(e))})).catch((function(e){return n(d(e))}))}},O=function(e){return{type:r.a.MOVE,payload:{position:e}}},E=function(e){return{type:r.a.NEW_BLOCK,payload:e}},j=function(){return{type:r.a.NEW_PAGE}},w=function(e){return{type:r.a.REMOVE_PAGE,payload:{page:e}}},T=function(e,t){return{type:r.a.RENAME_PAGE,payload:{page:e,name:t}}},x=function(e){return{type:r.a.CLONE_PAGE,payload:{page:e}}},k=function(e){return{type:r.a.SET_CURRENT_PAGE,payload:{page:e}}},S=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:r.a.SELECT,payload:{index:e,add:t}}},C=function(){return{type:r.a.SELECT_ALL,payload:{}}},P=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:r.a.RENDERED,payload:{id:e.toString(),onlySide:t}}},I=function(e){return{type:r.a.START_CONNECTION,payload:{state:e}}},N=function(e,t){return{type:r.a.CREATE_CONNECTION,payload:{from:e,to:t}}},R=function(e){return{type:r.a.REMOVE_CONNECTION,payload:{from:e}}},M=function(e){return{type:r.a.SET_SCALE,payload:{scale:e}}},_=function(e){return{type:r.a.CHANGE_NAME,payload:{name:e}}},A=function(e,t){return{type:r.a.PASTE,payload:{data:e,position:t}}},D=function(e){return{type:r.a.CHANGE_VARIABLES,payload:{variables:e}}},L=function(e){return{type:r.a.CHANGE_PREVIEW_IMAGE,payload:{name:e}}},q=function(e){return{type:r.a.CHANGE_TAGS,payload:{template_tags:e}}},Y=function(e){return{type:r.a.SET_EDIT,payload:{index:e&&e.toString()}}},F=function(e){return{type:r.a.SET_GROUP,payload:{index:e&&e.toString()}}},V=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return{type:r.a.UPDATE_EDIT,payload:{key:e,value:t,path:n}}},U=function(e,t){return{type:r.a.UPDATE_BLOCK,payload:{value:t,path:e}}},B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return{type:r.a.UPDATE_CARD_INDEX_EDIT,payload:{key:e,index:t}}},G=function(){return{type:r.a.SAVE_EDIT,payload:{}}},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:r.a.DELETE,payload:{id:e}}},z=function(){return{type:r.a.ADD_BUTTON,payload:{}}},X=function(e){return{type:r.a.REMOVE_BUTTON,payload:{index:e}}},W=function(e){return{type:r.a.CLONE,payload:{index:e}}}},FrZM:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("q1tI"),a=n.n(r),o=n("Mpt7"),i=n("17x9"),c=n.n(i),l=n("ma3e"),u=n("Gv9V"),s=6;function d(e){var t=e.attachment,n=t.get("type"),r=t.get("url");if(!r||r.startsWith("sticker::"))return null;if(/\{\@[\w\d]*\}/.test(r))return a.a.createElement(l.D,null);switch(n){case s:return a.a.createElement("embed",{key:r,className:"attachment-preview",src:r,type:""});case 2:return a.a.createElement(l.D,null);case 1:return a.a.createElement("img",{className:"attachment-preview",src:r});case 7:return a.a.createElement("video",{controls:!0,className:"attachment-preview"},a.a.createElement("source",{src:r}));case 9:return a.a.createElement(u.a,{url:r})}return null}t.b=d,d.propTypes={attachment:c.a.instanceOf(o.b).isRequired}},Ga4A:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPrefix=a,t.browserPrefixToKey=o,t.browserPrefixToStyle=function(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e},t.default=void 0;var r=["Moz","Webkit","O","ms"];function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window||void 0===window.document)return"";var t=window.document.documentElement.style;if(e in t)return"";for(var n=0;n<r.length;n++)if(o(e,r[n])in t)return r[n];return""}function o(e,t){return t?"".concat(t).concat(function(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}(e)):e}var i=a();t.default=i},Gv9V:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("ma3e");function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e){var t=e.url,n=Object(r.useRef)(),o=l(Object(r.useState)(!1),2),i=o[0],u=o[1];Object(r.useEffect)((function(){var e=n.current;u(!e.paused),e.onended=function(){u(!1)}}),[]);return a.a.createElement("div",null,a.a.createElement("button",{type:"button",onClick:function(){var e=n.current;e.paused?e.play():(e.pause(),e.currentTime=0),u(!e.paused)},className:"btn btn-outline-dark"},i?a.a.createElement(c.pb,null):a.a.createElement(c.V,null)),a.a.createElement("audio",{ref:n,src:t,controls:!0,className:"d-none"}))}s.propTypes={url:i.a.string.isRequired}},KDeF:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n("rePB"),a=n("wx14"),o=n("JX7q"),i=n("dI71"),c=n("q1tI"),l=n.n(c),u=n("17x9"),s=n.n(u),d=n("rWSr"),p=n("33Jr");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var b=["defaultOpen"],m=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={isOpen:t.defaultOpen||!1},n.toggle=n.toggle.bind(Object(o.a)(n)),n}Object(i.a)(t,e);var n=t.prototype;return n.toggle=function(){this.setState({isOpen:!this.state.isOpen})},n.render=function(){return l.a.createElement(d.a,Object(a.a)({isOpen:this.state.isOpen,toggle:this.toggle},Object(p.n)(this.props,b)))},t}(c.Component);m.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({defaultOpen:s.a.bool},d.a.propTypes)},LdVD:function(e,t,n){"use strict";var r=n("MwQV");t.a=function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(t){return new Promise((function(n){r.a.call("get","/methods/departments/search",{q:t}).data((function(t){var r=t.map((function(e){return{label:e.name,value:e.id}}));n(e.concat(r))}))}))}}()(e)}},MgzW:function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,c,l=i(e),u=1;u<arguments.length;u++){for(var s in n=Object(arguments[u]))a.call(n,s)&&(l[s]=n[s]);if(r){c=r(n);for(var d=0;d<c.length;d++)o.call(n,c[d])&&(l[c[d]]=n[c[d]])}}return l}},P2Na:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("MwQV");function a(e){var t=new FormData;return t.append("file",e),r.a.call("post","/methods/image",{},t)}},R155:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==p(e)&&"function"!=typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n("q1tI")),a=s(n("17x9")),o=s(n("i8i4")),i=n("8N4D"),c=n("fJi3"),l=n("gbW8"),u=s(n("sS6v"));function s(e){return e&&e.__esModule?e:{default:e}}function d(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var a=E(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?O(e):t}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w={start:"touchstart",move:"touchmove",stop:"touchend"},T={start:"mousedown",move:"mousemove",stop:"mouseup"},x=T,k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(s,e);var t,n,a,l=v(s);function s(){var e;m(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return j(O(e=l.call.apply(l,[this].concat(n))),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),j(O(e),"mounted",!1),j(O(e),"handleDragStart",(function(t){if(e.props.onMouseDown(t),!e.props.allowAnyClick&&"number"==typeof t.button&&0!==t.button)return!1;var n=e.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var r=n.ownerDocument;if(!(e.props.disabled||!(t.target instanceof r.defaultView.Node)||e.props.handle&&!(0,i.matchesSelectorAndParentsTo)(t.target,e.props.handle,n)||e.props.cancel&&(0,i.matchesSelectorAndParentsTo)(t.target,e.props.cancel,n))){"touchstart"===t.type&&t.preventDefault();var a=(0,i.getTouchIdentifier)(t);e.setState({touchIdentifier:a});var o=(0,c.getControlPosition)(t,a,O(e));if(null!=o){var l=o.x,s=o.y,d=(0,c.createCoreData)(O(e),l,s);(0,u.default)("DraggableCore: handleDragStart: %j",d),(0,u.default)("calling",e.props.onStart),!1!==e.props.onStart(t,d)&&!1!==e.mounted&&(e.props.enableUserSelectHack&&(0,i.addUserSelectStyles)(r),e.setState({dragging:!0,lastX:l,lastY:s}),(0,i.addEvent)(r,x.move,e.handleDrag),(0,i.addEvent)(r,x.stop,e.handleDragStop))}}})),j(O(e),"handleDrag",(function(t){var n=(0,c.getControlPosition)(t,e.state.touchIdentifier,O(e));if(null!=n){var r=n.x,a=n.y;if(Array.isArray(e.props.grid)){var o=r-e.state.lastX,i=a-e.state.lastY,l=f((0,c.snapToGrid)(e.props.grid,o,i),2);if(o=l[0],i=l[1],!o&&!i)return;r=e.state.lastX+o,a=e.state.lastY+i}var s=(0,c.createCoreData)(O(e),r,a);if((0,u.default)("DraggableCore: handleDrag: %j",s),!1!==e.props.onDrag(t,s)&&!1!==e.mounted)e.setState({lastX:r,lastY:a});else try{e.handleDragStop(new MouseEvent("mouseup"))}catch(t){var d=document.createEvent("MouseEvents");d.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.handleDragStop(d)}}})),j(O(e),"handleDragStop",(function(t){if(e.state.dragging){var n=(0,c.getControlPosition)(t,e.state.touchIdentifier,O(e));if(null!=n){var r=n.x,a=n.y,o=(0,c.createCoreData)(O(e),r,a);if(!1===e.props.onStop(t,o)||!1===e.mounted)return!1;var l=e.findDOMNode();l&&e.props.enableUserSelectHack&&(0,i.removeUserSelectStyles)(l.ownerDocument),(0,u.default)("DraggableCore: handleDragStop: %j",o),e.setState({dragging:!1,lastX:NaN,lastY:NaN}),l&&((0,u.default)("DraggableCore: Removing handlers"),(0,i.removeEvent)(l.ownerDocument,x.move,e.handleDrag),(0,i.removeEvent)(l.ownerDocument,x.stop,e.handleDragStop))}}})),j(O(e),"onMouseDown",(function(t){return x=T,e.handleDragStart(t)})),j(O(e),"onMouseUp",(function(t){return x=T,e.handleDragStop(t)})),j(O(e),"onTouchStart",(function(t){return x=w,e.handleDragStart(t)})),j(O(e),"onTouchEnd",(function(t){return x=w,e.handleDragStop(t)})),e}return t=s,(n=[{key:"componentDidMount",value:function(){this.mounted=!0;var e=this.findDOMNode();e&&(0,i.addEvent)(e,w.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.findDOMNode();if(e){var t=e.ownerDocument;(0,i.removeEvent)(t,T.move,this.handleDrag),(0,i.removeEvent)(t,w.move,this.handleDrag),(0,i.removeEvent)(t,T.stop,this.handleDragStop),(0,i.removeEvent)(t,w.stop,this.handleDragStop),(0,i.removeEvent)(e,w.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,i.removeUserSelectStyles)(t)}}},{key:"findDOMNode",value:function(){return this.props.nodeRef?this.props.nodeRef.current:o.default.findDOMNode(this)}},{key:"render",value:function(){return r.cloneElement(r.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}])&&g(t.prototype,n),a&&g(t,a),s}(r.Component);t.default=k,j(k,"displayName","DraggableCore"),j(k,"propTypes",{allowAnyClick:a.default.bool,disabled:a.default.bool,enableUserSelectHack:a.default.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:a.default.arrayOf(a.default.number),handle:a.default.string,cancel:a.default.string,nodeRef:a.default.object,onStart:a.default.func,onDrag:a.default.func,onStop:a.default.func,onMouseDown:a.default.func,scale:a.default.number,className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe}),j(k,"defaultProps",{allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},R2rE:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("q1tI"),a=n("/MKj");function o(e,t){var n=Object(r.useRef)(),o=Object(a.d)();Object(r.useEffect)((function(){return n.current=setInterval((function(){document.hasFocus()&&!e&&o(t(!0))}),15e3),function(){return clearInterval(n.current)}}),[o,e,t])}},R5y6:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n("q1tI"),a=n.n(r),o=n("Vy9V"),i=n("9Wsk"),c=n("jrRI"),l=n("3OM0"),u=n("TSYQ"),s=n.n(u),d=n("sPdi"),p=n("17x9"),f=n.n(p),b=n("9Koi");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v={control:function(e){return g(g({},e),{},{"&, &:hover, &:focus":{borderColor:"#ced4da",boxShadow:"none"}})},menu:function(e){return g(g({},e),{},{zIndex:10})}};function y(e){var t,n,r=e.id,u=e.label,p=e.errors,f=e.loadOptions,m=e.name,g=e.setFieldValue,h=e.handleBlur,y=e.value,O=e.className,E=e.labelClass,j=e.placeholder,w=e.isClearable,T=e.cacheOptions,x=e.isMulti,k=e.isDisabled,S=e.defaultOptions,C=Object(b.a)().t,P=w?i.a:o.a;return a.a.createElement(c.a,{className:s()(O)},a.a.createElement(l.a,{className:s()(E),htmlFor:r},u),a.a.createElement(P,{cacheOptions:T,defaultOptions:S,loadOptions:f,onChange:function(e){g(m,e)},value:y,isClearable:w,className:s()({"is-invalid":!!(null===(t=p[m])||void 0===t?void 0:t.length)}),placeholder:j||C("common.default-select-placeholder"),styles:v,isMulti:x,isDisabled:k,onBlur:h}),(null===(n=p[m])||void 0===n?void 0:n.length)?a.a.createElement(d.a,{errors:p[m]}):null)}y.defaultProps={isClearable:!0,cacheOptions:!0,defaultOptions:!0},y.propTypes={errors:f.a.object.isRequired,id:f.a.oneOfType([f.a.string,f.a.number]),value:f.a.oneOfType([f.a.shape({label:f.a.string,value:f.a.oneOfType([f.a.string,f.a.number])}),f.a.array]),label:f.a.any.isRequired,name:f.a.string.isRequired,handleBlur:f.a.func,setFieldValue:f.a.func.isRequired,loadOptions:f.a.func.isRequired,className:f.a.string,labelClass:f.a.string,placeholder:f.a.string,isClearable:f.a.bool,isMulti:f.a.bool,isDisabled:f.a.bool,cacheOptions:f.a.bool,defaultOptions:f.a.oneOfType([f.a.bool,f.a.array])}},"T+da":function(e,t,n){"use strict";var r=n("2BYM"),a=n.n(r),o=n("PSD3"),i=n.n(o),c=n("ltXA"),l=a()(i.a);l.success=function(e){return l.fire({icon:"success",text:e})},l.error=function(e){return l.fire({icon:"error",text:e})},l.prompt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return l.fire({text:e,input:"text",inputLabel:"",inputValue:t,showCancelButton:!0,inputValidator:function(e){if(!e)return"You need to write something!"}})},l.confirm=function(e){return new Promise((function(t,n){return l.fire({showConfirmButton:!0,showCancelButton:!0,confirmButtonText:c.b.t("common.yes"),cancelButtonText:c.b.t("common.no"),text:e}).then((function(e){e.isConfirmed?t():n()}))}))},t.a=l},Vy9V:function(e,t,n){"use strict";var r=n("4Jst"),a=n("q1tI"),o=n("2k+j"),i=n("HhE6"),c=n("wBLH"),l=(n("yUKz"),n("cO97"),n("SKuE"),n("/ouT"),n("g/0L"),n("9IRi"),n("ROju"),n("EPfG"),n("5KkY"),n("qEaO"),n("X4k0"),n("i8i4"),n("y74/"),Object(a.forwardRef)((function(e,t){var n=Object(c.a)(e),l=Object(i.a)(n);return a.createElement(o.a,Object(r.a)({ref:t},l))})));t.a=l},"Z+s4":function(e,t,n){"use strict";var r=n("wx14"),a=n("zLVn"),o=n("q1tI"),i=n.n(o),c=n("17x9"),l=n.n(c),u=n("TSYQ"),s=n.n(u),d=n("33Jr"),p={tag:d.q,className:l.a.string,cssModule:l.a.object},f=function(e){var t=e.className,n=e.cssModule,o=e.tag,c=Object(a.a)(e,["className","cssModule","tag"]),l=Object(d.m)(s()(t,"input-group-text"),n);return i.a.createElement(o,Object(r.a)({},c,{className:l}))};f.propTypes=p,f.defaultProps={tag:"span"},t.a=f},doQp:function(e,t,n){"use strict";var r=n("pzsr"),a=r.default,o=r.DraggableCore;e.exports=a,e.exports.default=a,e.exports.DraggableCore=o},ebzC:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("MwQV");function a(e){return new Promise((function(t){r.a.call("get","/methods/templates/search-template-tags",{q:e}).data((function(e){t(e.map((function(e){return{label:e.name,value:e.id}})))}))}))}},fJi3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBoundPosition=function(e,t,n){if(!e.props.bounds)return[t,n];var i=e.props.bounds;i="string"==typeof i?i:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(i);var c=o(e);if("string"==typeof i){var l,u=c.ownerDocument,s=u.defaultView;if(!((l="parent"===i?c.parentNode:u.querySelector(i))instanceof s.HTMLElement))throw new Error('Bounds selector "'+i+'" could not find an element.');var d=s.getComputedStyle(c),p=s.getComputedStyle(l);i={left:-c.offsetLeft+(0,r.int)(p.paddingLeft)+(0,r.int)(d.marginLeft),top:-c.offsetTop+(0,r.int)(p.paddingTop)+(0,r.int)(d.marginTop),right:(0,a.innerWidth)(l)-(0,a.outerWidth)(c)-c.offsetLeft+(0,r.int)(p.paddingRight)-(0,r.int)(d.marginRight),bottom:(0,a.innerHeight)(l)-(0,a.outerHeight)(c)-c.offsetTop+(0,r.int)(p.paddingBottom)-(0,r.int)(d.marginBottom)}}(0,r.isNum)(i.right)&&(t=Math.min(t,i.right));(0,r.isNum)(i.bottom)&&(n=Math.min(n,i.bottom));(0,r.isNum)(i.left)&&(t=Math.max(t,i.left));(0,r.isNum)(i.top)&&(n=Math.max(n,i.top));return[t,n]},t.snapToGrid=function(e,t,n){var r=Math.round(t/e[0])*e[0],a=Math.round(n/e[1])*e[1];return[r,a]},t.canDragX=function(e){return"both"===e.props.axis||"x"===e.props.axis},t.canDragY=function(e){return"both"===e.props.axis||"y"===e.props.axis},t.getControlPosition=function(e,t,n){var r="number"==typeof t?(0,a.getTouch)(e,t):null;if("number"==typeof t&&!r)return null;var i=o(n),c=n.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,a.offsetXYFromParent)(r||e,c,n.props.scale)},t.createCoreData=function(e,t,n){var a=e.state,i=!(0,r.isNum)(a.lastX),c=o(e);return i?{node:c,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:c,deltaX:t-a.lastX,deltaY:n-a.lastY,lastX:a.lastX,lastY:a.lastY,x:t,y:n}},t.createDraggableData=function(e,t){var n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}};var r=n("gbW8"),a=n("8N4D");function o(e){var t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}},gbW8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findInArray=function(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]},t.isFunction=function(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)},t.isNum=function(e){return"number"==typeof e&&!isNaN(e)},t.int=function(e){return parseInt(e,10)},t.dontSetMe=function(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))}},"h/Eb":function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),a=n.n(r),o=n("Ty5D"),i=n("/MKj"),c=n("DMen"),l=n("bTjV"),u=n("zwA0"),s=n("hnXc"),d=n("MwQV"),p=n("9Koi"),f=n("R2rE"),b=n("ma3e"),m=n("17x9"),g=n.n(m),h=n("/Zzm"),v=n("l4pp"),y=n("sOKU"),O=n("mI4U"),E=n("mt+J"),j=n("DCcX"),w=n("vkoW"),T=n("CaDr"),x=n("ebzC"),k=n("nc57"),S=n("x37D"),C=n("R5y6");function P(e){var t=e.close,n=e.onTagsSelected,o=e.tags,i=Object(p.a)().t,c=Object(r.useCallback)((function(e){var r=e.tags.map((function(e){return{id:e.__isNew__?null:e.value,name:e.label}}));n(r),t()}),[t,n]);return a.a.createElement(j.a,{isOpen:!0,size:"md",onClose:t},a.a.createElement(w.a,{toggle:t},i("templates.select-tags-modal.title")),a.a.createElement(T.a,null,a.a.createElement(k.a,{className:"limiter",initialValues:{tags:o},handleSubmit:c,renderForm:function(e){var t=e.values,n=e.errors,r=e.isSubmitting,o=e.setFieldValue;return a.a.createElement(a.a.Fragment,null,a.a.createElement(C.a,{className:"limiter",name:"tags",label:i("templates.select-tags-modal.tags-label"),value:t.tags,setFieldValue:o,errors:n,loadOptions:x.a,isMulti:!0,isClearable:!0}),a.a.createElement(S.a,{className:"pt-2 px-4 mt-3 mb-sm-4 mb-5",disabled:r},i("templates.select-tags-modal.ok-btn")))}})))}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e){var t=e.onTagsSelected,n=e.tags,o=Object(p.a)().t,i=I(Object(r.useState)(!1),2),c=i[0],l=i[1],u=Object(r.useCallback)((function(){l(!0)}),[]),s=Object(r.useCallback)((function(){l(!1)}),[]);return a.a.createElement(a.a.Fragment,null,c?a.a.createElement(P,{close:s,onTagsSelected:t,tags:n}):null,a.a.createElement(y.a,{onClick:u,color:"info",title:o("templates.select-tags-modal.tags-btn")},a.a.createElement(b.sb,null)))}P.propTypes={close:g.a.func.isRequired,onTagsSelected:g.a.func.isRequired,tags:g.a.array},R.propTypes={onTagsSelected:g.a.func.isRequired,tags:g.a.array};var M=function(e){var t=e.handleAddFile;return a.a.createElement("label",{className:"btn btn-info mr-2",style:{marginBottom:0}},a.a.createElement(b.J,null),a.a.createElement("input",{type:"file",className:"d-none",maxLength:1,onInput:function(e){var n=e.target.files;t([n[0]])},multiple:!1,accept:"image/*"}))};M.propTypes={loadedImages:g.a.array.isRequired,handleAddFile:g.a.func.isRequired,deleteImage:g.a.func.isRequired};var _=function(e){var t=e.handleAddFile,n=e.loadedImages,o=e.deleteImage,i=e.viewPreview,c=e.saveBotCb,l=e.handleLoadFromTemplate,u=e.chatBotId,s=e.setChatBotId,d=e.tags,f=e.onTagsSelected,m=(Object(p.a)().t,Object(r.useCallback)((function(){n.length&&o(n[0].internalId)}),[n,o]));return a.a.createElement("div",{className:"configure"},u&&a.a.createElement(h.a,{close:function(){s(null)},chatBotId:u}),a.a.createElement(v.a,null),n.length?a.a.createElement("button",{type:"button",onClick:m,className:"template-image-btn"},a.a.createElement("img",{src:n[0].url,className:"img-fluid mr-2",style:{maxHeight:40}})):null,a.a.createElement(M,{handleAddFile:t,loadedImages:n,deleteImage:o}),a.a.createElement("div",{className:"mr-2 d-inline-block"},a.a.createElement(R,{tags:d,onTagsSelected:f})),a.a.createElement(y.a,{onClick:c,color:"success"},a.a.createElement(b.hb,null)),a.a.createElement("div",{className:"mr-2 d-inline-block"},a.a.createElement(E.a,{onTemplateSelected:l})),a.a.createElement(y.a,{color:"primary",onClick:i},a.a.createElement(b.V,null)))};_.propTypes={handleAddFile:g.a.func.isRequired,loadedImages:g.a.array.isRequired,deleteImage:g.a.func.isRequired,viewPreview:g.a.func.isRequired,saveBotCb:g.a.func.isRequired,handleLoadFromTemplate:g.a.func.isRequired,chatBotId:g.a.number,setChatBotId:g.a.func.isRequired,onTagsSelected:g.a.func.isRequired,tags:g.a.array};var A=Object(O.b)(_),D=n("Mpt7"),L=n("T+da");function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var F=function(){var e=q(Object(r.useState)(null),2),t=e[0],n=e[1],o=Object(i.d)(),l=Object(p.a)().t,u=Object(r.useCallback)((function(){o(Object(c.u)()).then((function(){L.a.success(l("chatbot.saved.success"))})).catch((function(){L.a.error(l("chatbot.saved.fail"))}))}),[o,l]);Object(f.a)(!!t,c.u);var s=Object(r.useCallback)((function(){o(Object(c.u)(!0)).data((function(e){var t=e.chat_bot_id;n(t)}))}),[o]),d=Object(r.useCallback)((function(e){o(Object(c.C)(e.length?e[0]:null))}),[o]),b=Object(r.useCallback)((function(e){o(Object(c.c)(e.chat_bot_id))}),[o]),m=Object(i.e)((function(e){return e.chatbot.getIn(["item","image_id"])})),g=Object(i.e)((function(e){return e.chatbot.getIn(["item","template_tags"]).toJS().map((function(e){return{label:e.name,value:e.id}}))})),h=Object(r.useCallback)((function(e){o(Object(c.E)(Object(D.e)(e)))}),[o]);return a.a.createElement(A,{viewPreview:s,saveBotCb:u,handleLoadFromTemplate:b,chatBotId:t,setChatBotId:n,onChange:d,files:m?[m]:null,maxFilesCount:1,tags:g,onTagsSelected:h})},V=n("TtP3");function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(){var e=Object(o.j)(),t=Object(p.a)().t,n=e.id,f=Object(i.d)(),b=Object(i.e)((function(e){return e.chatbot.get("error")})),m=Object(i.e)((function(e){return e.chatbot.get("loading")})),g=U(Object(r.useState)(!1),2),h=g[0],v=g[1];Object(r.useEffect)((function(){d.a.call("get","/methods/templates/".concat(n,"/all")).data((function(e){e.temporary?v(!0):f(Object(c.l)(n,!1))}))}),[f,n]),Object(r.useEffect)((function(){h&&L.a.confirm(t("chatbot.edit.has_draft")).then((function(){f(Object(c.l)(n,!0))})).catch((function(){f(Object(c.l)(n,!1))}))}),[h,f,n,t]);var y,O=Object(r.useCallback)((function(){return a.a.createElement(F,null)}),[]);return y=m?a.a.createElement(l.a,null):b?a.a.createElement(u.a,null):a.a.createElement(s.b,{id:n,renderConfigure:O}),a.a.createElement(V.a,{className:"without-paddings"},a.a.createElement("div",null,y))}},hnXc:function(e,t,n){"use strict";n.d(t,"a",(function(){return Mo})),n.d(t,"b",(function(){return _o}));var r=n("q1tI"),a=n.n(r),o=n("doQp"),i=n.n(o),c=n("/MKj"),l=n("Mpt7"),u=n("DMen"),s=n("TSYQ"),d=n.n(s),p=n("17x9"),f=n.n(p);function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e){var t=e.connectable,n=e.positions,o=void 0===n?["top","left","bottom","right"]:n,i=e.isConnectable,l=void 0===i||i,s=e.children,p=b(Object(r.useState)(!1),2),f=p[0],m=p[1],g=Object(c.d)(),h=Object(r.useCallback)((function(e){g(Object(u.f)({move:(new Date).getTime(),x:e.clientX,y:e.clientY})),g(Object(u.s)("connect-to"))}),[g]),v=Object(r.useCallback)((function(e){var n=e.target.closest(".block");n&&g(Object(u.h)(t,n.dataset.id)),g(Object(u.f)(!1)),m(!1),removeEventListener("mouseup",v),removeEventListener("mousemove",h)}),[t,g,h]);Object(r.useEffect)((function(){return f&&(window.addEventListener("mouseup",v),window.addEventListener("mousemove",h)),function(){window.removeEventListener("mouseup",v),window.removeEventListener("mousemove",h)}}),[f,h,v]);var y=Object(r.useCallback)((function(e){return function(t){m(e),g(Object(u.s)("connect-from")),g(Object(u.f)({x:t.clientX,y:t.clientY}))}}),[g]);return a.a.createElement("div",{className:"connectable"},l&&o.map((function(e){return a.a.createElement("span",{key:e,id:f===e?"block-connect-from":void 0,onMouseDown:y(e),className:d()("connect connect-".concat(e),{connecting:f===e})})})),a.a.createElement("div",{className:"connect-content"},s))}var h=g;g.propTypes={children:f.a.any,connectable:f.a.string.isRequired,isConnectable:f.a.bool,positions:f.a.array};var v=n("k++x");function y(e){var t=e.block,n=e.className;return a.a.createElement("div",{className:d()("message",n),dangerouslySetInnerHTML:{__html:t.getIn(["data","text"])}})}var O=y;y.propTypes={block:f.a.instanceOf(l.b).isRequired,className:f.a.string};var E=n("29yR");function j(e){var t=e.block.getIn(["data","variable"]);return t?a.a.createElement("div",{className:"variable"},a.a.createElement(E.b,null)," ",a.a.createElement("span",{className:"variable-name"},"@",t)):null}var w=j;j.propTypes={block:f.a.instanceOf(l.b).isRequired};var T=n("ma3e"),x=n("Ytm1"),k=n("9Koi");function S(e){var t=e.type,n=e.index,r=Object(x.h)(t),o=Object(k.a)().t,i=Object(c.e)((function(e){return e.chatbot.getIn(["builder","edit","id"])===n})),l=Object(c.d)(),s=![v.a.TYPE_START,v.a.TYPE_START_PAGE,v.a.TYPE_GROUP_START,v.a.TYPE_GROUP_FINISH].includes(t);return a.a.createElement("div",{style:{backgroundColor:r.color},className:"header"},i?a.a.createElement(E.P,null):Object(x.g)(t)," ",o(r.langKey),s&&a.a.createElement("a",{onClick:function(){t===v.a.TYPE_GROUP?l(Object(u.A)(n)):l(Object(u.z)(n))},className:"context-menu position-relative"},a.a.createElement(T.y,null)),s&&!i&&a.a.createElement("a",{onClick:function(){l(Object(u.d)(n))},className:"context-menu position-relative mr-1"},a.a.createElement(T.v,null)),s&&!i&&a.a.createElement("a",{onClick:function(){l(Object(u.i)(n))},className:"context-menu position-relative mr-1"},a.a.createElement(T.yb,null)))}var C=S;function P(e){var t=e.button,n=e.connect,o=void 0!==n&&n,i=Object(c.d)();return Object(r.useEffect)((function(){i(Object(u.s)(t.get("id"),!0))})),a.a.createElement("div",{className:"block-button",id:"block-".concat(t.get("id"))},a.a.createElement(h,{positions:o?["right","left"]:[],connectable:t.get("id").toString()},t.get("text")))}S.propTypes={type:f.a.number.isRequired,index:f.a.any.isRequired};var I=P;function N(e){var t=e.block,n=e.connect,r=void 0!==n&&n;return a.a.createElement("div",null,t.getIn(["data","buttons"],Object(l.a)()).map((function(e){return a.a.createElement(I,{connect:r,key:e.get("id"),button:e})})))}P.propTypes={button:f.a.instanceOf(l.b).isRequired,connect:f.a.bool};var R=N;function M(e){var t=e.block;return a.a.createElement("div",null,a.a.createElement(E.r,null),t.getIn(["data","text"]))}N.propTypes={block:f.a.instanceOf(l.b).isRequired,connect:f.a.bool};var _=M;function A(e){var t=e.block;return a.a.createElement("div",null,t.getIn(["data","text"]))}M.propTypes={block:f.a.instanceOf(l.b).isRequired};var D=A;A.propTypes={block:f.a.instanceOf(l.b).isRequired};var L=n("2Te1");function q(e){var t=e.block;return a.a.createElement(L.a,{color:"primary"},t.getIn(["data","text"]))}var Y=q;function F(e){var t=e.block;return a.a.createElement("div",{className:"api",title:t.getIn(["data","api","url"])},a.a.createElement("span",{className:"api-method"},t.getIn(["data","api","method"])),t.getIn(["data","api","url"]))}q.propTypes={block:f.a.instanceOf(l.b).isRequired};var V=F;function U(e){var t=e.block;return a.a.createElement(L.a,{color:"success"},t.getIn(["data","text","label"]))}F.propTypes={block:f.a.instanceOf(l.b).isRequired};var B=U;U.propTypes={block:f.a.instanceOf(l.b).isRequired};var G=n("FrZM");function H(e){var t=e.block.getIn(["data","attachment"]);return t?a.a.createElement(G.b,{attachment:t}):null}var z=H;function X(e){var t=e.block;return a.a.createElement("div",null,a.a.createElement(E.e,null),t.getIn(["data","text","label"]))}H.propTypes={block:f.a.instanceOf(l.b).isRequired};var W=X;X.propTypes={block:f.a.instanceOf(l.b).isRequired};var K=n("rePB"),J=n("wx14"),Q=n("zLVn"),$=n("JX7q"),Z=n("dI71"),ee=n("1w3K"),te=n("33Jr");function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){Object(K.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ae=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={startAnimation:!1},n.onEnter=n.onEnter.bind(Object($.a)(n)),n.onEntering=n.onEntering.bind(Object($.a)(n)),n.onExit=n.onExit.bind(Object($.a)(n)),n.onExiting=n.onExiting.bind(Object($.a)(n)),n.onExited=n.onExited.bind(Object($.a)(n)),n}Object(Z.a)(t,e);var n=t.prototype;return n.onEnter=function(e,t){this.setState({startAnimation:!1}),this.props.onEnter(e,t)},n.onEntering=function(e,t){var n=e.offsetHeight;return this.setState({startAnimation:!0}),this.props.onEntering(e,t),n},n.onExit=function(e){this.setState({startAnimation:!1}),this.props.onExit(e)},n.onExiting=function(e){this.setState({startAnimation:!0}),e.dispatchEvent(new CustomEvent("slide.bs.carousel")),this.props.onExiting(e)},n.onExited=function(e){e.dispatchEvent(new CustomEvent("slid.bs.carousel")),this.props.onExited(e)},n.render=function(){var e=this,t=this.props,n=t.in,r=t.children,o=t.cssModule,i=t.slide,c=t.tag,l=t.className,u=Object(Q.a)(t,["in","children","cssModule","slide","tag","className"]);return a.a.createElement(ee.Transition,Object(J.a)({},u,{enter:i,exit:i,in:n,onEnter:this.onEnter,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}),(function(t){var n=e.context.direction,i=t===te.d.ENTERED||t===te.d.EXITING,u=(t===te.d.ENTERING||t===te.d.EXITING)&&e.state.startAnimation&&("right"===n?"carousel-item-left":"carousel-item-right"),s=t===te.d.ENTERING&&("right"===n?"carousel-item-next":"carousel-item-prev"),p=Object(te.m)(d()(l,"carousel-item",i&&"active",u,s),o);return a.a.createElement(c,{className:p},r)}))},t}(a.a.Component);ae.propTypes=re(re({},ee.Transition.propTypes),{},{tag:te.q,in:f.a.bool,cssModule:f.a.object,children:f.a.node,slide:f.a.bool,className:f.a.string}),ae.defaultProps=re(re({},ee.Transition.defaultProps),{},{tag:"div",timeout:te.e.Carousel,slide:!0}),ae.contextTypes={direction:f.a.string};var oe=ae,ie=n("BLzl"),ce={tag:te.q,top:f.a.bool,bottom:f.a.bool,className:f.a.string,cssModule:f.a.object},le=function(e){var t=e.className,n=e.cssModule,r=e.top,o=e.bottom,i=e.tag,c=Object(Q.a)(e,["className","cssModule","top","bottom","tag"]),l="card-img";r&&(l="card-img-top"),o&&(l="card-img-bottom");var u=Object(te.m)(d()(t,l),n);return a.a.createElement(i,Object(J.a)({},c,{className:u}))};le.propTypes=ce,le.defaultProps={tag:"img"};var ue=le,se={tag:te.q,className:f.a.string,cssModule:f.a.object},de=function(e){var t=e.className,n=e.cssModule,r=e.tag,o=Object(Q.a)(e,["className","cssModule","tag"]),i=Object(te.m)(d()(t,"card-subtitle"),n);return a.a.createElement(r,Object(J.a)({},o,{className:i}))};de.propTypes=se,de.defaultProps={tag:"div"};var pe=de,fe=n("ChEw"),be={tag:te.q,className:f.a.string,cssModule:f.a.object},me=function(e){var t=e.className,n=e.cssModule,r=e.tag,o=Object(Q.a)(e,["className","cssModule","tag"]),i=Object(te.m)(d()(t,"card-text"),n);return a.a.createElement(r,Object(J.a)({},o,{className:i}))};me.propTypes=be,me.defaultProps={tag:"p"};var ge=me,he=function(e){function t(t){var n;return(n=e.call(this,t)||this).handleKeyPress=n.handleKeyPress.bind(Object($.a)(n)),n.renderItems=n.renderItems.bind(Object($.a)(n)),n.hoverStart=n.hoverStart.bind(Object($.a)(n)),n.hoverEnd=n.hoverEnd.bind(Object($.a)(n)),n.handleTouchStart=n.handleTouchStart.bind(Object($.a)(n)),n.handleTouchEnd=n.handleTouchEnd.bind(Object($.a)(n)),n.touchStartX=0,n.touchStartY=0,n.state={activeIndex:n.props.activeIndex,direction:"right",indicatorClicked:!1},n}Object(Z.a)(t,e);var n=t.prototype;return n.getChildContext=function(){return{direction:this.state.direction}},n.componentDidMount=function(){"carousel"===this.props.ride&&this.setInterval(),document.addEventListener("keyup",this.handleKeyPress)},t.getDerivedStateFromProps=function(e,t){var n=null,r=t.activeIndex,a=t.direction,o=t.indicatorClicked;return e.activeIndex!==r&&(e.activeIndex===r+1?a="right":e.activeIndex===r-1?a="left":e.activeIndex<r?a=o?"left":"right":e.activeIndex!==r&&(a=o?"right":"left"),n={activeIndex:e.activeIndex,direction:a,indicatorClicked:!1}),n},n.componentDidUpdate=function(e,t){t.activeIndex!==this.state.activeIndex&&this.setInterval(this.props)},n.componentWillUnmount=function(){this.clearInterval(),document.removeEventListener("keyup",this.handleKeyPress)},n.setInterval=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){void 0===e&&(e=this.props),this.clearInterval(),e.interval&&(this.cycleInterval=setInterval((function(){e.next()}),parseInt(e.interval,10)))})),n.clearInterval=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){clearInterval(this.cycleInterval)})),n.hoverStart=function(){var e;("hover"===this.props.pause&&this.clearInterval(),this.props.mouseEnter)&&(e=this.props).mouseEnter.apply(e,arguments)},n.hoverEnd=function(){var e;("hover"===this.props.pause&&this.setInterval(),this.props.mouseLeave)&&(e=this.props).mouseLeave.apply(e,arguments)},n.handleKeyPress=function(e){this.props.keyboard&&(37===e.keyCode?this.props.previous():39===e.keyCode&&this.props.next())},n.handleTouchStart=function(e){this.props.enableTouch&&(this.touchStartX=e.changedTouches[0].screenX,this.touchStartY=e.changedTouches[0].screenY)},n.handleTouchEnd=function(e){if(this.props.enableTouch){var t=e.changedTouches[0].screenX,n=e.changedTouches[0].screenY,r=Math.abs(this.touchStartX-t);r<Math.abs(this.touchStartY-n)||r<40||(t<this.touchStartX?this.props.next():this.props.previous())}},n.renderItems=function(e,t){var n=this,r=this.props.slide;return a.a.createElement("div",{className:t},e.map((function(e,t){var o=t===n.state.activeIndex;return a.a.cloneElement(e,{in:o,slide:r})})))},n.render=function(){var e=this,t=this.props,n=t.cssModule,r=t.slide,o=t.className,i=Object(te.m)(d()(o,"carousel",r&&"slide"),n),c=Object(te.m)(d()("carousel-inner"),n),l=this.props.children.filter((function(e){return null!=e&&"boolean"!=typeof e}));if(l.every((function(e){return e.type===oe})))return a.a.createElement("div",{className:i,onMouseEnter:this.hoverStart,onMouseLeave:this.hoverEnd},this.renderItems(l,c));if(l[0]instanceof Array){var u=l[0],s=l[1],p=l[2];return a.a.createElement("div",{className:i,onMouseEnter:this.hoverStart,onMouseLeave:this.hoverEnd},this.renderItems(u,c),s,p)}var f=l[0],b=a.a.cloneElement(f,{onClickHandler:function(t){"function"==typeof f.props.onClickHandler&&e.setState({indicatorClicked:!0},(function(){return f.props.onClickHandler(t)}))}}),m=l[1],g=l[2],h=l[3];return a.a.createElement("div",{className:i,onMouseEnter:this.hoverStart,onMouseLeave:this.hoverEnd,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd},b,this.renderItems(m,c),g,h)},t}(a.a.Component);he.propTypes={activeIndex:f.a.number,next:f.a.func.isRequired,previous:f.a.func.isRequired,keyboard:f.a.bool,pause:f.a.oneOf(["hover",!1]),ride:f.a.oneOf(["carousel"]),interval:f.a.oneOfType([f.a.number,f.a.string,f.a.bool]),children:f.a.array,mouseEnter:f.a.func,mouseLeave:f.a.func,slide:f.a.bool,cssModule:f.a.object,className:f.a.string,enableTouch:f.a.bool},he.defaultProps={interval:5e3,pause:"hover",keyboard:!0,slide:!0,enableTouch:!0},he.childContextTypes={direction:f.a.string};var ve=he,ye=function(e){var t=e.direction,n=e.onClickHandler,r=e.cssModule,o=e.directionText,i=e.className,c=Object(te.m)(d()(i,"carousel-control-"+t),r),l=Object(te.m)(d()("carousel-control-"+t+"-icon"),r),u=Object(te.m)(d()("sr-only"),r);return a.a.createElement("a",{className:c,style:{cursor:"pointer"},role:"button",tabIndex:"0",onClick:function(e){e.preventDefault(),n()}},a.a.createElement("span",{className:l,"aria-hidden":"true"}),a.a.createElement("span",{className:u},o||t))};ye.propTypes={direction:f.a.oneOf(["prev","next"]).isRequired,onClickHandler:f.a.func.isRequired,cssModule:f.a.object,directionText:f.a.string,className:f.a.string};var Oe=ye,Ee=n("/kxI"),je=n("sOKU");function we(e){var t=e.block,n=t.getIn(["data","activeCard"],0),o=Object(c.d)(),i=t.getIn(["data","cards"]),l=Object(r.useCallback)((function(e){o(Object(u.H)(t.get("id"),e))}),[o,t]),s=function(){var e=n===i.size-1?0:n+1;l(e)},d=function(){var e=0===n?i.size-1:n-1;l(e)},p=i.map((function(e,t){var n=e.get("image");return a.a.createElement(oe,{key:t},a.a.createElement(ie.a,null,n&&a.a.createElement(ue,{top:!0,width:"100%",src:n.get("url"),alt:"Card image cap"}),a.a.createElement(Ee.a,null,a.a.createElement(pe,{tag:"h6",className:"mb-2 text-muted"},"Card#".concat(t+1)),a.a.createElement(fe.a,{tag:"h5"},e.get("title")),a.a.createElement(ge,null,e.get("description")),e.get("buttons").map((function(e,t){return a.a.createElement(je.a,{className:"mr-1 mb-1",key:t},e.get("text"))})))))}));return a.a.createElement(ve,{interval:!1,activeIndex:n,next:s,previous:d},a.a.createElement("span",null),p,a.a.createElement(Oe,{direction:"prev",directionText:"Previous",onClickHandler:d}),a.a.createElement(Oe,{direction:"next",directionText:"Next",onClickHandler:s}))}var Te=we;function xe(e){var t=e.block;return a.a.createElement("div",null,a.a.createElement(E.p,null),t.getIn(["data","text","label"]))}we.propTypes={block:f.a.instanceOf(l.b).isRequired};var ke=xe;function Se(e){var t=e.block.getIn(["data","googleSheet","meta"]),n=[];return t.get("email")&&n.push(t.get("email")),t.get("sheetName")&&n.push(t.get("sheetName")),t.get("page")&&n.push(t.get("page")),a.a.createElement("div",{className:"api"},n.map((function(e){return a.a.createElement("p",{key:e},e)})))}xe.propTypes={block:f.a.instanceOf(l.b).isRequired};var Ce=Se;function Pe(e){var t=e.block;return a.a.createElement("div",{className:"message"},t.getIn(["data","jsHandler"]))}Se.propTypes={block:f.a.instanceOf(l.b).isRequired},Pe.propTypes={block:f.a.instanceOf(l.b).isRequired};var Ie=Pe;function Ne(e){var t=e.block,n=e.dataKey,r=Object(k.a)().t,o=t.getIn(["data",n]),i=t.getIn(["data",n,"meta"]),c=[];return i.get("catalogName")&&c.push(i.get("catalogName")),i.get("productName")&&c.push(i.get("productName")),a.a.createElement("div",{className:"api"},a.a.createElement("div",null,a.a.createElement("b",null,r("chatbot.shop.body-text"))," ",o.get("bodyText")),a.a.createElement("div",{style:{whiteSpace:"normal"}},a.a.createElement("b",null,r("chatbot.shop.single-product-info")),c.join(", ")),a.a.createElement("div",null,a.a.createElement("b",null,r("chatbot.shop.footer-text"))," ",o.get("footerText")))}var Re=Ne;function Me(e){var t=e.block,n=Object(k.a)().t,r=t.getIn(["data","stripe","key"]),o=t.getIn(["data","stripe","secret"]),i=t.getIn(["data","stripe","variable"]),c=t.getIn(["data","stripe","fixed_price"]);return a.a.createElement("div",{className:"block-content stripe-payment",title:t.getIn(["data","api","url"])},a.a.createElement("table",{className:"table table-bordered table-stripe-payment"},a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("th",null,n("chatbot.stripe-payment.key-label")),a.a.createElement("td",null,r?"".concat(r.substr(0,3),"*****").concat(r.substr(-2)):"-")),a.a.createElement("tr",null,a.a.createElement("th",null,n("chatbot.stripe-payment.secret-label")),a.a.createElement("td",null,o?"".concat(o.substr(0,3),"*****").concat(o.substr(-2)):"-")),a.a.createElement("tr",null,a.a.createElement("th",null,n("chatbot.stripe-payment.currency-label")),a.a.createElement("td",null,t.getIn(["data","stripe","currency"]))),a.a.createElement("tr",null,a.a.createElement("th",null,n("chatbot.stripe-payment.currency-locale-label")),a.a.createElement("td",null,t.getIn(["data","stripe","currency_locale"]))),a.a.createElement("tr",null,a.a.createElement("th",null,n(i?"chatbot.stripe-payment.variable-label":"chatbot.stripe-payment.fixed-price-label")),a.a.createElement("td",null,i?a.a.createElement("div",{className:"variable"},a.a.createElement("span",{className:"variable-name"},"@",i)):c)))))}Ne.propTypes={block:f.a.instanceOf(l.b).isRequired,dataKey:f.a.string.isRequired};var _e=Me;function Ae(e){var t=e.block,n=Object(k.a)().t,r=Object(c.e)((function(e){var r=e.chatbot.getIn(["item","pages"]).find((function(e){return+e.get("index")==+t.getIn(["data","text"])}));return r?r.get("name")||n("chatbot.main-page"):""}));return a.a.createElement("div",null,a.a.createElement(E.I,null),r)}Me.propTypes={block:f.a.instanceOf(l.b).isRequired};var De=Ae;function Le(e){var t=e.block;switch(t.get("type")){case v.a.TYPE_MESSAGE:return a.a.createElement(a.a.Fragment,null,a.a.createElement(C,{index:t.get("id"),type:t.get("type")}),a.a.createElement("div",{className:"block-content"},a.a.createElement(O,{block:t,className:"mb-1"}),a.a.createElement(z,{block:t})));case v.a.TYPE_NOTIFICATION:return a.a.createElement(a.a.Fragment,null,a.a.createElement(C,{index:t.get("id"),type:t.get("type")}),a.a.createElement("div",{className:"block-content"},a.a.createElement(O,{block:t})));case v.a.TYPE_START:case v.a.TYPE_START_PAGE:case v.a.TYPE_GROUP_START:case v.a.TYPE_GROUP_FINISH:return a.a.createElement(a.a.Fragment,null,a.a.createElement(C,{index:t.get("id"),type:t.get("type")}));case v.a.TYPE_QUESTION:return a.a.createElement(a.a.Fragment,null,a.a.createElement(C,{index:t.get("id"),type:t.get("type")}),a.a.createElement("div",{className:"block-content"},a.a.createElement(O,{block:t}),a.a.createElement(w,{block:t})));case v.a.TYPE_SWITCH:return a.a.createElement(a.a.Fragment,null,a.a.createElement(C,{index:t.get("id"),type:t.get("type")}),a.a.createElement("div",{className:"block-content"},a.a.createElement(w,{block:t})),a.a.createElement(R,{connect:!0,block:t}));case v.a.TYPE_SELECT:return a.a.createElement(a.a.Fragment,null,a.a.createElement(C,{index:t.get("id"),type:t.get("type")}),a.a.createElement("div",{className:"block-content"},a.a.createElement(O,{block:t}),a.a.createElement(w,{block:t})),a.a.createElement(R,{block:t}));case v.a.TYPE_BUTTONS:return a.a.createElement(a.a.Fragment,null,a.a.createElement(C,{index:t.get("id"),type:t.get("type")}),a.a.createElement("div",{className:"block-content"},a.a.createElement(O,{block:t}),a.a.createElement(w,{block:t})),a.a.createElement(R,{connect:!0,block:t}));case v.a.TYPE_GO_TO_PAGE:return a.a.createElement(a.a.Fragment,null,a.a.createElement(C,{index:t.get("id"),type:t.get("type")}),a.a.createElement("div",{className:"block-content"},a.a.createElement(De,{block:t})));case v.a.TYPE_TRIGGER:case v.a.TYPE_TRIGGER_EVENT:return a.a.createElement(a.a.Fragment,null,a.a.createElement(C,{index:t.get("id"),type:t.get("type")}),a.a.createElement("div",{className:"block-content"},a.a.createElement(_,{block:t}),a.a.createElement(w,{block:t})));case v.a.TYPE_TRIGGER_WORD:case v.a.TYPE_GROUP:return a.a.createElement(a.a.Fragment,null,a.a.createElement(C,{index:t.get("id"),type:t.get("type")}),a.a.createElement("div",{className:"block-content"},a.a.createElement(_,{block:t})));case v.a.TYPE_TAG:return a.a.createElement(a.a.Fragment,null,a.a.createElement(C,{index:t.get("id"),type:t.get("type")}),a.a.createElement("div",{className:"block-content"},a.a.createElement(Y,{block:t})));case v.a.TYPE_DEPARTMENT:return a.a.createElement(a.a.Fragment,null,a.a.createElement(C,{index:t.get("id"),type:t.get("type")}),a.a.createElement("div",{className:"block-content"},a.a.createElement(B,{block:t})));case v.a.TYPE_CALENDAR:return a.a.createElement(a.a.Fragment,null,a.a.createElement(C,{index:t.get("id"),type:t.get("type")}),a.a.createElement("div",{className:"block-content"},a.a.createElement(W,{block:t})));case v.a.TYPE_CALL_OPERATOR:return a.a.createElement(a.a.Fragment,null,a.a.createElement(C,{index:t.get("id"),type:t.get("type")}),a.a.createElement("div",{className:"block-content"},a.a.createElement(O,{block:t})));case v.a.TYPE_SET_VARIABLE:return a.a.createElement(a.a.Fragment,null,a.a.createElement(C,{index:t.get("id"),type:t.get("type")}),a.a.createElement("div",{className:"block-content"},a.a.createElement(w,{block:t}),a.a.createElement(D,{block:t})));case v.a.TYPE_CAROUSEL:return a.a.createElement(a.a.Fragment,null,a.a.createElement(C,{index:t.get("id"),type:t.get("type")}),a.a.createElement("div",{className:"block-content"},a.a.createElement(Te,{block:t})));case v.a.TYPE_API_CONTENT:return a.a.createElement(a.a.Fragment,null,a.a.createElement(C,{index:t.get("id"),type:t.get("type")}),a.a.createElement("div",{className:"block-content"},a.a.createElement(O,{block:t}),a.a.createElement(V,{block:t})),a.a.createElement(R,{connect:!0,block:t}));case v.a.TYPE_SUBSCRIBE_CAMPAIGN:return a.a.createElement(a.a.Fragment,null,a.a.createElement(C,{index:t.get("id"),type:t.get("type")}),a.a.createElement("div",{className:"block-content"},a.a.createElement(ke,{block:t})));case v.a.TYPE_GOOGLE_SHEET:return a.a.createElement(a.a.Fragment,null,a.a.createElement(C,{index:t.get("id"),type:t.get("type")}),a.a.createElement("div",{className:"block-content"},a.a.createElement(Ce,{block:t})));case v.a.TYPE_CODE_EXECUTOR:return a.a.createElement(a.a.Fragment,null,a.a.createElement(C,{index:t.get("id"),type:t.get("type")}),a.a.createElement("div",{className:"block-content"},a.a.createElement(Ie,{block:t})));case v.a.TYPE_SINGLE_PRODUCT:return a.a.createElement(a.a.Fragment,null,a.a.createElement(C,{index:t.get("id"),type:t.get("type")}),a.a.createElement("div",{className:"block-content"},a.a.createElement(Re,{block:t,dataKey:"singleProduct"})));case v.a.TYPE_MULTIPLE_PRODUCTS:return a.a.createElement(a.a.Fragment,null,a.a.createElement(C,{index:t.get("id"),type:t.get("type")}),a.a.createElement("div",{className:"block-content"},a.a.createElement(Re,{block:t,dataKey:"multipleProducts"})));case v.a.TYPE_STRIPE_PAYMENT:return a.a.createElement(a.a.Fragment,null,a.a.createElement(C,{index:t.get("id"),type:t.get("type")}),a.a.createElement(_e,{block:t}),a.a.createElement(R,{connect:!0,block:t}));default:return a.a.createElement("div",null,"Not implemented view for ",t.get("type"))}}Ae.propTypes={block:f.a.instanceOf(l.b).isRequired};var qe=Le;function Ye(e){var t=e.index,n=Object(c.e)((function(e){var n=e.chatbot.getIn(["builder","edit"]);return n&&n.get("id").toString()===t?n:null})),o=Object(c.e)((function(e){var r=e.chatbot;return n||r.getIn(["item","blocks",t])})),s=Object(c.e)((function(e){return e.chatbot.getIn(["builder","selected",t])})),p=Object(c.e)((function(e){return e.chatbot.getIn(["builder","scale"])})),f=Object(c.d)();Object(r.useEffect)((function(){f(Object(u.s)(t))}));var b=o.get("type"),m=[v.a.TYPE_MESSAGE,v.a.TYPE_QUESTION,v.a.TYPE_SELECT,v.a.TYPE_CAROUSEL,v.a.TYPE_START,v.a.TYPE_MAP,v.a.TYPE_CALENDAR,v.a.TYPE_SET_VARIABLE,v.a.TYPE_CALL_OPERATOR,v.a.TYPE_TRIGGER,v.a.TYPE_TRIGGER_WORD,v.a.TYPE_NOTIFICATION,v.a.TYPE_DEPARTMENT,v.a.TYPE_TAG,v.a.TYPE_SUBSCRIBE_CAMPAIGN,v.a.TYPE_GOOGLE_SHEET,v.a.TYPE_CODE_EXECUTOR,v.a.TYPE_TRIGGER_EVENT,v.a.TYPE_SINGLE_PRODUCT,v.a.TYPE_MULTIPLE_PRODUCTS,v.a.TYPE_GROUP_START,v.a.TYPE_START_PAGE,v.a.TYPE_GROUP].includes(b);return b===v.a.TYPE_API_CONTENT&&(m=0===o.getIn(["data","buttons"],Object(l.a)()).size),a.a.createElement(i.a,{onMouseDown:function(e){0!==e.button&&s||(window.wasSelected=s,s||f(Object(u.w)(t,e.ctrlKey)))},scale:p/100,handle:".header",bounds:"parent",position:o.get("position").toJS(),onDrag:function(e,t){window.wasSelected=!1,f(Object(u.m)({x:t.deltaX,y:t.deltaY}))}},a.a.createElement("div",{id:"block-".concat(t),style:{zIndex:n?5:0},className:d()("block",{selected:s}),"data-id":t},a.a.createElement("div",{onMouseUp:function(e){window.wasSelected&&f(Object(u.w)(t,e.ctrlKey))}},a.a.createElement(h,{isConnectable:m,connectable:t},a.a.createElement(qe,{block:o})))))}Le.propTypes={block:f.a.instanceOf(l.b).isRequired};var Fe=a.a.memo(Ye);Ye.propTypes={index:f.a.string.isRequired};n("vs2M");function Ve(e){return function(e){if(Array.isArray(e))return Ge(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Be(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ue(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||Be(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Be(e,t){if(e){if("string"==typeof e)return Ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ge(e,t):void 0}}function Ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function He(e){var t=e.from,n=e.to,o=e.scroll,i=void 0===o?{x:0,y:0}:o,l=Object(c.e)((function(e){var r=e.chatbot,a=r.getIn(["builder","rendered",t.toString()]),o=r.getIn(["builder","rendered",n.toString()]);return!(!a||!o)&&a[0]+o[0]})),s=Object(c.e)((function(e){return e.chatbot.getIn(["builder","scale"])})),d=Object(c.e)((function(e){return e.chatbot.getIn(["builder","rendered",t.toString(),1])})),p=Object(c.d)(),f=document.getElementById("block-".concat(t));if(Object(r.useEffect)((function(){return function(){var e=document.getElementById("block-".concat(t));e&&e.removeAttribute("connected")}}),[t]),!l||!f)return null;var b=Mo,m=100/s,g=12/m,h=f.getBoundingClientRect(),v=document.getElementById("block-".concat(n)).getBoundingClientRect(),y=0,O=0,E=h.x+i.x-y-b,j=h.y+i.y-O-0,w=h.width,x=h.height,k=v.x+i.x-y-b,S=v.y+i.y-O-0,C=v.width,P=v.height,I=E+w/2,N=j+x/2,R=k+C/2,M=S+P/2,_=N-M,A="connect-from"===t,D=A?-w/2/m:4/m,L=A?0:2/m,q=A?1:0,Y={top:{x:I-q,y:j-D-L-q},bottom:{x:I-q,y:j+x+D-q},left:{x:E-D-L-q,y:N-q},right:{x:E+w+D-q,y:N-q}},F={top:{x:R,y:S-g},bottom:{x:R,y:S+P+g},left:{x:k-g,y:M},right:{x:k+C+g,y:M}},V="connected-top",U="connected-left",B="connected-bottom",G="connected-right",H=[];I-R>0?_>0?(H=[[Y.left,F.right,2,U],[Y.left,F.bottom,3,U]],d||(H=H.concat([[Y.top,F.right,2,V],[Y.top,F.bottom,4,V]]))):(H=[[Y.left,F.right,2,U],[Y.left,F.top,3,U]],d||(H=H.concat([[Y.bottom,F.right,2,B],[Y.bottom,F.top,3,B]]))):_>0?(H=[[Y.right,F.left,1,G],[Y.right,F.bottom,4,G]],d||(H=H.concat([[Y.top,F.left,1,V],[Y.top,F.bottom,4,V]]))):(H=[[Y.right,F.left,1,G],[Y.right,F.top,4,G]],d||(H=H.concat([[Y.bottom,F.left,1,B],[Y.bottom,F.top,3,B]])));var z=Math.pow,X=function(e,t){return Math.sqrt(z(e.x-t.x,2)+z(e.y-t.y,2))},W=Ue(H.sort((function(e,t){return X.apply(void 0,Ve(e))-X.apply(void 0,Ve(t))}))[0],4),K=W[0],J=W[1],Q=W[2],$=W[3];f.setAttribute("connected",$),K.x*=m,K.y*=m,J.x*=m,J.y*=m;var Z,ee={top:(K.y+J.y)/2,left:(K.x+J.x)/2};switch(Q){case 1:Z="M ".concat(K.x,",          ").concat(K.y,"\n                 C ").concat(K.x+50,",  ").concat(K.y,"\n                   ").concat(J.x-50,",  ").concat(J.y,"\n                   ").concat(J.x,",          ").concat(J.y);break;case 2:Z="M ".concat(K.x,",          ").concat(K.y,"\n                 C ").concat(K.x-50,",  ").concat(K.y,"\n                   ").concat(J.x+50,",  ").concat(J.y,"\n                   ").concat(J.x,",          ").concat(J.y);break;case 3:ee.left-=25,Z="M ".concat(K.x,",          ").concat(K.y,"\n                 Q ").concat(K.x-50,",  ").concat(K.y,"\n                   ").concat(J.x,",          ").concat(J.y);break;case 4:Z="M ".concat(K.x,",          ").concat(K.y,"\n                 Q ").concat(K.x+50,", ").concat(K.y,"\n                   ").concat(J.x,",          ").concat(J.y)}return a.a.createElement(a.a.Fragment,null,a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",style:{position:"absolute",width:"100%",height:"100%"}},a.a.createElement("defs",null,a.a.createElement("marker",{fill:"#94B3CB",id:"arrowhead",viewBox:"0 0 10 10",refX:"3",refY:"5",markerWidth:"6",markerHeight:"6",orient:"auto"},a.a.createElement("path",{d:"M 0 0 L 10 5 L 0 10 z"})),a.a.createElement("marker",{id:"circle",viewBox:"0 0 8 8",refX:"3",refY:"3",markerUnits:"userSpaceOnUse",markerWidth:"8",markerHeight:"8"},a.a.createElement("circle",{cx:"4",cy:"4",r:"3",fill:"white",stroke:"#94B3CB",strokeWidth:2}))),a.a.createElement("g",{fill:"none",stroke:"#94B3CB",strokeWidth:"2",markerStart:"url(#circle)",markerEnd:"url(#arrowhead)"},a.a.createElement("path",{d:Z}))),"connect-to"!==n&&a.a.createElement("button",{className:"remove-anchor",onClick:function(){return p(Object(u.p)(t.toString()))},style:ee},a.a.createElement(T.xb,null)))}var ze=a.a.memo(He);function Xe(e){var t=e.scroll,n=Object(c.e)((function(e){return e.chatbot.getIn(["builder","connection"])})),r=Object(c.e)((function(e){return 100/e.chatbot.getIn(["builder","scale"])}));return n?a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{id:"block-connect-to",style:{position:"fixed",width:2,height:5,top:(n.y+t.y)*r,left:(n.x+t.x-Mo)*r,background:"red"}}),n.move&&a.a.createElement(ze,{scroll:t,from:"connect-from",to:"connect-to"})):null}He.propTypes={from:f.a.any.isRequired,scroll:f.a.object.isRequired,to:f.a.any.isRequired};var We=Xe;function Ke(){var e=Object(c.e)((function(e){return e.chatbot.getIn(["builder","scale"])})),t=Object(c.d)();return a.a.createElement("div",{className:"minimap"},a.a.createElement("div",{className:"buttons"},a.a.createElement(je.a,{disabled:e<30,color:"white",onClick:function(){t(Object(u.D)(e-5))}},a.a.createElement(T.Q,null)),a.a.createElement(je.a,{color:"white",disabled:e>145,onClick:function(){t(Object(u.D)(e+5))}},a.a.createElement(T.X,null)),a.a.createElement("span",{className:"counter"},e,"%"),a.a.createElement(je.a,{className:"float-right",color:"white",onClick:function(){document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen()}},a.a.createElement(T.z,null))))}Xe.propTypes={scroll:f.a.object.isRequired},Ke.propTypes={scroll:f.a.object.isRequired,size:f.a.number.isRequired,wrapper:f.a.object.isRequired};var Je=Ke,Qe=n("mNz5"),$e=n.n(Qe),Ze=n("i8i4");function et(){return(et=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){rt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function at(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ot(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return it(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return it(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function it(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ct(e){var t=e.type,n=e.scroll,o=ot(Object(r.useState)(!1),2),s=o[0],d=o[1],p=Object(c.d)(),f=Object(c.e)((function(e){return e.chatbot.getIn(["builder","scale"])})),b=Object(c.e)((function(e){return e.chatbot.getIn(["builder","currentPage"])})),m=Object(c.e)((function(e){return e.chatbot.getIn(["builder","group"])})),g=Object(k.a)().t,h=ot(Object(r.useState)({}),2),y=h[0],O=h[1],E=Object(x.h)(t),j=ot(Object(r.useState)({x:0,y:0}),2),w=j[0],S=j[1];return a.a.createElement("div",{style:{position:"relative"}},a.a.createElement("div",{className:"create-btn"},a.a.createElement("span",null,Object(x.g)(t)," ",g(E.langKey)),a.a.createElement("span",{className:"float-right drag-element"},a.a.createElement(T.G,null))),a.a.createElement(i.a,{position:{x:0,y:0},onStart:function(e){var t=e.target.getBoundingClientRect(),n=t.top,r=t.left;O({x:e.clientX-r,y:e.clientY-n}),S({x:r,y:n}),d(!0)},onStop:function(e){var r=$e()("T");if(p(Object(u.g)(Object(l.e)({id:r,type:t,page:b,parent_id:m,position:{x:Math.max(0,(e.clientX+n.x-Mo-y.x)/(f/100)),y:Math.max(0,(e.clientY+n.y-y.y)/(f/100))},data:Object(x.f)(t)}))),t===v.a.TYPE_GROUP){var a=$e()("S");p(Object(u.g)(Object(l.e)({id:a,type:v.a.TYPE_GROUP_START,page:b,parent_id:r,position:{x:50,y:50},data:{}})));var o=$e()("S");p(Object(u.g)(Object(l.e)({id:o,type:v.a.TYPE_GROUP_FINISH,page:b,parent_id:r,position:{x:500,y:500},data:{}}))),p(Object(u.h)(a,o))}S({x:0,y:0}),d(!1)}},s?a.a.createElement(ut,{position:w},a.a.createElement("div",{className:"block-creation",style:{zIndex:100}},a.a.createElement("div",{className:"plus-icon"},a.a.createElement(T.X,null)),a.a.createElement("div",{className:"block"},a.a.createElement(C,{index:-1,type:t}),a.a.createElement("div",null,"New block")))):a.a.createElement("div",{style:{position:"absolute",top:0,left:0,bottom:0,right:0,cursor:"grab"}})))}var lt=ct;ct.propTypes={scroll:f.a.object.isRequired,type:f.a.number.isRequired};var ut=function(e){var t=e.children,n=e.position,r=e.style,o=void 0===r?{}:r,i=at(e,["children","position","style"]),c=document.getElementById("app"),l={top:0,left:0};return"translate(0px,0px)"===o.transform&&(l.top=n.y,l.left=n.x),Object(Ze.createPortal)(a.a.createElement("div",et({},i,{style:nt(nt({position:"absolute",zIndex:1e4},l),o)}),t),c)},st=n("nsn4");function dt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return pt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ft(e){var t=e.size,n=e.scroll,o=Object(k.a)().t,i=dt(Object(r.useState)(Object(l.b)({0:!0})),2),c=i[0],u=i[1];return a.a.createElement("div",{className:"panel",style:{width:t}},a.a.createElement("div",{className:"panel-header"},o("chatbot.drag-and-drop")),[{name:"basic",color:x.a,items:[v.a.TYPE_MESSAGE,v.a.TYPE_QUESTION,v.a.TYPE_SELECT,v.a.TYPE_BUTTONS,v.a.TYPE_SWITCH,v.a.TYPE_CAROUSEL,v.a.TYPE_CALL_OPERATOR,v.a.TYPE_GROUP]},{name:"code",color:x.b,items:[v.a.TYPE_API_CONTENT,v.a.TYPE_CODE_EXECUTOR,v.a.TYPE_SET_VARIABLE]},{name:"management",color:x.c,items:[v.a.TYPE_CALENDAR,v.a.TYPE_NOTIFICATION,v.a.TYPE_TAG,v.a.TYPE_DEPARTMENT,v.a.TYPE_SUBSCRIBE_CAMPAIGN,v.a.TYPE_GOOGLE_SHEET]},{name:"triggers",color:x.e,items:[v.a.TYPE_TRIGGER,v.a.TYPE_TRIGGER_WORD,v.a.TYPE_TRIGGER_EVENT,v.a.TYPE_GO_TO_PAGE]},{name:"shop",color:x.d,items:[v.a.TYPE_SINGLE_PRODUCT,v.a.TYPE_MULTIPLE_PRODUCTS,v.a.TYPE_STRIPE_PAYMENT]}].map((function(e,t){return t=t.toString(),a.a.createElement("div",{key:t},a.a.createElement("label",{className:"panel-header-group d-block",onClick:function(){return u((function(e){return e.update(t,(function(e){return!e}))}))}},a.a.createElement("span",{className:"color-label",style:{backgroundColor:e.color}}),o("chatbot.types.".concat(e.name))),a.a.createElement(st.a,{isOpen:c.get(t)},a.a.createElement("div",null,e.items.map((function(e){return a.a.createElement(lt,{type:e,key:e,scroll:n})})))))})))}var bt=ft;ft.propTypes={scroll:f.a.object.isRequired,size:f.a.number.isRequired};var mt=n("q7Gj"),gt=n("re1l"),ht=n("Z+s4"),vt=n("L3zb");function yt(e){var t=e.block,n=Object(c.d)();return a.a.createElement("div",{className:"editable-block"},a.a.createElement(mt.a,null,a.a.createElement(gt.a,{addonType:"prepend"},a.a.createElement(ht.a,null,"@")),a.a.createElement(vt.a,{onChange:function(e){return n(Object(u.I)("variable",e.target.value))},value:t.getIn(["data","variable"])})))}var Ot=yt;yt.propTypes={block:f.a.instanceOf(l.b).isRequired};var Et=n("AEIT"),jt=n("+z1p"),wt=n("KDeF"),Tt=n("LvDl"),xt=n.n(Tt);function kt(e){var t=e.title,n=e.tooltip,o="help"+Object(Tt.random)(0,99999),i=Object(r.useRef)();return a.a.createElement("div",null,t,n&&a.a.createElement(a.a.Fragment,null,a.a.createElement("a",{className:"help-question",id:o,ref:i},a.a.createElement(T.eb,null)),i.current&&a.a.createElement(wt.a,{placement:"right",target:i},n)))}var St=kt;function Ct(e){return function(e){if(Array.isArray(e))return Pt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Pt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function It(e){var t=e.block,n=e.buttonsAllowed,r=void 0!==n&&n,o=Object(c.d)(),i=Object(c.e)((function(e){return e.chatbot.getIn(["item","blocks"]).map((function(e){return e.getIn(["data","variable"],null)})).valueSeq().filter((function(e){return null!==e})).toArray().map((function(e){return{id:"@".concat(e)}})).concat([{id:"@client_id"},{id:"@integration_id"}])})),s=(Object(c.e)((function(e){return e.chatbot.getIn(["item","variables"])}))||Object(l.b)({})).keySeq().map((function(e){return{id:"$".concat(e)}})).toJS(),d=Object(k.a)().t;return a.a.createElement("div",{className:"editable-block"},a.a.createElement(St,{title:d("chatbot.edit.message"),tooltip:d("chatbot.edit.message-help")}),a.a.createElement(Et.CKEditor,{editor:jt.ClassicEditor,data:t.getIn(["data","text"]),onChange:function(e,t){o(Object(u.I)("text",t.getData()))},config:{toolbar:["bold","italic","underline","link","bulletedList","numberedList","undo","redo"],link:r?{decorators:{showAsButton:{mode:"manual",label:d("chatbot.edit.link_as_button"),defaultValue:!1,attributes:{button:"button"}}}}:{},mention:{feeds:[{marker:"$",feed:function(e){return Promise.resolve([{id:"$".concat(e)}].concat(Ct(s.filter((function(t){return t.id.toLowerCase().includes(e.toLowerCase())})))))}},{marker:"@",feed:function(e){return Promise.resolve([{id:"@".concat(e)}].concat(Ct(i.filter((function(t){return t.id.toLowerCase().includes(e.toLowerCase())})))))}}]}}}))}kt.propTypes={title:f.a.string.isRequired,tooltip:f.a.string};var Nt=It;It.propTypes={block:f.a.instanceOf(l.b).isRequired,buttonsAllowed:f.a.bool};var Rt=n("ok1R"),Mt=n("rhny"),_t=n("3OM0"),At=n("BAJy");function Dt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Lt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qt(e){var t=e.block,n=Object(c.d)(),r=Object(k.a)().t;return a.a.createElement("div",{className:"editable-block"},a.a.createElement(St,{title:r("chatbot.edit.buttons")}),t.getIn(["data","buttons"],Object(l.a)()).map((function(e,t){return a.a.createElement(Yt,{key:t,index:t,button:e,dispatch:n})})),a.a.createElement("a",{onClick:function(){return n(Object(u.a)())}},"+"))}function Yt(e){var t=e.dispatch,n=e.button,o=e.index,i=Dt(Object(r.useState)(!1),2),c=i[0],l=i[1],s=Object(k.a)().t;return a.a.createElement("div",{className:"input-with-remove editable-block"},a.a.createElement("div",null,a.a.createElement(Rt.a,null,a.a.createElement(Mt.a,{xs:10},a.a.createElement(vt.a,{onChange:function(e){return t(Object(u.I)("text",e.target.value,["buttons",o]))},value:n.get("text")}),a.a.createElement("a",{className:"remove-btn",onClick:function(){l(!c)}},a.a.createElement(T.r,null))),a.a.createElement(Mt.a,{xs:2},a.a.createElement("a",{className:"remove-btn",onClick:function(){t(Object(u.o)(o))}},a.a.createElement(T.xb,null))))),c&&a.a.createElement(Rt.a,{className:"mt-1"},a.a.createElement(Mt.a,{xs:4},a.a.createElement(vt.a,{className:"pr-3",onChange:function(e){var n=e.target.value;(!n||n<7&&n>0)&&t(Object(u.I)("columns",n,["buttons",o,"configs"]))},value:n.getIn(["configs","columns"])})),a.a.createElement(Mt.a,{xs:8},a.a.createElement(_t.a,{className:'"d-flex checkbox-label"'},a.a.createElement(At.a,{className:"d-inline-block",type:"checkbox",checked:!!n.getIn(["configs","auth"]),onChange:function(e){t(Object(u.I)("auth",e.target.checked,["buttons",o,"configs"]))},id:"auth"+o}),s("chatbot.edit.auth-button")))))}var Ft=qt;function Vt(e){var t=e.block,n=e.possibleValues,r=void 0===n?[]:n,o=Object(c.d)();return a.a.createElement("div",{className:"editable-block"},a.a.createElement(mt.a,null,a.a.createElement(gt.a,{addonType:"prepend"},a.a.createElement(ht.a,null,a.a.createElement(E.r,null))),a.a.createElement(vt.a,{list:"block-edit-trigger-list",onChange:function(e){return o(Object(u.I)("text",e.target.value))},value:t.getIn(["data","text"])}),a.a.createElement("datalist",{id:"block-edit-trigger-list"},r.map((function(e){return a.a.createElement("option",{key:e,value:e})})))))}qt.propTypes={block:f.a.instanceOf(l.b).isRequired},Yt.propTypes={button:f.a.instanceOf(l.b).isRequired,index:f.a.number.isRequired,dispatch:f.a.func.isRequired};var Ut=Vt;function Bt(e){var t=e.block,n=Object(c.d)();return a.a.createElement("div",{className:"editable-block"},a.a.createElement(mt.a,null,a.a.createElement(vt.a,{onChange:function(e){return n(Object(u.I)("text",e.target.value))},value:t.getIn(["data","text"])})))}Vt.propTypes={block:f.a.instanceOf(l.b).isRequired,possibleValues:f.a.array};var Gt=Bt;function Ht(e){var t=e.block,n=Object(c.d)();return a.a.createElement("div",{className:"editable-block"},a.a.createElement(mt.a,null,a.a.createElement(gt.a,{addonType:"prepend"},a.a.createElement(ht.a,null,"#")),a.a.createElement(vt.a,{onChange:function(e){return n(Object(u.I)("text",e.target.value))},value:t.getIn(["data","text"])})))}Bt.propTypes={block:f.a.instanceOf(l.b).isRequired};var zt=Ht;Ht.propTypes={block:f.a.instanceOf(l.b).isRequired};var Xt=n("4Oki");function Wt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kt(Object(n),!0).forEach((function(t){Wt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function $t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function en(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?en(Object(n),!0).forEach((function(t){Zt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):en(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}}function rn(e){return function t(){for(var n=this,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return a.length>=e.length?e.apply(this,a):function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return t.apply(n,[].concat(a,r))}}}function an(e){return{}.toString.call(e).includes("Object")}function on(e){return"function"==typeof e}var cn=rn((function(e,t){throw new Error(e[t]||e.default)}))({initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"}),ln={changes:function(e,t){return an(t)||cn("changeType"),Object.keys(t).some((function(t){return n=e,r=t,!Object.prototype.hasOwnProperty.call(n,r);var n,r}))&&cn("changeField"),t},selector:function(e){on(e)||cn("selectorType")},handler:function(e){on(e)||an(e)||cn("handlerType"),an(e)&&Object.values(e).some((function(e){return!on(e)}))&&cn("handlersType")},initial:function(e){var t;e||cn("initialIsRequired"),an(e)||cn("initialType"),t=e,Object.keys(t).length||cn("initialContent")}};function un(e,t){return on(t)?t(e.current):t}function sn(e,t){return e.current=tn(tn({},e.current),t),t}function dn(e,t,n){return on(t)?t(e.current):Object.keys(n).forEach((function(n){var r;return null===(r=t[n])||void 0===r?void 0:r.call(t,e.current[n])})),n}var pn={create:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ln.initial(e),ln.handler(t);var n={current:e},r=rn(dn)(n,t),a=rn(sn)(n),o=rn(ln.changes)(e),i=rn(un)(n);function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return ln.selector(e),e(n.current)}function l(e){nn(r,a,o,i)(e)}return[c,l]}},fn={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.33.0/min/vs"}};var bn=function(e){return{}.toString.call(e).includes("Object")};var mn={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "},gn=function(e){return function t(){for(var n=this,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return a.length>=e.length?e.apply(this,a):function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return t.apply(n,[].concat(a,r))}}}((function(e,t){throw new Error(e[t]||e.default)}))(mn),hn={config:function(e){return e||gn("configIsRequired"),bn(e)||gn("configType"),e.urls?(console.warn(mn.deprecation),{paths:{vs:e.urls.monacoBase}}):e}},vn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}};var yn=function e(t,n){return Object.keys(n).forEach((function(r){n[r]instanceof Object&&t[r]&&Object.assign(n[r],e(t[r],n[r]))})),Jt(Jt({},t),n)},On={type:"cancelation",msg:"operation is manually canceled"};var En,jn,wn=function(e){var t=!1,n=new Promise((function(n,r){e.then((function(e){return t?r(On):n(e)})),e.catch(r)}));return n.cancel=function(){return t=!0},n},Tn=pn.create({config:fn,isInitialized:!1,resolve:null,reject:null,monaco:null}),xn=(jn=2,function(e){if(Array.isArray(e))return e}(En=Tn)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(En,jn)||function(e,t){if(e){if("string"==typeof e)return $t(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$t(e,t):void 0}}(En,jn)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),kn=xn[0],Sn=xn[1];function Cn(e){return document.body.appendChild(e)}function Pn(e){var t,n,r=kn((function(e){return{config:e.config,reject:e.reject}})),a=(t="".concat(r.config.paths.vs,"/loader.js"),n=document.createElement("script"),t&&(n.src=t),n);return a.onload=function(){return e()},a.onerror=r.reject,a}function In(){var e=kn((function(e){return{config:e.config,resolve:e.resolve,reject:e.reject}})),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],(function(t){Nn(t),e.resolve(t)}),(function(t){e.reject(t)}))}function Nn(e){kn().monaco||Sn({monaco:e})}var Rn=new Promise((function(e,t){return Sn({resolve:e,reject:t})})),Mn={config:function(e){var t=hn.config(e),n=t.monaco,r=Qt(t,["monaco"]);Sn((function(e){return{config:yn(e.config,r),monaco:n}}))},init:function(){var e=kn((function(e){return{monaco:e.monaco,isInitialized:e.isInitialized,resolve:e.resolve}}));if(!e.isInitialized){if(Sn({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),wn(Rn);if(window.monaco&&window.monaco.editor)return Nn(window.monaco),e.resolve(window.monaco),wn(Rn);vn(Cn,Pn)(In)}return wn(Rn)},__getMonacoInstance:function(){return kn((function(e){return e.monaco}))}};function _n(){return(_n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const An={display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"};var Dn=function({content:e}){return a.a.createElement("div",{style:An},e)};var Ln={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}};function qn({width:e,height:t,isEditorReady:n,loading:r,_ref:o,className:i,wrapperProps:c}){return a.a.createElement("section",_n({style:{...Ln.wrapper,width:e,height:t}},c),!n&&a.a.createElement(Dn,{content:r}),a.a.createElement("div",{ref:o,style:{...Ln.fullWidth,...!n&&Ln.hide},className:i}))}qn.propTypes={width:f.a.oneOfType([f.a.number,f.a.string]).isRequired,height:f.a.oneOfType([f.a.number,f.a.string]).isRequired,loading:f.a.oneOfType([f.a.element,f.a.string]).isRequired,isEditorReady:f.a.bool.isRequired,className:f.a.string,wrapperProps:f.a.object};var Yn=qn,Fn=Object(r.memo)(Yn);var Vn=function(e){Object(r.useEffect)(e,[])};var Un=function(e,t,n=!0){const a=Object(r.useRef)(!0);Object(r.useEffect)(a.current||!n?()=>{a.current=!1}:e,t)};function Bn(){}function Gn(e,t,n,r){return function(e,t){return e.editor.getModel(Hn(e,t))}(e,r)||function(e,t,n,r){return e.editor.createModel(t,n,r&&Hn(e,r))}(e,t,n,r)}function Hn(e,t){return e.Uri.parse(t)}function zn({original:e,modified:t,language:n,originalLanguage:o,modifiedLanguage:i,originalModelPath:c,modifiedModelPath:l,keepCurrentOriginalModel:u,keepCurrentModifiedModel:s,theme:d,loading:p,options:f,height:b,width:m,className:g,wrapperProps:h,beforeMount:v,onMount:y}){const[O,E]=Object(r.useState)(!1),[j,w]=Object(r.useState)(!0),T=Object(r.useRef)(null),x=Object(r.useRef)(null),k=Object(r.useRef)(null),S=Object(r.useRef)(y),C=Object(r.useRef)(v);Vn(()=>{const e=Mn.init();return e.then(e=>(x.current=e)&&w(!1)).catch(e=>"cancelation"!==(null==e?void 0:e.type)&&console.error("Monaco initialization: error:",e)),()=>T.current?function(){const e=T.current.getModel();var t,n;u||null===(t=e.original)||void 0===t||t.dispose();s||null===(n=e.modified)||void 0===n||n.dispose();T.current.dispose()}():e.cancel()}),Un(()=>{const e=T.current.getModifiedEditor();e.getOption(x.current.editor.EditorOption.readOnly)?e.setValue(t):t!==e.getValue()&&(e.executeEdits("",[{range:e.getModel().getFullModelRange(),text:t,forceMoveMarkers:!0}]),e.pushUndoStop())},[t],O),Un(()=>{T.current.getModel().original.setValue(e)},[e],O),Un(()=>{const{original:e,modified:t}=T.current.getModel();x.current.editor.setModelLanguage(e,o||n),x.current.editor.setModelLanguage(t,i||n)},[n,o,i],O),Un(()=>{x.current.editor.setTheme(d)},[d],O),Un(()=>{T.current.updateOptions(f)},[f],O);const P=Object(r.useCallback)(()=>{C.current(x.current);const r=Gn(x.current,e,o||n,c),a=Gn(x.current,t,i||n,l);T.current.setModel({original:r,modified:a})},[n,t,i,e,o,c,l]),I=Object(r.useCallback)(()=>{T.current=x.current.editor.createDiffEditor(k.current,{automaticLayout:!0,...f}),P(),x.current.editor.setTheme(d),E(!0)},[f,d,P]);return Object(r.useEffect)(()=>{O&&S.current(T.current,x.current)},[O]),Object(r.useEffect)(()=>{!j&&!O&&I()},[j,O,I]),a.a.createElement(Fn,{width:m,height:b,isEditorReady:O,loading:p,_ref:k,className:g,wrapperProps:h})}zn.propTypes={original:f.a.string,modified:f.a.string,language:f.a.string,originalLanguage:f.a.string,modifiedLanguage:f.a.string,originalModelPath:f.a.string,modifiedModelPath:f.a.string,keepCurrentOriginalModel:f.a.bool,keepCurrentModifiedModel:f.a.bool,theme:f.a.string,loading:f.a.oneOfType([f.a.element,f.a.string]),options:f.a.object,width:f.a.oneOfType([f.a.number,f.a.string]),height:f.a.oneOfType([f.a.number,f.a.string]),className:f.a.string,wrapperProps:f.a.object,beforeMount:f.a.func,onMount:f.a.func},zn.defaultProps={theme:"light",loading:"Loading...",options:{},keepCurrentOriginalModel:!1,keepCurrentModifiedModel:!1,width:"100%",height:"100%",wrapperProps:{},beforeMount:Bn,onMount:Bn};var Xn=function(e){const t=Object(r.useRef)();return Object(r.useEffect)(()=>{t.current=e},[e]),t.current};const Wn=new Map;function Kn({defaultValue:e,defaultLanguage:t,defaultPath:n,value:o,language:i,path:c,theme:l,line:u,loading:s,options:d,overrideServices:p,saveViewState:f,keepCurrentModel:b,width:m,height:g,className:h,wrapperProps:v,beforeMount:y,onMount:O,onChange:E,onValidate:j}){const[w,T]=Object(r.useState)(!1),[x,k]=Object(r.useState)(!0),S=Object(r.useRef)(null),C=Object(r.useRef)(null),P=Object(r.useRef)(null),I=Object(r.useRef)(O),N=Object(r.useRef)(y),R=Object(r.useRef)(null),M=Object(r.useRef)(o),_=Xn(c),A=Object(r.useRef)(!1);Vn(()=>{const e=Mn.init();return e.then(e=>(S.current=e)&&k(!1)).catch(e=>"cancelation"!==(null==e?void 0:e.type)&&console.error("Monaco initialization: error:",e)),()=>C.current?function(){var e,t;null===(e=R.current)||void 0===e||e.dispose(),b?f&&Wn.set(c,C.current.saveViewState()):null===(t=C.current.getModel())||void 0===t||t.dispose();C.current.dispose()}():e.cancel()}),Un(()=>{const n=Gn(S.current,e||o,t||i,c);n!==C.current.getModel()&&(f&&Wn.set(_,C.current.saveViewState()),C.current.setModel(n),f&&C.current.restoreViewState(Wn.get(c)))},[c],w),Un(()=>{C.current.updateOptions(d)},[d],w),Un(()=>{C.current.getOption(S.current.editor.EditorOption.readOnly)?C.current.setValue(o):o!==C.current.getValue()&&(C.current.executeEdits("",[{range:C.current.getModel().getFullModelRange(),text:o,forceMoveMarkers:!0}]),C.current.pushUndoStop())},[o],w),Un(()=>{S.current.editor.setModelLanguage(C.current.getModel(),i)},[i],w),Un(()=>{void 0!==u&&C.current.revealLine(u)},[u],w),Un(()=>{S.current.editor.setTheme(l)},[l],w);const D=Object(r.useCallback)(()=>{if(!A.current){N.current(S.current);const r=c||n,a=Gn(S.current,o||e,t||i,r);C.current=S.current.editor.create(P.current,{model:a,automaticLayout:!0,...d},p),f&&C.current.restoreViewState(Wn.get(r)),S.current.editor.setTheme(l),T(!0),A.current=!0}},[e,t,n,o,i,c,d,p,f,l]);return Object(r.useEffect)(()=>{w&&I.current(C.current,S.current)},[w]),Object(r.useEffect)(()=>{!x&&!w&&D()},[x,w,D]),M.current=o,Object(r.useEffect)(()=>{var e,t;w&&E&&(null===(e=R.current)||void 0===e||e.dispose(),R.current=null===(t=C.current)||void 0===t?void 0:t.onDidChangeModelContent(e=>{E(C.current.getValue(),e)}))},[w,E]),Object(r.useEffect)(()=>{if(w){const e=S.current.editor.onDidChangeMarkers(e=>{var t;const n=null===(t=C.current.getModel())||void 0===t?void 0:t.uri;if(n){if(e.find(e=>e.path===n.path)){const e=S.current.editor.getModelMarkers({resource:n});null==j||j(e)}}});return()=>{null==e||e.dispose()}}},[w,j]),a.a.createElement(Fn,{width:m,height:g,isEditorReady:w,loading:s,_ref:P,className:h,wrapperProps:v})}Kn.propTypes={defaultValue:f.a.string,defaultPath:f.a.string,defaultLanguage:f.a.string,value:f.a.string,language:f.a.string,path:f.a.string,theme:f.a.string,line:f.a.number,loading:f.a.oneOfType([f.a.element,f.a.string]),options:f.a.object,overrideServices:f.a.object,saveViewState:f.a.bool,keepCurrentModel:f.a.bool,width:f.a.oneOfType([f.a.number,f.a.string]),height:f.a.oneOfType([f.a.number,f.a.string]),className:f.a.string,wrapperProps:f.a.object,beforeMount:f.a.func,onMount:f.a.func,onChange:f.a.func,onValidate:f.a.func},Kn.defaultProps={theme:"light",loading:"Loading...",options:{},overrideServices:{},saveViewState:!0,keepCurrentModel:!1,width:"100%",height:"100%",wrapperProps:{},beforeMount:Bn,onMount:Bn,onValidate:Bn};var Jn=Kn,Qn=Object(r.memo)(Jn);function $n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$n(Object(n),!0).forEach((function(t){er(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$n(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function er(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return nr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rr(e){return(rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ar=["GET","POST","PATCH","PUT","OPTIONS","DELETE","HEAD","JSONP"];function or(e){var t=e.block,n=e.setDisabled,o=Object(c.d)(),i=t.getIn(["data","api","method"]),l=Object(k.a)().t,s=t.getIn(["data","api","data"]);"object"===rr(s)&&(s=JSON.stringify(s,null,2));var d=tr(Object(r.useState)(!0),2),p=d[0],f=d[1];return Object(r.useEffect)((function(){var e=function(e){var t=e.replaceAll(/{(@|\$){1}\w+\d*}/g,Math.random());try{return JSON.parse(t),!0}catch(e){return!1}}(s);f(e),n(!e)}),[s,n]),a.a.createElement("div",{className:"editable-block"},a.a.createElement(St,{title:l("chatbot.edit.method")}),a.a.createElement("div",{className:"value-group"},a.a.createElement(Xt.a,{styles:{valueContainer:function(e){return Zn(Zn({},e),{},{paddingTop:0,paddingBottom:0})},control:function(e){return Zn(Zn({},e),{},{height:29,minHeight:"unset"})},dropdownIndicator:function(e){return Zn(Zn({},e),{},{padding:0,paddingLeft:8,paddingRight:8})}},className:"value-group-key",value:{value:i,label:i},onChange:function(e){var t=e.value;return o(Object(u.I)("method",t,["api"]))},options:ar.map((function(e){return{value:e,label:e}}))}),a.a.createElement(vt.a,{className:"value-group-value",onChange:function(e){return o(Object(u.I)("url",e.target.value,["api"]))},placeholder:l("chatbot.edit.api-url"),value:t.getIn(["data","api","url"])})),a.a.createElement(lr,{name:"headers",block:t}),a.a.createElement(lr,{name:"params",block:t}),a.a.createElement(cr,{label:l("chatbot.edit.api-data")},a.a.createElement(Qn,{id:"code",height:"250px",defaultLanguage:"json",value:s,onChange:function(e){o(Object(u.I)("data",e,["api"]))}}),p?null:a.a.createElement("p",{className:"color-red"},l("chatbot.edit.api-data-is-invalid"))),a.a.createElement(cr,{label:l("chatbot.edit.api-handler")},a.a.createElement("div",{className:"jumbotron p-3"},l("chatbot.edit.api-handler-info")),a.a.createElement("img",{src:"/img/api_handler_exanple.png",alt:"code example"}),a.a.createElement("div",null,a.a.createElement(Qn,{id:"handler",height:"250px",defaultLanguage:"javascript",value:t.getIn(["data","api","handler"]),onChange:function(e){o(Object(u.I)("handler",e,["api"]))}}))))}var ir=or;function cr(e){var t=e.label,n=e.children,o=tr(Object(r.useState)(!1),2),i=o[0],c=o[1],l=tr(Object(r.useState)(!1),2),u=l[0],s=l[1];return Object(r.useEffect)((function(){setTimeout((function(){s(i)}),0)}),[i]),a.a.createElement("div",null,a.a.createElement("div",{className:"api-edit-collapse",onClick:function(){return c(!i)}},t,a.a.createElement("span",{className:"toggler"},i?a.a.createElement(T.c,null):a.a.createElement(T.b,null))),a.a.createElement(st.a,{isOpen:i},u?n:null))}function lr(e){var t=e.name,n=e.block,r=Object(c.d)(),o=n.getIn(["data","api",t]),i=Object(k.a)().t;return a.a.createElement(cr,{label:i("chatbot.edit.api-"+t)},o.map((function(e,n){return a.a.createElement("div",{key:n,className:"value-group"},a.a.createElement(vt.a,{className:"value-group-key",onChange:function(e){return r(Object(u.I)("key",e.target.value,["api",t,n]))},value:e.get("key")}),a.a.createElement(vt.a,{className:"value-group-value",onChange:function(e){return r(Object(u.I)("value",e.target.value,["api",t,n]))},value:e.get("value")}),a.a.createElement("a",{className:"value-group-remove",onClick:function(){return r(Object(u.I)(t,o.delete(n),["api"]))}},a.a.createElement(T.xb,null)))})),a.a.createElement("a",{className:"add-value-group",onClick:function(){return r(Object(u.I)(t,o.push(Object(l.b)({key:"",value:""})),["api"]))}},a.a.createElement(T.X,null)))}or.propTypes={block:f.a.instanceOf(l.b).isRequired,setDisabled:f.a.func.isRequired},cr.propTypes={label:f.a.any.isRequired,children:f.a.any.isRequired},lr.propTypes={block:f.a.instanceOf(l.b).isRequired,name:f.a.string.isRequired};var ur=n("Vy9V"),sr=n("LdVD");function dr(e){var t,n=e.block,r=Object(c.d)(),o=Object(k.a)().t;return a.a.createElement("div",{className:"editable-block"},a.a.createElement(St,{title:o("chatbot.edit.department")}),a.a.createElement(ur.a,{cacheOptions:!0,defaultOptions:!0,loadOptions:sr.a,onChange:function(e){r(Object(u.I)("text",Object(l.b)(e)))},value:null===(t=n.getIn(["data","text"]))||void 0===t?void 0:t.toJS(),isClearable:!1}))}var pr=dr;dr.propTypes={block:f.a.instanceOf(l.b).isRequired};var fr=n("k/iu"),br=n("MwQV"),mr=n("bTjV");function gr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return hr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vr(e){var t=e.block,n=Object(c.d)(),o=Object(k.a)().t,i=t.getIn(["data","attachment"])||Object(l.b)({}),s=gr(Object(r.useState)(i.get("type")===G.a),2),d=s[0],p=s[1],f=gr(Object(r.useState)(d?i:Object(l.b)({type:G.a})),2),b=f[0],m=f[1],g=gr(Object(r.useState)(d?Object(l.b)({}):i),2),h=g[0],v=g[1],y=d?b:h,O=gr(Object(r.useState)(!1),2),E=O[0],j=O[1];Object(r.useEffect)((function(){n(Object(u.I)("attachment",y))}),[y,n]);var w=Object(r.useCallback)((function(e){var t=new FormData;return t.append("file",e.target.files[0]),j(!0),br.a.call("post","/methods/chat-bots/attachment",{},t).data((function(e){var t=Object(l.b)(e);v(t)})).finally((function(){j(!1)}))}),[]),T=Object(r.useCallback)((function(e){m((function(t){return t.set("url",e.target.value)}))}),[]);return a.a.createElement("div",{className:"editable-block"},a.a.createElement(je.a,{outline:d,onClick:function(){return p(!1)},color:d?"secondary":"primary"},o("chatbot.edit.attachment-file")),a.a.createElement(je.a,{outline:!d,onClick:function(){return p(!0)},color:d?"primary":"secondary"},o("chatbot.edit.attachment-url")),a.a.createElement("div",{className:"mb-2"},d?a.a.createElement(vt.a,{onChange:T,value:y.get("url",""),placeholder:o("chatbot.edit.attachment-url-input")}):a.a.createElement(fr.a,{onChange:w,name:"customFile",label:o("chatbot.edit.attachment-file-input"),id:"attachment-file"})),E?a.a.createElement("div",{className:"text-center mt-4"},a.a.createElement(mr.a,null)):null,i&&a.a.createElement(G.b,{attachment:i}))}var yr=vr;function Or(e){return new Promise((function(t){br.a.call("get","/methods/calendars/search",{q:e}).data((function(e){t(e.map((function(e){return{label:e.name,value:e.id}})))}))}))}function Er(e){var t,n=e.block,r=Object(c.d)(),o=Object(k.a)().t;return a.a.createElement("div",{className:"editable-block"},a.a.createElement(St,{title:o("chatbot.edit.calendar")}),a.a.createElement(ur.a,{cacheOptions:!0,defaultOptions:!0,loadOptions:Or,onChange:function(e){r(Object(u.I)("text",Object(l.b)(e)))},value:null===(t=n.getIn(["data","text"]))||void 0===t?void 0:t.toJS(),isClearable:!1}))}vr.propTypes={block:f.a.instanceOf(l.b).isRequired};var jr=Er;Er.propTypes={block:f.a.instanceOf(l.b).isRequired};var wr,Tr=n("y2Vs"),xr=n("mI4U");function kr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kr(Object(n),!0).forEach((function(t){Ir(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Pr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ir(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Nr=(Ir(wr={},1,{type:1,text:"Select",value:"value"}),Ir(wr,2,{type:2,text:"Link",url:"https://example.com"}),wr);function Rr(e){var t,n=e.block,r=Object(c.d)(),o=Object(k.a)().t,i=n.getIn(["data","activeCard"],0),s=n.getIn(["data","cards"]),d=s.get(i),p=xt.a.range(0,s.size).map((function(e){return{label:"Card#".concat(e+1),value:e}})),f=(Ir(t={},1,{value:1,label:o("chatbot.edit.card-button-postback")}),Ir(t,2,{value:2,label:o("chatbot.edit.card-button-url")}),t);return a.a.createElement("div",null,a.a.createElement(Rt.a,{className:"mb-3"},a.a.createElement(Mt.a,{sm:6},a.a.createElement(Tr.a,{onChange:function(e){return r(Object(u.I)("activeCard",e?e.value:0))},options:p,value:p[i]})),a.a.createElement(Mt.a,{sm:3},a.a.createElement("a",{className:"add-card",onClick:function(){r(Object(u.I)("cards",s.push(Object(l.b)({title:"New card",description:"",image_id:null,buttons:Object(l.a)([])})))),r(Object(u.I)("activeCard",s.size))}},a.a.createElement(T.X,null))),s.size>1&&a.a.createElement(Mt.a,{sm:3},a.a.createElement("a",{className:"remove-card",onClick:function(){r(Object(u.I)("activeCard",i&&i-1)),r(Object(u.I)("cards",s.remove(i)))}},a.a.createElement(T.xb,null)))),a.a.createElement(ie.a,null,a.a.createElement(xr.a,{id:"card_image",name:"card_image",key:"image"+i,files:[d.get("image_id")],onChange:function(e,t){var n=Cr(e,1)[0],a=Cr(t,1)[0],o=d.set("image_id",n).set("image",a&&Object(l.b)(a));r(Object(u.I)(i,o,["cards"]))},maxFilesCount:1,types:["image/*"]}),a.a.createElement(Ee.a,null,a.a.createElement(vt.a,{onChange:function(e){return r(Object(u.I)("title",e.target.value,["cards",i]))},value:d.get("title")}),a.a.createElement(vt.a,{type:"textarea",onChange:function(e){r(Object(u.I)("description",e.target.value,["cards",i]))},value:d.get("description")}),a.a.createElement("label",{className:"mt-3"},o("chatbot.edit.card-buttons")),d.get("buttons").map((function(e,t){return a.a.createElement("div",{key:t,className:"card-button-group"},a.a.createElement(Tr.a,{styles:{valueContainer:function(e){return Sr(Sr({},e),{},{paddingTop:0,paddingBottom:0})},control:function(e){return Sr(Sr({},e),{},{height:29,minHeight:"unset"})},dropdownIndicator:function(e){return Sr(Sr({},e),{},{padding:0,paddingLeft:8,paddingRight:8})}},className:"card-button-group-type",options:Object.values(f),value:f[e.get("type")],onChange:function(e){var n=e.value;r(Object(u.I)(t,Object(l.b)(Nr[n]),["cards",i,"buttons"]))}}),a.a.createElement(vt.a,{className:"card-button-group-text",value:e.get("text"),onChange:function(e){return r(Object(u.I)("text",e.target.value,["cards",i,"buttons",t]))}}),1===e.get("type")?a.a.createElement(vt.a,{className:"card-button-group-value",value:e.get("value"),onChange:function(e){return r(Object(u.I)("value",e.target.value,["cards",i,"buttons",t]))}}):a.a.createElement(vt.a,{className:"card-button-group-value",value:e.get("url"),onChange:function(e){return r(Object(u.I)("url",e.target.value,["cards",i,"buttons",t]))}}),a.a.createElement("a",{className:"card-button-group-remove",onClick:function(){r(Object(u.I)("buttons",d.get("buttons").remove(t),["cards",i]))}},a.a.createElement(T.xb,null)))})),a.a.createElement("a",{className:"add-button",onClick:function(){r(Object(u.I)("buttons",d.get("buttons").push(Object(l.b)(Nr[2])),["cards",i]))}},a.a.createElement(T.X,null)))))}var Mr=Rr;Rr.propTypes={block:f.a.instanceOf(l.b).isRequired};var _r=n("5f+b");function Ar(e){var t,n=e.block,r=Object(c.d)(),o=Object(k.a)().t;return a.a.createElement("div",{className:"editable-block"},a.a.createElement(St,{title:o("chatbot.edit.campaign")}),a.a.createElement(ur.a,{cacheOptions:!0,defaultOptions:!0,loadOptions:_r.a,onChange:function(e){r(Object(u.I)("text",Object(l.b)(e)))},value:null===(t=n.getIn(["data","text"]))||void 0===t?void 0:t.toJS(),isClearable:!1}))}var Dr=Ar;Ar.propTypes={block:f.a.instanceOf(l.b).isRequired};var Lr=n("Buep");function qr(e){var t=e.value,n=e.onChange,r=e.setFieldLabel,o=Object(k.a)().t;return a.a.createElement(Lr.a,{id:"google_account_id",label:o("chatbot.google-sheets-integration.google-account"),name:"google_account_id",value:t,setFieldValue:function(e,t){n(t)},setFieldLabel:r,loadOptions:function(){return new Promise((function(e){br.a.call("get","/methods/google-services/search-company-google-accounts").data((function(t){e(t.map((function(e){return{label:e.email,value:e.id}})))}))}))},loadValue:function(e){return new Promise((function(t){br.a.call("get","/methods/google-services/company-google-accounts/".concat(e)).data((function(e){t({label:e.email,value:e.id})}))}))},errors:{}})}qr.propTypes={value:f.a.number,onChange:f.a.func.isRequired,setFieldLabel:f.a.func.isRequired};var Yr=qr;function Fr(e){var t=e.googleAccountId,n=e.value,r=e.onChange,o=e.setFieldLabel,i=Object(k.a)().t;return a.a.createElement(Lr.a,{key:t,id:"sheet_id",label:i("chatbot.google-sheets-integration.spreadsheet"),name:"sheet_id",value:n,setFieldValue:function(e,t){r(t)},setFieldLabel:o,loadOptions:function(){return new Promise((function(e){br.a.call("get","/methods/google-services/sheets/".concat(t)).data((function(t){e(t.map((function(e){return{label:e.name,value:e.id}})))}))}))},loadValue:function(){return new Promise((function(e){br.a.call("get","/methods/google-services/sheets/".concat(t,"/spreadsheets/").concat(n,"/")).data((function(t){e({label:t.title,value:t.id})}))}))},errors:{},selectOptions:{cacheOptions:!1}})}Fr.propTypes={googleAccountId:f.a.number.isRequired,value:f.a.string,onChange:f.a.func.isRequired,setFieldLabel:f.a.func.isRequired};var Vr=Fr,Ur=n("8WGv");function Br(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Gr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Hr(e){var t=e.googleAccountId,n=e.sheetId,o=e.value,i=e.onChange,c=Object(k.a)().t,l=Br(Object(r.useState)([]),2),u=l[0],s=l[1];Object(r.useEffect)((function(){t&&n?br.a.call("get","/methods/google-services/sheets/".concat(t,"/spreadsheets/").concat(n,"/pages")).data((function(e){s(e.map((function(e){return{label:e.name,value:e.name}})))})):s([])}),[t,n]);return a.a.createElement(Ur.a,{key:"".concat(t,"-").concat(n),id:"page",label:c("chatbot.google-sheets-integration.page"),name:"page",value:o,setFieldValue:function(e,t){i(t)},options:u,errors:{}})}Hr.propTypes={googleAccountId:f.a.number.isRequired,sheetId:f.a.string.isRequired,value:f.a.string,onChange:f.a.func.isRequired};var zr=Hr,Xr=n("6Rhw");function Wr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Kr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jr(e){var t=e.index,n=e.configItem,r=e.onChange,o=e.onRemove,i=e.columns,c=Object(k.a)().t;return a.a.createElement(ie.a,{className:"mb-3"},a.a.createElement(Ee.a,null,a.a.createElement(Rt.a,null,a.a.createElement(Mt.a,{sm:10,className:"pr-0"},a.a.createElement("div",{className:"value-group"},a.a.createElement(Ur.a,{className:"value-group-column mr-2",id:"item[".concat(t,"][columnName]"),label:c("chatbot.google-sheets-integration.table-column"),name:"item[".concat(t,"][columnName]"),value:n.get("columnName"),setFieldValue:function(e,t){r(n.set("columnName",t))},options:i,errors:{}}),a.a.createElement(Xr.a,{className:"value-group-variable",id:"item[".concat(t,"][variableName]"),label:c("chatbot.google-sheets-integration.variable"),value:n.get("variableName")||"",onChange:function(e){r(n.set("variableName",e.target.value))},name:"item[".concat(t,"][variableName]")}))),a.a.createElement(Mt.a,{sm:2,className:"px-1"},a.a.createElement(je.a,{type:"button",className:"btn-action",onClick:o},"-")))))}function Qr(e){var t=e.googleAccountId,n=e.sheetId,o=e.page,i=e.value,c=e.onChange,u=Wr(Object(r.useState)([]),2),s=u[0],d=u[1],p=Object(r.useCallback)((function(){c(i.push(Object(l.b)({columnName:null,variableName:null})))}),[i,c]);return Object(r.useEffect)((function(){i.size||p()}),[i,p]),Object(r.useEffect)((function(){t&&n&&o&&br.a.call("get","/methods/google-services/sheets/".concat(t,"/spreadsheets/").concat(n,"/columns/").concat(o)).data((function(e){d(e.map((function(e){return{label:e,value:e}})))}))}),[t,n,o]),a.a.createElement("div",null,a.a.createElement("div",null,i.map((function(e,t){var n=i.slice(0,t).map((function(e){return e.get("columnName")})).filter(Boolean),r=s.filter((function(e){return-1===n.findIndex((function(t){return t===e.value}))}));return a.a.createElement(Jr,{key:t,columns:r,onChange:function(e){c(i.set(t,e))},onRemove:function(){c(i.delete(t))},configItem:e,index:t})}))),a.a.createElement("div",null,a.a.createElement(je.a,{type:"button",className:"btn-action",onClick:p},a.a.createElement(T.X,{className:"plus-icon"}))))}Jr.propTypes={index:f.a.number.isRequired,configItem:f.a.object.isRequired,onChange:f.a.func.isRequired,onRemove:f.a.func.isRequired,columns:f.a.array.isRequired},Qr.propTypes={googleAccountId:f.a.number.isRequired,sheetId:f.a.string.isRequired,page:f.a.string.isRequired,value:f.a.object,onChange:f.a.func.isRequired};var $r=Qr,Zr=n("CXWj");function ea(e){var t=e.block,n=Object(k.a)().t,r=Object(c.d)(),o=t.getIn(["data","googleSheet"]),i=o.get("googleAccountId"),s=o.get("sheetId"),d=function(e){return r(Object(u.I)("sheetId",e,["googleSheet"]))},p=o.get("page"),f=function(e){return r(Object(u.I)("page",e,["googleSheet"]))},b=o.get("appendNew"),m=o.get("variablesConfigs"),g=function(e){r(Object(u.I)("variablesConfigs",e,["googleSheet"]))},h=o.get("meta"),v=function(e){r(Object(u.I)("meta",e,["googleSheet"]))};return a.a.createElement("div",{className:"editable-block"},a.a.createElement(Yr,{value:i,onChange:function(e){!function(e){r(Object(u.I)("googleAccountId",e,["googleSheet"]))}(e),d(null),f(null),g(Object(l.a)([]))},setFieldLabel:function(e){v(h.set("email",e).set("sheetName",null).set("page",null))}}),i?a.a.createElement(Vr,{googleAccountId:i,value:s,onChange:function(e){d(e),f(null),g(Object(l.a)([]))},setFieldLabel:function(e){v(h.set("sheetName",e).set("page",null))}}):null,s?a.a.createElement(zr,{googleAccountId:i,sheetId:s,value:p,onChange:function(e){f(e),g(Object(l.a)([])),v(h.set("page",e))}}):null,p?a.a.createElement(a.a.Fragment,null,a.a.createElement(Zr.a,{id:"appendNew",name:"appendNew",label:n("chatbot.google-sheets-integration.append-new-row"),value:b,setFieldValue:function(e,t){!function(e){r(Object(u.I)("appendNew",e,["googleSheet"]))}(t)}}),a.a.createElement($r,{googleAccountId:i,sheetId:s,page:p,value:m,onChange:function(e){g(e)}})):null)}var ta=ea;ea.propTypes={block:f.a.instanceOf(l.b).isRequired};var na=n("vtrE");function ra(e){var t=e.block,n=Object(k.a)().t,r=Object(c.d)(),o=t.getIn(["data","validators"]);return a.a.createElement("div",{className:"editable-block"},a.a.createElement(na.a,{formGroupClass:"py-0",labelClass:"editable-label",label:n("chatbot.validator-label"),errors:{},name:"validator",value:o.toJS(),setFieldValue:function(e,t){r(Object(u.I)("validators",Object(l.a)(t.length?[t.pop()]:[])))},options:[{label:"number",value:"number"},{label:"decimal",value:"decimal"},{label:"email",value:"email"},{label:"phone",value:"phone"},{label:"date",value:"date"}]}))}ra.propTypes={block:f.a.instanceOf(l.b).isRequired};var aa=ra;function oa(e){var t=e.block,n=Object(c.d)(),r=Object(k.a)().t;return a.a.createElement("div",{className:"editable-block"},a.a.createElement(St,{title:r("chatbot.edit.message"),tooltip:r("chatbot.edit.message-help")}),a.a.createElement("div",{dangerouslySetInnerHTML:{__html:r("chatbot.edit.code-executor-help")}}),a.a.createElement("div",{className:"mb-4"},a.a.createElement(Qn,{height:"225px",defaultLanguage:"javascript",readOnly:!0,options:{readOnly:!0},defaultValue:"let res = '';\nif (variables.someVar3 === 'test' && globalVariables.isAllowed === 1) {\n    res = (variables.someVar1 + variables.someVar2) * 1.1;\n} else {\n    res = (variables.someVar1 - variables.someVar2) / 2;\n}\n\nreturn {\n    variables: { price: res },\n    html: `Total amount: <b>${res}$</b>`,\n};"})),a.a.createElement(_t.a,{htmlFor:"code",className:"mb-1"},r("chatbot.edit.code-executor-label")),a.a.createElement(Qn,{id:"code",height:"250px",defaultLanguage:"javascript",value:t.getIn(["data","jsHandler"]),onChange:function(e){n(Object(u.I)("jsHandler",e))}}))}var ia=oa;function ca(e){var t=e.block,n=Object(c.d)(),r=Object(k.a)().t,o=Object(Tt.range)(0,7);return a.a.createElement("div",{className:"editable-block"},a.a.createElement(St,{title:r("chatbot.edit.delay-label"),tooltip:r("chatbot.edit.delay-help")}),a.a.createElement("div",{className:"mt-1"},o.map((function(e){return a.a.createElement(je.a,{key:e,type:"button",onClick:function(){return n(Object(u.I)("delay",e))},className:6===e?null:"mr-1",color:e===+t.getIn(["data","delay"])?"primary":"light"},e)}))))}oa.propTypes={block:f.a.instanceOf(l.b).isRequired},ca.propTypes={block:f.a.instanceOf(l.b).isRequired};var la=ca;function ua(e){var t=e.value,n=e.onChange,r=e.setFieldLabel,o=Object(k.a)().t;return a.a.createElement(Lr.a,{id:"product_catalog_id",label:o("chatbot.shop.product-catalog-label"),name:"product_catalog_id",value:t,setFieldValue:function(e,t){n(t)},loadOptions:function(){return new Promise((function(e){br.a.call("get","/methods/product-catalogs/search").data((function(t){e(t.map((function(e){return{label:e.name,value:e.id}})))}))}))},loadValue:function(e){return new Promise((function(t){br.a.call("get","/methods/product-catalogs/".concat(e)).data((function(e){t({label:e.name,value:e.id})}))}))},setFieldLabel:r,errors:{}})}ua.propTypes={value:f.a.number,onChange:f.a.func.isRequired,setFieldLabel:f.a.func.isRequired};var sa=ua;function da(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return pa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pa(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fa(e){var t=e.catalogId,n=e.value,o=e.onChange,i=e.maxLength,c=e.setFieldLabel,l=Object(k.a)().t,u=da(Object(r.useState)(""),2),s=u[0],p=u[1],f=da(Object(r.useState)([]),2),b=f[0],m=f[1],g=n||[],h=Object(r.useCallback)((function(e){return new Promise((function(n){br.a.call("get","/methods/product-catalogs/".concat(t,"/items/search"),{q:e}).data((function(e){n(e)}))}))}),[t]);return Object(r.useEffect)((function(){h(s).then((function(e){m(e)}))}),[h,s]),a.a.createElement("div",null,a.a.createElement(Xr.a,{label:l("chatbot.shop.product-items-label"),id:"product-search",name:"search",type:"text",value:s,onChange:function(e){p(e.target.value)}}),a.a.createElement("ul",{className:"list-unstyled d-flex flex-wrap shop-product-list"},b.map((function(e){var t=g.includes(e.internal_product_id);return a.a.createElement("li",{className:d()("shop-product-item m-1 rounded",{active:t}),key:e.internal_product_id},a.a.createElement("div",{className:"d-block product-item-link",type:"button",onClick:function(){var t=n?n.slice():[];t.includes(e.internal_product_id)?t=t.filter((function(t){return t!==e.internal_product_id})):(t.push(e.internal_product_id),i&&(t=t.slice(-1*i))),o(t),c(b.filter((function(e){return t.includes(e.internal_product_id)})).map((function(e){return e.title})).join(","))}},a.a.createElement("div",{className:"product-item-img-wrapper"},a.a.createElement("img",{src:e.image_link,alt:e.title,className:"img-responsive"})),a.a.createElement("div",{className:"product-title p-1"},e.title)))}))))}fa.propTypes={maxLength:f.a.number,catalogId:f.a.number.isRequired,value:f.a.array,onChange:f.a.func.isRequired,setFieldLabel:f.a.func.isRequired};var ba=fa;function ma(e){var t=e.block,n=Object(k.a)().t,r=Object(c.d)(),o=t.getIn(["data","singleProduct"]),i=o.get("catalogId"),l=o.get("productRetailerId"),s=function(e){return r(Object(u.I)("productRetailerId",e,["singleProduct"]))};return a.a.createElement("div",{className:"editable-block"},a.a.createElement(Xr.a,{name:"bodyText",label:n("chatbot.shop.body-text-label"),value:o.get("bodyText"),onChange:function(e){r(Object(u.I)("bodyText",e.target.value,["singleProduct"]))}}),a.a.createElement(Xr.a,{name:"footerText",label:n("chatbot.shop.footer-text-label"),value:o.get("footerText"),onChange:function(e){r(Object(u.I)("footerText",e.target.value,["singleProduct"]))}}),a.a.createElement(sa,{value:i,onChange:function(e){!function(e){r(Object(u.I)("catalogId",e,["singleProduct"]))}(e),s(null)},setFieldLabel:function(e){r(Object(u.I)("catalogName",e,["singleProduct","meta"]))}}),i?a.a.createElement(ba,{catalogId:i,value:l?[l]:[],onChange:function(e){s(e&&e.length?e[0]:null)},setFieldLabel:function(e){r(Object(u.I)("productName",e,["singleProduct","meta"]))},maxLength:1}):null)}var ga=ma;function ha(e){var t=e.block,n=Object(k.a)().t,r=Object(c.d)(),o=t.getIn(["data","multipleProducts"]),i=o.get("catalogId"),s=o.get("wholeCatalog"),d=o.get("products",Object(l.a)([])),p=function(e){return r(Object(u.I)("products",e,["multipleProducts"]))},f=function(e){r(Object(u.I)("productName",e,["multipleProducts","meta"]))};return a.a.createElement("div",{className:"editable-block"},a.a.createElement(Xr.a,{name:"headerText",label:n("chatbot.shop.header-text-label"),value:o.get("headerText"),onChange:function(e){r(Object(u.I)("headerText",e.target.value,["multipleProducts"]))}}),a.a.createElement(Xr.a,{name:"bodyText",label:n("chatbot.shop.body-text-label"),value:o.get("bodyText"),onChange:function(e){r(Object(u.I)("bodyText",e.target.value,["multipleProducts"]))}}),a.a.createElement(Xr.a,{name:"footerText",label:n("chatbot.shop.footer-text-label"),value:o.get("footerText"),onChange:function(e){r(Object(u.I)("footerText",e.target.value,["multipleProducts"]))}}),a.a.createElement(sa,{value:i,onChange:function(e){!function(e){r(Object(u.I)("catalogId",e,["multipleProducts"]))}(e),p([])},setFieldLabel:function(e){r(Object(u.I)("catalogName",e,["multipleProducts","meta"]))}}),a.a.createElement(Zr.a,{id:"wholeCatalog",name:"wholeCatalog",label:n("chatbot.shop.whole-catalog-label"),value:s,setFieldValue:function(e,t){!function(e){r(Object(u.I)("wholeCatalog",e,["multipleProducts"]))}(t),f(n("chatbot.shop.all-products"))}}),i&&!s?a.a.createElement(ba,{catalogId:i,value:Array.isArray(d)?d:d.toArray(),onChange:function(e){p(e)},setFieldLabel:f}):null)}ma.propTypes={block:f.a.instanceOf(l.b).isRequired};var va=ha;ha.propTypes={block:f.a.instanceOf(l.b).isRequired};var ya=n("jrRI");var Oa=function(e){var t=e.block,n=Object(c.d)(),r=t.getIn(["data","stripe"]),o=Object(k.a)().t;return a.a.createElement("div",{className:"editable-block"},a.a.createElement(Xr.a,{id:"key",name:"key",label:o("chatbot.stripe-payment.key-label"),value:r.get("key")||"",onChange:function(e){n(Object(u.I)("key",e.target.value,["stripe"]))}}),a.a.createElement(Xr.a,{id:"secret",name:"secret",label:o("chatbot.stripe-payment.secret-label"),value:r.get("secret")||"",onChange:function(e){n(Object(u.I)("secret",e.target.value,["stripe"]))}}),a.a.createElement(Xr.a,{name:"currency",label:o("chatbot.stripe-payment.currency-label"),value:r.get("currency")||"",onChange:function(e){n(Object(u.I)("currency",e.target.value,["stripe"]))}}),a.a.createElement(Xr.a,{name:"currency_locale",label:o("chatbot.stripe-payment.currency-locale-label"),value:r.get("currency_locale")||"",onChange:function(e){n(Object(u.I)("currency_locale",e.target.value,["stripe"]))}}),a.a.createElement(ya.a,null,a.a.createElement(_t.a,null,o("chatbot.stripe-payment.variable-label")),a.a.createElement(mt.a,null,a.a.createElement(gt.a,{addonType:"prepend"},a.a.createElement(ht.a,null,"@")),a.a.createElement(vt.a,{onChange:function(e){return n(Object(u.I)("variable",e.target.value,["stripe"]))},value:r.get("variable")||"",disabled:r.get("fixed_price")}))))};function Ea(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ja(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ea(Object(n),!0).forEach((function(t){wa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ea(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ta(e){var t=e.block,n=Object(c.d)(),r=Object(c.e)((function(e){return e.chatbot.getIn(["item","pages"])})),o=Object(k.a)().t,i=r.map((function(e){return{label:e.get("name")||o("chatbot.main-page"),value:e.get("index")}})).toJS(),l=i.find((function(e){return+e.value==+t.getIn(["data","text"])}));return a.a.createElement("div",{className:"editable-block"},a.a.createElement(mt.a,null,a.a.createElement(gt.a,{addonType:"prepend"},a.a.createElement(ht.a,null,a.a.createElement(E.I,null))),a.a.createElement(Tr.a,{styles:{container:function(e){return ja(ja({},e),{},{width:200})}},className:"card-button-group-type",options:i,value:l,onChange:function(e){var t=e.value;n(Object(u.I)("text",t))}})))}var xa=Ta;Ta.propTypes={block:f.a.instanceOf(l.b).isRequired};var ka=["live-chat-request","restart","STOP","UNSUBSCRIBE","finish-chat","finish-chat-due-to-inactivity-timeout"];function Sa(e){var t=e.block,n=e.setDisabled;switch(t.get("type")){case v.a.TYPE_QUESTION:return a.a.createElement(a.a.Fragment,null,a.a.createElement(Nt,{buttonsAllowed:!0,block:t}),a.a.createElement(la,{block:t}),a.a.createElement(Ot,{block:t}),a.a.createElement(aa,{block:t}));case v.a.TYPE_BUTTONS:case v.a.TYPE_SELECT:return a.a.createElement(a.a.Fragment,null,a.a.createElement(Nt,{block:t}),a.a.createElement(la,{block:t}),a.a.createElement(Ot,{block:t}),a.a.createElement(Ft,{block:t}));case v.a.TYPE_SWITCH:return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ot,{block:t}),a.a.createElement(Ft,{block:t}),a.a.createElement(la,{block:t}));case v.a.TYPE_TRIGGER:return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ut,{block:t}),a.a.createElement(Ot,{block:t}));case v.a.TYPE_GO_TO_PAGE:return a.a.createElement(a.a.Fragment,null,a.a.createElement(xa,{block:t}));case v.a.TYPE_TRIGGER_WORD:case v.a.TYPE_TRIGGER_EVENT:return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ut,{block:t,possibleValues:ka}));case v.a.TYPE_SET_VARIABLE:return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ot,{block:t}),a.a.createElement(Gt,{block:t}));case v.a.TYPE_TAG:return a.a.createElement(a.a.Fragment,null,a.a.createElement(zt,{block:t}));case v.a.TYPE_DEPARTMENT:return a.a.createElement(a.a.Fragment,null,a.a.createElement(pr,{block:t}));case v.a.TYPE_API_CONTENT:return a.a.createElement(a.a.Fragment,null,a.a.createElement(Nt,{block:t}),a.a.createElement(Ot,{block:t}),a.a.createElement(ir,{block:t,setDisabled:n}),a.a.createElement(Ft,{block:t}));case v.a.TYPE_MESSAGE:return a.a.createElement(a.a.Fragment,null,a.a.createElement(Nt,{buttonsAllowed:!0,block:t}),a.a.createElement(la,{block:t}),a.a.createElement(yr,{block:t}));case v.a.TYPE_CALENDAR:return a.a.createElement(a.a.Fragment,null,a.a.createElement(jr,{block:t}),a.a.createElement(la,{block:t}));case v.a.TYPE_CALL_OPERATOR:case v.a.TYPE_NOTIFICATION:return a.a.createElement(a.a.Fragment,null,a.a.createElement(Nt,{block:t}));case v.a.TYPE_CAROUSEL:return a.a.createElement(a.a.Fragment,null,a.a.createElement(Mr,{block:t}),a.a.createElement(la,{block:t}));case v.a.TYPE_SUBSCRIBE_CAMPAIGN:return a.a.createElement(a.a.Fragment,null,a.a.createElement(Dr,{block:t}));case v.a.TYPE_GOOGLE_SHEET:return a.a.createElement(a.a.Fragment,null,a.a.createElement(ta,{block:t}));case v.a.TYPE_CODE_EXECUTOR:return a.a.createElement(a.a.Fragment,null,a.a.createElement(ia,{block:t}));case v.a.TYPE_SINGLE_PRODUCT:return a.a.createElement(a.a.Fragment,null,a.a.createElement(ga,{block:t}));case v.a.TYPE_MULTIPLE_PRODUCTS:return a.a.createElement(a.a.Fragment,null,a.a.createElement(va,{block:t}));case v.a.TYPE_STRIPE_PAYMENT:return a.a.createElement(a.a.Fragment,null,a.a.createElement(Oa,{block:t}));default:return a.a.createElement("div",null,"Not implemented view for ",t.get("type"))}}var Ca=Sa;function Pa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ia(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ia(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ia(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Na(e){var t=e.block,n=Object(k.a)().t,o=Object(c.d)(),i=Object(x.h)(t.get("type")),l=Pa(Object(r.useState)(!1),2),s=l[0],d=l[1];return a.a.createElement("div",{className:"block-edit"},a.a.createElement("div",{style:{backgroundColor:i.color},className:"header"},Object(x.g)(t.get("type"))," ",n(i.langKey)),a.a.createElement("div",{className:"block-edit-body"},a.a.createElement(Ca,{block:t,setDisabled:d})),a.a.createElement("div",{className:"actions"},a.a.createElement(je.a,{outline:!0,color:"danger",onClick:function(){o(Object(u.i)())}},n("chatbot.actions.delete")),a.a.createElement("div",{className:"float-right",onClick:function(){o(Object(u.z)(null))}},a.a.createElement(je.a,{color:"info"},n("chatbot.actions.cancel")),a.a.createElement(je.a,{disabled:s,color:"primary",onClick:function(){o(Object(u.v)())}},n("chatbot.actions.save")))))}Sa.propTypes={block:f.a.instanceOf(l.b).isRequired,setDisabled:f.a.func.isRequired},Na.propTypes={block:f.a.instanceOf(l.b)};var Ra=Na,Ma=n("MgzW"),_a=n.n(Ma);function Aa(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"function"==typeof e&&e.apply(void 0,n)}function Da(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var La="react-contextmenu",qa="react-contextmenu--visible",Ya="react-contextmenu-wrapper",Fa="react-contextmenu-item",Va="react-contextmenu-item--active",Ua="react-contextmenu-item--disabled",Ba="react-contextmenu-item--divider",Ga="react-contextmenu-item--selected",Ha="react-contextmenu-submenu",za={},Xa=Boolean("undefined"!=typeof window&&window.document&&window.document.createElement),Wa="REACT_CONTEXTMENU_SHOW",Ka="REACT_CONTEXTMENU_HIDE";function Ja(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,r=void 0;"function"==typeof window.CustomEvent?r=new window.CustomEvent(e,{detail:t}):(r=document.createEvent("CustomEvent")).initCustomEvent(e,!1,!0,t),n&&(n.dispatchEvent(r),_a()(za,t))}function Qa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];Ja(Wa,_a()({},e,{type:Wa}),t)}function $a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];Ja(Ka,_a()({},e,{type:Ka}),t)}var Za=new function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.handleShowEvent=function(e){for(var n in t.callbacks)Da(t.callbacks,n)&&t.callbacks[n].show(e)},this.handleHideEvent=function(e){for(var n in t.callbacks)Da(t.callbacks,n)&&t.callbacks[n].hide(e)},this.register=function(e,n){var r=Math.random().toString(36).substring(7);return t.callbacks[r]={show:e,hide:n},r},this.unregister=function(e){e&&t.callbacks[e]&&delete t.callbacks[e]},this.callbacks={},Xa&&(window.addEventListener(Wa,this.handleShowEvent),window.addEventListener(Ka,this.handleHideEvent))},eo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},to=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function no(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ro(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ao(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var oo=function(e){function t(){var e,n,r;ro(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=ao(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleClick=function(e){0!==e.button&&1!==e.button&&e.preventDefault(),r.props.disabled||r.props.divider||(Aa(r.props.onClick,e,_a()({},r.props.data,za.data),za.target),r.props.preventClose||$a())},ao(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),to(t,[{key:"render",value:function(){var e,t=this,n=this.props,r=n.attributes,o=n.children,i=n.className,c=n.disabled,l=n.divider,u=n.selected,s=d()(i,Fa,r.className,(no(e={},d()(Ua,r.disabledClassName),c),no(e,d()(Ba,r.dividerClassName),l),no(e,d()(Ga,r.selectedClassName),u),e));return a.a.createElement("div",eo({},r,{className:s,role:"menuitem",tabIndex:"-1","aria-disabled":c?"true":"false","aria-orientation":l?"horizontal":null,ref:function(e){t.ref=e},onMouseMove:this.props.onMouseMove,onMouseLeave:this.props.onMouseLeave,onTouchEnd:this.handleClick,onClick:this.handleClick}),l?null:o)}}]),t}(r.Component);oo.propTypes={attributes:f.a.object,children:f.a.node,className:f.a.string,data:f.a.object,disabled:f.a.bool,divider:f.a.bool,onClick:f.a.func,onMouseLeave:f.a.func,onMouseMove:f.a.func,preventClose:f.a.bool,selected:f.a.bool},oo.defaultProps={attributes:{},children:null,className:"",data:{},disabled:!1,divider:!1,onClick:function(){return null},onMouseMove:function(){return null},onMouseLeave:function(){return null},preventClose:!1,selected:!1};var io=oo;var co=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return lo.call(n),n.seletedItemRef=null,n.state={selectedItem:null,forceSubMenuOpen:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(r.Component);co.propTypes={children:f.a.node.isRequired};var lo=function(){var e=this;this.handleKeyNavigation=function(t){if(!1!==e.state.isVisible)switch(t.keyCode){case 37:case 27:t.preventDefault(),e.hideMenu(t);break;case 38:t.preventDefault(),e.selectChildren(!0);break;case 40:t.preventDefault(),e.selectChildren(!1);break;case 39:e.tryToOpenSubMenu(t);break;case 13:t.preventDefault(),e.tryToOpenSubMenu(t);var n=e.seletedItemRef&&e.seletedItemRef.props&&e.seletedItemRef.props.disabled;e.seletedItemRef&&e.seletedItemRef.ref instanceof HTMLElement&&!n?e.seletedItemRef.ref.click():e.hideMenu(t)}},this.handleForceClose=function(){e.setState({forceSubMenuOpen:!1})},this.tryToOpenSubMenu=function(t){e.state.selectedItem&&e.state.selectedItem.type===e.getSubMenuType()&&(t.preventDefault(),e.setState({forceSubMenuOpen:!0}))},this.selectChildren=function(t){var n=e.state.selectedItem,r=[],o=0,i={};if(a.a.Children.forEach(e.props.children,(function t(n,c){n&&([io,e.getSubMenuType()].indexOf(n.type)<0?a.a.Children.forEach(n.props.children,t):n.props.divider||(n.props.disabled&&(++o,i[c]=!0),r.push(n)))})),o!==r.length){var c=function(e){var n=e;do{t?--n:++n,n<0?n=r.length-1:n>=r.length&&(n=0)}while(n!==e&&i[n]);return n===e?null:n}(r.indexOf(n));null!==c&&e.setState({selectedItem:r[c],forceSubMenuOpen:!1})}},this.onChildMouseMove=function(t){e.state.selectedItem!==t&&e.setState({selectedItem:t,forceSubMenuOpen:!1})},this.onChildMouseLeave=function(){e.setState({selectedItem:null,forceSubMenuOpen:!1})},this.renderChildren=function(t){return a.a.Children.map(t,(function(t){var n={};return a.a.isValidElement(t)?[io,e.getSubMenuType()].indexOf(t.type)<0?(n.children=e.renderChildren(t.props.children),a.a.cloneElement(t,n)):(n.onMouseLeave=e.onChildMouseLeave.bind(e),t.type===e.getSubMenuType()&&(n.forceOpen=e.state.forceSubMenuOpen&&e.state.selectedItem===t,n.forceClose=e.handleForceClose,n.parentKeyNavigationHandler=e.handleKeyNavigation),t.props.divider||e.state.selectedItem!==t?(n.onMouseMove=function(){return e.onChildMouseMove(t)},a.a.cloneElement(t,n)):(n.selected=!0,n.ref=function(t){e.seletedItemRef=t},a.a.cloneElement(t,n))):t}))}},uo=co,so=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},po=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function fo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bo=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getMenuPosition=function(){var e=window,t=e.innerWidth,r=e.innerHeight,a=n.subMenu.getBoundingClientRect(),o={};return a.bottom>r?o.bottom=0:o.top=0,a.right<t?o.left="100%":o.right="100%",o},n.getRTLMenuPosition=function(){var e=window.innerHeight,t=n.subMenu.getBoundingClientRect(),r={};return t.bottom>e?r.bottom=0:r.top=0,t.left<0?r.left="100%":r.right="100%",r},n.hideSubMenu=function(e){e.detail&&e.detail.id&&n.menu&&e.detail.id!==n.menu.id||(n.props.forceOpen&&n.props.forceClose(),n.setState({visible:!1,selectedItem:null}),n.unregisterHandlers())},n.handleClick=function(e){e.preventDefault(),n.props.disabled||(Aa(n.props.onClick,e,_a()({},n.props.data,za.data),za.target),n.props.onClick&&!n.props.preventCloseOnClick&&$a())},n.handleMouseEnter=function(){n.closetimer&&clearTimeout(n.closetimer),n.props.disabled||n.state.visible||(n.opentimer=setTimeout((function(){return n.setState({visible:!0,selectedItem:null})}),n.props.hoverDelay))},n.handleMouseLeave=function(){n.opentimer&&clearTimeout(n.opentimer),n.state.visible&&(n.closetimer=setTimeout((function(){return n.setState({visible:!1,selectedItem:null})}),n.props.hoverDelay))},n.menuRef=function(e){n.menu=e},n.subMenuRef=function(e){n.subMenu=e},n.registerHandlers=function(){document.removeEventListener("keydown",n.props.parentKeyNavigationHandler),document.addEventListener("keydown",n.handleKeyNavigation)},n.unregisterHandlers=function(e){document.removeEventListener("keydown",n.handleKeyNavigation),e||document.addEventListener("keydown",n.props.parentKeyNavigationHandler)},n.state=_a()({},n.state,{visible:!1}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),po(t,[{key:"componentDidMount",value:function(){this.listenId=Za.register((function(){}),this.hideSubMenu)}},{key:"getSubMenuType",value:function(){return t}},{key:"shouldComponentUpdate",value:function(e,t){return this.isVisibilityChange=!(this.state.visible===t.visible&&this.props.forceOpen===e.forceOpen||this.state.visible&&e.forceOpen||this.props.forceOpen&&t.visible),!0}},{key:"componentDidUpdate",value:function(){var e=this;if(this.isVisibilityChange)if(this.props.forceOpen||this.state.visible){(window.requestAnimationFrame||setTimeout)((function(){var t=e.props.rtl?e.getRTLMenuPosition():e.getMenuPosition();e.subMenu.style.removeProperty("top"),e.subMenu.style.removeProperty("bottom"),e.subMenu.style.removeProperty("left"),e.subMenu.style.removeProperty("right"),Da(t,"top")&&(e.subMenu.style.top=t.top),Da(t,"left")&&(e.subMenu.style.left=t.left),Da(t,"bottom")&&(e.subMenu.style.bottom=t.bottom),Da(t,"right")&&(e.subMenu.style.right=t.right),e.subMenu.classList.add(qa),e.registerHandlers(),e.setState({selectedItem:null})}))}else{this.subMenu.addEventListener("transitionend",(function t(){e.subMenu.removeEventListener("transitionend",t),e.subMenu.style.removeProperty("bottom"),e.subMenu.style.removeProperty("right"),e.subMenu.style.top=0,e.subMenu.style.left="100%",e.unregisterHandlers()})),this.subMenu.classList.remove(qa)}}},{key:"componentWillUnmount",value:function(){this.listenId&&Za.unregister(this.listenId),this.opentimer&&clearTimeout(this.opentimer),this.closetimer&&clearTimeout(this.closetimer),this.unregisterHandlers(!0)}},{key:"render",value:function(){var e,t=this.props,n=t.children,r=t.attributes,o=t.disabled,i=t.title,c=t.selected,l=this.state.visible,u={ref:this.menuRef,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,className:d()(Fa,Ha,r.listClassName),style:{position:"relative"}},s={className:d()(Fa,r.className,(e={},fo(e,d()(Ua,r.disabledClassName),o),fo(e,d()(Va,r.visibleClassName),l),fo(e,d()(Ga,r.selectedClassName),c),e)),onMouseMove:this.props.onMouseMove,onMouseOut:this.props.onMouseOut,onClick:this.handleClick},p={ref:this.subMenuRef,style:{position:"absolute",transition:"opacity 1ms",top:0,left:"100%"},className:d()(La,this.props.className)};return a.a.createElement("nav",so({},u,{role:"menuitem",tabIndex:"-1","aria-haspopup":"true"}),a.a.createElement("div",so({},r,s),i),a.a.createElement("nav",so({},p,{role:"menu",tabIndex:"-1"}),this.renderChildren(n)))}}]),t}(uo);bo.propTypes={children:f.a.node.isRequired,attributes:f.a.object,title:f.a.node.isRequired,className:f.a.string,disabled:f.a.bool,hoverDelay:f.a.number,rtl:f.a.bool,selected:f.a.bool,onMouseMove:f.a.func,onMouseOut:f.a.func,forceOpen:f.a.bool,forceClose:f.a.func,parentKeyNavigationHandler:f.a.func},bo.defaultProps={disabled:!1,hoverDelay:500,attributes:{},className:"",rtl:!1,selected:!1,onMouseMove:function(){return null},onMouseOut:function(){return null},forceOpen:!1,forceClose:function(){return null},parentKeyNavigationHandler:function(){return null}};var mo=bo,go=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var ho=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.registerHandlers=function(){document.addEventListener("mousedown",n.handleOutsideClick),document.addEventListener("touchstart",n.handleOutsideClick),n.props.preventHideOnScroll||document.addEventListener("scroll",n.handleHide),n.props.preventHideOnContextMenu||document.addEventListener("contextmenu",n.handleHide),document.addEventListener("keydown",n.handleKeyNavigation),n.props.preventHideOnResize||window.addEventListener("resize",n.handleHide)},n.unregisterHandlers=function(){document.removeEventListener("mousedown",n.handleOutsideClick),document.removeEventListener("touchstart",n.handleOutsideClick),document.removeEventListener("scroll",n.handleHide),document.removeEventListener("contextmenu",n.handleHide),document.removeEventListener("keydown",n.handleKeyNavigation),window.removeEventListener("resize",n.handleHide)},n.handleShow=function(e){if(e.detail.id===n.props.id&&!n.state.isVisible){var t=e.detail.position,r=t.x,a=t.y;n.setState({isVisible:!0,x:r,y:a}),n.registerHandlers(),Aa(n.props.onShow,e)}},n.handleHide=function(e){!n.state.isVisible||e.detail&&e.detail.id&&e.detail.id!==n.props.id||(n.unregisterHandlers(),n.setState({isVisible:!1,selectedItem:null,forceSubMenuOpen:!1}),Aa(n.props.onHide,e))},n.handleOutsideClick=function(e){n.menu.contains(e.target)||$a()},n.handleMouseLeave=function(e){e.preventDefault(),Aa(n.props.onMouseLeave,e,_a()({},n.props.data,za.data),za.target),n.props.hideOnLeave&&$a()},n.handleContextMenu=function(e){e.preventDefault(),n.handleHide(e)},n.hideMenu=function(e){27!==e.keyCode&&13!==e.keyCode||$a()},n.getMenuPosition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r={top:t,left:e};if(!n.menu)return r;var a=window,o=a.innerWidth,i=a.innerHeight,c=n.menu.getBoundingClientRect();return t+c.height>i&&(r.top-=c.height),e+c.width>o&&(r.left-=c.width),r.top<0&&(r.top=c.height<i?(i-c.height)/2:0),r.left<0&&(r.left=c.width<o?(o-c.width)/2:0),r},n.getRTLMenuPosition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r={top:t,left:e};if(!n.menu)return r;var a=window,o=a.innerWidth,i=a.innerHeight,c=n.menu.getBoundingClientRect();return r.left=e-c.width,t+c.height>i&&(r.top-=c.height),r.left<0&&(r.left+=c.width),r.top<0&&(r.top=c.height<i?(i-c.height)/2:0),r.left+c.width>o&&(r.left=c.width<o?(o-c.width)/2:0),r},n.menuRef=function(e){n.menu=e},n.state=_a()({},n.state,{x:0,y:0,isVisible:!1}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),go(t,[{key:"getSubMenuType",value:function(){return mo}},{key:"componentDidMount",value:function(){this.listenId=Za.register(this.handleShow,this.handleHide)}},{key:"componentDidUpdate",value:function(){var e=this,t=window.requestAnimationFrame||setTimeout;this.state.isVisible?t((function(){var n=e.state,r=n.x,a=n.y,o=e.props.rtl?e.getRTLMenuPosition(r,a):e.getMenuPosition(r,a),i=o.top,c=o.left;t((function(){e.menu&&(e.menu.style.top=i+"px",e.menu.style.left=c+"px",e.menu.style.opacity=1,e.menu.style.pointerEvents="auto")}))})):t((function(){e.menu&&(e.menu.style.opacity=0,e.menu.style.pointerEvents="none")}))}},{key:"componentWillUnmount",value:function(){this.listenId&&Za.unregister(this.listenId),this.unregisterHandlers()}},{key:"render",value:function(){var e,t,n,r=this.props,o=r.children,i=r.className,c=r.style,l=this.state.isVisible,u=_a()({},c,{position:"fixed",opacity:0,pointerEvents:"none"}),s=d()(La,i,(n=l,(t=qa)in(e={})?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e));return a.a.createElement("nav",{role:"menu",tabIndex:"-1",ref:this.menuRef,style:u,className:s,onContextMenu:this.handleContextMenu,onMouseLeave:this.handleMouseLeave},this.renderChildren(o))}}]),t}(uo);ho.propTypes={id:f.a.string.isRequired,children:f.a.node.isRequired,data:f.a.object,className:f.a.string,hideOnLeave:f.a.bool,rtl:f.a.bool,onHide:f.a.func,onMouseLeave:f.a.func,onShow:f.a.func,preventHideOnContextMenu:f.a.bool,preventHideOnResize:f.a.bool,preventHideOnScroll:f.a.bool,style:f.a.object},ho.defaultProps={className:"",data:{},hideOnLeave:!1,rtl:!1,onHide:function(){return null},onMouseLeave:function(){return null},onShow:function(){return null},preventHideOnContextMenu:!1,preventHideOnResize:!1,preventHideOnScroll:!1,style:{}};var vo=ho,yo=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Oo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Eo(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var jo=function(e){function t(){var e,n,r;Oo(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=Eo(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.touchHandled=!1,r.handleMouseDown=function(e){r.props.holdToDisplay>=0&&0===e.button&&(e.persist(),e.stopPropagation(),r.mouseDownTimeoutId=setTimeout((function(){return r.handleContextClick(e)}),r.props.holdToDisplay)),Aa(r.props.attributes.onMouseDown,e)},r.handleMouseUp=function(e){0===e.button&&clearTimeout(r.mouseDownTimeoutId),Aa(r.props.attributes.onMouseUp,e)},r.handleMouseOut=function(e){0===e.button&&clearTimeout(r.mouseDownTimeoutId),Aa(r.props.attributes.onMouseOut,e)},r.handleTouchstart=function(e){r.touchHandled=!1,r.props.holdToDisplay>=0&&(e.persist(),e.stopPropagation(),r.touchstartTimeoutId=setTimeout((function(){r.handleContextClick(e),r.touchHandled=!0}),r.props.holdToDisplay)),Aa(r.props.attributes.onTouchStart,e)},r.handleTouchEnd=function(e){r.touchHandled&&e.preventDefault(),clearTimeout(r.touchstartTimeoutId),Aa(r.props.attributes.onTouchEnd,e)},r.handleContextMenu=function(e){e.button===r.props.mouseButton&&r.handleContextClick(e),Aa(r.props.attributes.onContextMenu,e)},r.handleMouseClick=function(e){e.button===r.props.mouseButton&&r.handleContextClick(e),Aa(r.props.attributes.onClick,e)},r.handleContextClick=function(e){if(!(r.props.disable||r.props.disableIfShiftIsPressed&&e.shiftKey)){e.preventDefault(),e.stopPropagation();var t=e.clientX||e.touches&&e.touches[0].pageX,n=e.clientY||e.touches&&e.touches[0].pageY;r.props.posX&&(t-=r.props.posX),r.props.posY&&(n-=r.props.posY),$a();var a=Aa(r.props.collect,r.props),o={position:{x:t,y:n},target:r.elem,id:r.props.id};a&&"function"==typeof a.then?a.then((function(t){o.data=_a()({},t,{target:e.target}),Qa(o)})):(o.data=_a()({},a,{target:e.target}),Qa(o))}},r.elemRef=function(e){r.elem=e},Eo(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),yo(t,[{key:"render",value:function(){var e=this.props,t=e.renderTag,n=e.attributes,r=e.children,o=_a()({},n,{className:d()(Ya,n.className),onContextMenu:this.handleContextMenu,onClick:this.handleMouseClick,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onTouchStart:this.handleTouchstart,onTouchEnd:this.handleTouchEnd,onMouseOut:this.handleMouseOut,ref:this.elemRef});return a.a.createElement(t,o,r)}}]),t}(r.Component);jo.propTypes={id:f.a.string.isRequired,children:f.a.node.isRequired,attributes:f.a.object,collect:f.a.func,disable:f.a.bool,holdToDisplay:f.a.number,posX:f.a.number,posY:f.a.number,renderTag:f.a.elementType,mouseButton:f.a.number,disableIfShiftIsPressed:f.a.bool},jo.defaultProps={attributes:{},collect:function(){return null},disable:!1,holdToDisplay:1e3,renderTag:"div",posX:0,posY:0,mouseButton:2,disableIfShiftIsPressed:!1};var wo=jo;Object.assign,function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}}();[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(Object.keys(wo.propTypes)),["children"]);var To=n("T+da");function xo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ko(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ko(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ko(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function So(){var e=Object(c.d)(),t=Object(k.a)().t,n=xo(Object(c.e)((function(e){var t=e.chatbot;return[t.getIn(["item","pages"]),t.getIn(["builder","currentPage"])]})),2),r=n[0],o=n[1];return a.a.createElement("nav",{className:"page-navigation",style:{position:"absolute",bottom:0,height:70,left:Mo+10}},a.a.createElement("ul",{className:"pagination m-0"},r.map((function(n,r){return a.a.createElement("li",{className:d()("page-item",{active:o===n.get("index")}),key:r},a.a.createElement(wo,{data:{page:r},id:0===r?"first_page_menu":"all_pages_menu"},a.a.createElement("a",{"data-page":r,className:"page-link",onClick:function(){o!==n.get("index")&&e(Object(u.y)(n.get("index")))}},0===r?t("chatbot.main-page"):n.get("name"))))})),a.a.createElement("li",{className:"page-item"},a.a.createElement("a",{className:"page-link",onClick:function(){e(Object(u.b)())}},"+"))),a.a.createElement(vo,{id:"all_pages_menu"},a.a.createElement(io,{onClick:function(n,a){var o=r.get(a.target.dataset.page);To.a.prompt(t("chatbot.edit.enter-page-name"),o.get("name")).then((function(t){var n=t.value;n&&e(Object(u.r)(o.get("index"),n))}))}},t("chatbot.actions.rename")),a.a.createElement(io,{onClick:function(t,n){e(Object(u.e)(r.getIn([n.target.dataset.page,"index"])))}},t("chatbot.actions.copy")),a.a.createElement(io,{divider:!0}),a.a.createElement(io,{onClick:function(n,a){To.a.confirm(t("chatbot.edit.delete-page")).then((function(){e(Object(u.q)(r.getIn([a.target.dataset.page,"index"])))}))}},t("chatbot.actions.delete"))),a.a.createElement(vo,{id:"first_page_menu"},a.a.createElement(io,{disabled:!0,onClick:function(){}},t("chatbot.actions.rename")),a.a.createElement(io,{onClick:function(t,n){e(Object(u.e)(r.get(n.target.dataset.page).get("index")))}},t("chatbot.actions.copy")),a.a.createElement(io,{divider:!0}),a.a.createElement(io,{disabled:!0},t("chatbot.actions.delete"))))}So.propTypes={};var Co=So;function Po(){var e=Object(c.d)(),t=Object(c.e)((function(e){return e.chatbot.getIn(["builder","group"])})),n=Object(c.e)((function(e){return e.chatbot.getIn(["item","blocks",t])}));return a.a.createElement("div",{className:"configure"},a.a.createElement(vt.a,{onChange:function(n){return e(Object(u.G)([t,"data","text"],n.target.value))},value:n.getIn(["data","text"])}),a.a.createElement(je.a,{onClick:function(){e(Object(u.A)(n.get("parent_id")))},color:"success"},a.a.createElement(T.e,null)))}Po.propTypes={};var Io=Po;function No(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ro(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ro(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ro(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Mo=300;function _o(e){var t=e.id,n=e.renderConfigure,o=Object(c.e)((function(e){return e.chatbot.getIn(["item","blocks"])}),(function(e,t){return e.size===t.size})),i=Object(c.e)((function(e){return e.chatbot.getIn(["builder","selected"])})),l=Object(c.e)((function(e){return e.chatbot.getIn(["item","anchors"])})),s=Object(c.e)((function(e){return e.chatbot.getIn(["builder","edit"])})),d=No(Object(r.useState)({x:0,y:0}),2),p=d[0],f=d[1],b=No(Object(r.useState)(!1),2),m=b[0],g=b[1];Object(r.useEffect)((function(){g(!0)}),[]);var h=Object(c.d)(),y=Object(c.e)((function(e){return e.chatbot.getIn(["builder","scale"])})),O=Object(c.e)((function(e){return e.chatbot.getIn(["builder","currentPage"])})),E=Object(c.e)((function(e){return e.chatbot.getIn(["builder","group"])})),j=Object(r.useRef)(null),w=No(Object(r.useState)(localStorage.getItem("copy-cb-blocks")),2),T=w[0],x=w[1];Object(r.useEffect)((function(){function e(){var e=localStorage.getItem("copy-cb-blocks");x(e||"")}return window.addEventListener("storage",e),function(){window.removeEventListener("storage",e)}}),[]),Object(r.useEffect)((function(){var e=document.getElementById("wrapper");e&&(e.scrollTop=0,e.scrollLeft=0)}),[O]);var k=Object(r.useCallback)((function(e){if(!e.count())return[];var t=o.filter((function(t){return(![v.a.TYPE_GROUP_START,v.a.TYPE_GROUP_FINISH].includes(t.get("type"))||t.get("parent_id")!==E)&&(e.get(t.get("id").toString())&&![v.a.TYPE_START,v.a.TYPE_START_PAGE].includes(t.get("type")))})).map((function(e){return e.update("parent_id",(function(e){return e===E?null:e}))})).toList().toJS();return t=t.concat(k(o.filter((function(t){var n;return e.has(null===(n=t.get("parent_id"))||void 0===n?void 0:n.toString())})).map((function(e){return e.get("id")}))))}),[o,E]),S=Object(r.useCallback)((function(e){var t=[];return e.forEach((function(n){var r=l.get(n.toString());r&&e.has(r.get("target"))&&t.push(r.toJS())})),t}),[l]),C=Object(r.useCallback)((function(){var e=k(i),t=new Set;e.forEach((function(e){t.add(e.id),e.data.buttons&&e.data.buttons.forEach((function(e){t.add(e.id)}))}));var n=S(t);return JSON.stringify({blocks:e,anchors:n})}),[S,k,i]),P=Object(r.useCallback)((function(){var e=C();x(e),localStorage.setItem("copy-cb-blocks",e)}),[C]);if(Object(r.useEffect)((function(){function e(e){var t=e.target,n=t.tagName&&t.tagName.toLowerCase();t.isContentEditable||"input"===n||"textarea"===n||(46===e.keyCode&&h(Object(u.i)()),e.shiftKey||!e.metaKey&&!e.ctrlKey||(65===e.keyCode&&h(Object(u.x)()),86===e.keyCode&&T&&h(Object(u.n)(T)),67===e.keyCode&&P(),88===e.keyCode&&(P(),h(Object(u.i)())),e.preventDefault()))}return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[P,h,T]),+t!==Object(c.e)((function(e){return e.chatbot.getIn(["item","id"])})))return null;var I=.5-y/200;return a.a.createElement(a.a.Fragment,null,a.a.createElement(bt,{scroll:p,size:220}),a.a.createElement("div",{onScroll:function(e){"wrapper"===e.target.id&&f({y:e.target.scrollTop,x:e.target.scrollLeft})},id:"wrapper",ref:j,style:{width:"calc(100% - ".concat(220,"px)"),height:"100vh",overflow:"scroll",position:"relative",left:220}},a.a.createElement(wo,{id:"builder-field"},a.a.createElement("div",{className:"builder-field",style:{position:"absolute",height:9e3,width:9e3,transform:"scale(".concat(y/100,")"),marginLeft:-9e3*I,marginTop:-9e3*I}},a.a.createElement("div",{style:{width:"100%",height:"100%",position:"relative"}},l.map((function(e,t){return a.a.createElement(ze,{scroll:p,key:t,from:e.get("source"),to:e.get("target")})})).toIndexedSeq(),a.a.createElement(We,{scroll:p}),a.a.createElement("div",{onMouseDown:function(e){0===e.button&&h(Object(u.w)(!1))},style:{position:"absolute",top:0,left:0,bottom:0,right:0}}),o.map((function(e,t){var n;return E?(null===(n=e.get("parent_id"))||void 0===n?void 0:n.toString())===E&&a.a.createElement(Fe,{key:t,index:t}):!e.get("parent_id")&&e.get("page")===O&&a.a.createElement(Fe,{key:t,index:t})})).toIndexedSeq(),s&&a.a.createElement("div",{className:"edit-bgdrop"})))),a.a.createElement(vo,{id:"builder-field"},a.a.createElement(io,{onClick:P},"Copy"),a.a.createElement(io,{disabled:!T,onClick:function(e){var t=j.current.getBoundingClientRect(),n=e.clientX-t.left+p.x,r=e.clientY-t.top+p.y;h(Object(u.n)(T,{x:100*n/y,y:100*r/y}))}},"Paste"),a.a.createElement(io,{disabled:!T,onClick:function(e){h(Object(u.i)())}},"Delete"))),s&&a.a.createElement(Ra,{block:s}),m&&a.a.createElement(Je,{size:9e3,scroll:p,wrapper:j}),!E&&a.a.createElement(Co,null),!E&&m&&n(),E&&a.a.createElement(Io,null))}_o.propTypes={id:f.a.any.isRequired,renderConfigure:f.a.func.isRequired}},l4pp:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("L3zb"),i=n("/MKj"),c=n("DMen"),l=function(){var e=Object(i.d)(),t=Object(i.e)((function(e){return e.chatbot.getIn(["item","name"])}));return a.a.createElement(o.a,{onChange:function(t){return e(Object(c.B)(t.target.value))},value:t})};l.propTypes={},t.a=l},mI4U:function(e,t,n){"use strict";n.d(t,"b",(function(){return k}));var r=n("o0o1"),a=n.n(r),o=n("q1tI"),i=n.n(o),c=n("17x9"),l=n.n(c),u=n("yzbm"),s=n("MwQV"),d=n("bNQv"),p=n.n(d),f=n("mNz5"),b=n.n(f),m=n("ma3e");function g(e){var t=e.onDelete,n=e.url,r=e.imageLoaded;return i.a.createElement("div",{className:"image-preview position-relative mt-4"},i.a.createElement("button",{type:"button",onClick:t,className:"btn btn-link no-shadow position-absolute image-preview-close-btn py-0 px-1 text-dec-none"},i.a.createElement(m.wb,{className:"color-red position-relative"})),i.a.createElement("img",{src:n,alt:"",className:"img-fluid",style:{filter:r?"none":"grayscale(0.7)"}}))}g.propTypes={imageLoaded:l.a.bool,onDelete:l.a.func.isRequired,url:l.a.string.isRequired};var h=n("TSYQ"),v=n.n(h),y=n("9Koi"),O=n("P2Na");function E(e){return new Promise((function(t){var n=new FileReader;n.onloadend=function(){t(n.result)},n.readAsDataURL(e)}))}function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function w(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e){function t(t){var n=t.maxFilesCount,r=t.files,c=t.onChange,l=T(Object(o.useState)([]),2),u=l[0],d=l[1];Object(o.useEffect)((function(){p()(r,(function(e){s.a.call("get","/methods/image/".concat(e)).then((function(t){d((function(n){var r=n.slice();return r.push({id:e,internalId:e,url:t.data}),r}))}))}))}),[]);var f=function(e){d((function(t){var n=t.filter((function(t){return t.internalId!==e}));return setTimeout((function(){return c(n.map((function(e){return e.id})),n)}),0),n}))},m=Object(o.useCallback)((function(e,t){d((function(r){var a=r.slice();return a.unshift({id:null,internalId:e,url:t}),n?a.slice(0,n):a}))}),[d,n]);return i.a.createElement(e,j({},t,{handleAddFile:function(e){var t=e.map(function(){var e,t=(e=a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=b()(),e.next=3,E(t);case 3:return r=e.sent,m(n,r),e.abrupt("return",new Promise((function(e){Object(O.a)(t).then((function(t){d((function(a){var o=a.slice(),i=o.findIndex((function(e){return e.internalId===n}));return-1!==i&&(o[i]={id:t.data.id,internalId:n,url:r}),e(u),o}))})).validation((function(){f(n),e(u)})).catch((function(){f(n),e(u)}))})));case 6:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){w(o,r,a,i,c,"next",e)}function c(e){w(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}());Promise.all(t).then((function(){d((function(e){return setTimeout((function(){return c(e.map((function(e){return e.id})),e)}),0),n?e.slice(0,n):e}))}))},deleteImage:f,loadedImages:u}))}return t.propTypes={maxFilesCount:l.a.number,files:l.a.array,onChange:l.a.func.isRequired},t}function S(e){var t=e.types,n=e.maxFilesCount,r=e.handleAddFile,a=e.loadedImages,o=e.deleteImage,c=Object(y.a)().t;return i.a.createElement("div",null,i.a.createElement(u.a,{onDrop:r,accept:t.length?t:null},(function(e){var t=e.getRootProps,r=e.getInputProps;return i.a.createElement("section",{className:v()("dropzone-class",{disabled:!!n&&n===a.length})},i.a.createElement("div",j({},t(),{className:"load-img d-flex justify-content-center flex-column align-items-center p-3"}),i.a.createElement("input",j({},r(),{multiple:!1})),i.a.createElement(m.d,{className:"icon-size-40 color-gray"}),i.a.createElement("div",{className:"load-img-tip mt-3 text-center"},c("common.drag-and-drop"))))})),i.a.createElement("div",null,a.map((function(e){return i.a.createElement(g,{key:e.internalId,url:e.url,imageLoaded:!!e.id,onDelete:function(){return o(e.internalId)}})}))))}S.propTypes={types:l.a.array,maxFilesCount:l.a.number,handleAddFile:l.a.func.isRequired,loadedImages:l.a.array,deleteImage:l.a.func.isRequired};t.a=k(S)},mNz5:function(e,t,n){var r=n("dt0z"),a=0;e.exports=function(e){var t=++a;return r(e)+t}},"mt+J":function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("ma3e"),l=n("sOKU"),u=n("DCcX"),s=n("vkoW"),d=n("CaDr"),p=n("ok1R"),f=n("rhny"),b=n("MwQV"),m=n("c8c+"),g=n("Mpt7"),h=n("q9PT"),v=n("Vy9V"),y=n("ebzC"),O=n("9Koi");function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k={container:function(e){return T(T({},e),{},{border:"1px solid #ced4da",display:"inline-block",width:"100%",borderRadius:"5px",minHeight:"35px"})},control:function(e){return T(T({},e),{},{border:"none",minHeight:"35px","&, &:hover":{border:"none",boxShadow:"none"},background:"transparent"})},singleValue:function(e){return T(T({},e),{},{margin:"0",font:"normal normal 15px/17px 'Roboto Regular', sans-serif",top:"45%"})},valueContainer:function(e){return T(T({},e),{},{padding:"2px 0 2px 8px",width:"130px"})},indicatorsContainer:function(e){return T(T({},e),{},{"& > div":{padding:"8px 4px 8px 0"},top:"-3px",paddingLeft:"6px",alignItems:"baseline"})},indicatorSeparator:function(e){return T(T({},e),{},{display:"none"})},placeholder:function(e){return T(T({},e),{},{font:"normal normal 15px/18px 'Roboto Regular', sans-serif",color:"#B0B0B0"})},option:function(e){return T(T({},e),{},{font:"normal normal 15px/17px 'Roboto Regular', sans-serif","&:hover, &:focus, &:active":{font:"normal normal 15px/17px 'Roboto Regular', sans-serif"}})}};function S(e){var t,n=e.close,o=e.selectTemplate,i=e.onShowPreview,l=e.name,j=e.setName,w=e.tags,T=e.setTags,x=Object(O.a)().t,S=E(Object(r.useState)([]),2),C=S[0],P=S[1],I=E(Object(r.useState)(null),2),N=I[0],R=I[1],M=Object(r.useRef)(),_=Object(r.useCallback)((function(e){var t={page:1,perPage:8};e.size&&(t.filter=Object(m.a)(e)),b.a.call("get","/methods/templates",t,{}).data((function(e){P(e.data.map(h.a.instantiate))})).catch((function(e){var t=e.response;R(t.data)}))}),[]);return Object(r.useEffect)((function(){M.current&&clearTimeout(M.current),M.current=setTimeout((function(){var e=Object(g.a)([]);l&&(e=e.push(Object(g.b)({column:"templates.name",operator:"like",value:l}))),w.size&&(e=e.push(Object(g.b)({column:"scopeTemplateTagsWhere",operator:"scope",value:w.map((function(e){return e.value})).toJS()}))),_(e)}),300)}),[M,_,l,w]),t=N?a.a.createElement("div",null,x("templates.load-template-modal.error-message")):C?a.a.createElement("table",{className:"table table-bordered table-hover align-middle"},a.a.createElement("tbody",null,C.map((function(e){return a.a.createElement("tr",{key:e.id},a.a.createElement("td",{className:"p-0",width:20},e.imageUrl?a.a.createElement("img",{src:e.imageUrl,alt:e.name,className:"img-fluid",style:{height:40}}):a.a.createElement("div",{style:{width:40,height:40,background:"#cecece"}})),a.a.createElement("td",{className:"p-1 align-middle"},e.name),a.a.createElement("td",{className:"text-center p-1"},a.a.createElement("button",{title:x("templates.load-template-modal.preview-btn"),className:"btn-unstyled p-1",type:"button",onClick:function(){return i(e)}},a.a.createElement(c.A,null))),a.a.createElement("td",{className:"text-center p-1"},a.a.createElement("button",{title:x("templates.load-template-modal.upload-btn"),className:"btn-unstyled p-1",type:"button",onClick:function(){o(e)}},a.a.createElement(c.Bb,null))))})))):null,a.a.createElement(u.a,{isOpen:!0,size:"lg",onClose:n},a.a.createElement(s.a,{toggle:n},a.a.createElement(c.Bb,null)," ",x("templates.load-template-modal.title")),a.a.createElement(d.a,null,a.a.createElement(p.a,null,a.a.createElement(f.a,{sm:4},a.a.createElement(v.a,{styles:k,cacheOptions:!0,defaultOptions:!0,loadOptions:y.a,onChange:function(e){T(Object(g.a)(e))},value:w.toJS(),isMulti:!0,placeholder:""})),a.a.createElement(f.a,{sm:8},a.a.createElement("div",{className:"mb-2"},a.a.createElement("input",{type:"text",className:"form-control",value:l,onChange:function(e){j(e.target.value)}})),t))))}S.propTypes={close:i.a.func.isRequired,onShowPreview:i.a.func.isRequired,selectTemplate:i.a.func.isRequired,name:i.a.string,setName:i.a.func.isRequired,tags:i.a.object,setTags:i.a.func.isRequired};var C=n("/Zzm");function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N(e){var t=e.onTemplateSelected,n=e.renderAlternativeButton,o=Object(O.a)().t,i=P(Object(r.useState)(!1),2),u=i[0],s=i[1],d=P(Object(r.useState)(null),2),p=d[0],f=d[1],b=P(Object(r.useState)(""),2),m=b[0],h=b[1],v=P(Object(r.useState)(Object(g.a)([])),2),y=v[0],E=v[1],j=Object(r.useCallback)((function(){s(!0)}),[]),w=Object(r.useCallback)((function(){s(!1),f(null),h(""),E(Object(g.a)([]))}),[]),T=Object(r.useCallback)((function(e){s(!1),t(e)}),[t]),x=Object(r.useCallback)((function(){s(!0),f(null)}),[]),k=Object(r.useCallback)((function(e){s(!1),f(e.chat_bot_id)}),[]);return a.a.createElement(a.a.Fragment,null,u?a.a.createElement(S,{close:w,selectTemplate:T,onShowPreview:k,name:m,setName:h,tags:y,setTags:E}):null,p&&a.a.createElement(C.a,{close:x,chatBotId:p}),n?n(j):a.a.createElement(l.a,{onClick:j,color:"warning",title:o("chatbot.load-from-template")},a.a.createElement(c.Bb,null)))}N.propTypes={onTemplateSelected:i.a.func.isRequired,renderAlternativeButton:i.a.func}},nsn4:function(e,t,n){"use strict";var r,a=n("wx14"),o=n("zLVn"),i=n("JX7q"),c=n("dI71"),l=n("rePB"),u=n("q1tI"),s=n.n(u),d=n("17x9"),p=n.n(d),f=n("TSYQ"),b=n.n(f),m=n("1w3K"),g=n("33Jr");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=v(v({},m.Transition.propTypes),{},{isOpen:p.a.bool,children:p.a.oneOfType([p.a.arrayOf(p.a.node),p.a.node]),tag:g.q,className:p.a.node,navbar:p.a.bool,cssModule:p.a.object,innerRef:p.a.oneOfType([p.a.func,p.a.string,p.a.object])}),O=v(v({},m.Transition.defaultProps),{},{isOpen:!1,appear:!1,enter:!0,exit:!0,tag:"div",timeout:g.e.Collapse}),E=((r={})[g.d.ENTERING]="collapsing",r[g.d.ENTERED]="collapse show",r[g.d.EXITING]="collapsing",r[g.d.EXITED]="collapse",r);function j(e){return e.scrollHeight}var w=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={height:null},["onEntering","onEntered","onExit","onExiting","onExited"].forEach((function(e){n[e]=n[e].bind(Object(i.a)(n))})),n}Object(c.a)(t,e);var n=t.prototype;return n.onEntering=function(e,t){this.setState({height:j(e)}),this.props.onEntering(e,t)},n.onEntered=function(e,t){this.setState({height:null}),this.props.onEntered(e,t)},n.onExit=function(e){this.setState({height:j(e)}),this.props.onExit(e)},n.onExiting=function(e){e.offsetHeight;this.setState({height:0}),this.props.onExiting(e)},n.onExited=function(e){this.setState({height:null}),this.props.onExited(e)},n.render=function(){var e=this,t=this.props,n=t.tag,r=t.isOpen,i=t.className,c=t.navbar,l=t.cssModule,u=t.children,d=(t.innerRef,Object(o.a)(t,["tag","isOpen","className","navbar","cssModule","children","innerRef"])),p=this.state.height,f=Object(g.o)(d,g.c),h=Object(g.n)(d,g.c);return s.a.createElement(m.Transition,Object(a.a)({},f,{in:r,onEntering:this.onEntering,onEntered:this.onEntered,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}),(function(t){var r=function(e){return E[e]||"collapse"}(t),o=Object(g.m)(b()(i,r,c&&"navbar-collapse"),l),d=null===p?null:{height:p};return s.a.createElement(n,Object(a.a)({},h,{style:v(v({},h.style),d),className:o,ref:e.props.innerRef}),u)}))},t}(u.Component);w.propTypes=y,w.defaultProps=O,t.a=w},pzsr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return s.default}}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==b(e)&&"function"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n("q1tI")),a=p(n("17x9")),o=p(n("i8i4")),i=p(n("TSYQ")),c=n("8N4D"),l=n("fJi3"),u=n("gbW8"),s=p(n("R155")),d=p(n("sS6v"));function p(e){return e&&e.__esModule?e:{default:e}}function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t,n){return t&&E(e.prototype,t),n&&E(e,n),e}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var a=S(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return x(this,n)}}function x(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?k(e):t}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(n,e);var t=T(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),C(k(r=t.call(this,e)),"onDragStart",(function(e,t){if((0,d.default)("Draggable: onDragStart: %j",t),!1===r.props.onStart(e,(0,l.createDraggableData)(k(r),t)))return!1;r.setState({dragging:!0,dragged:!0})})),C(k(r),"onDrag",(function(e,t){if(!r.state.dragging)return!1;(0,d.default)("Draggable: onDrag: %j",t);var n=(0,l.createDraggableData)(k(r),t),a={x:n.x,y:n.y};if(r.props.bounds){var o=a.x,i=a.y;a.x+=r.state.slackX,a.y+=r.state.slackY;var c=h((0,l.getBoundPosition)(k(r),a.x,a.y),2),u=c[0],s=c[1];a.x=u,a.y=s,a.slackX=r.state.slackX+(o-a.x),a.slackY=r.state.slackY+(i-a.y),n.x=a.x,n.y=a.y,n.deltaX=a.x-r.state.x,n.deltaY=a.y-r.state.y}if(!1===r.props.onDrag(e,n))return!1;r.setState(a)})),C(k(r),"onDragStop",(function(e,t){if(!r.state.dragging)return!1;if(!1===r.props.onStop(e,(0,l.createDraggableData)(k(r),t)))return!1;(0,d.default)("Draggable: onDragStop: %j",t);var n={dragging:!1,slackX:0,slackY:0};if(Boolean(r.props.position)){var a=r.props.position,o=a.x,i=a.y;n.x=o,n.y=i}r.setState(n)})),r.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:O({},e.position),slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),r}return j(n,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.position,r=t.prevPropsPosition;return!n||r&&n.x===r.x&&n.y===r.y?null:((0,d.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:r}),{x:n.x,y:n.y,prevPropsPosition:O({},n)})}}]),j(n,[{key:"componentDidMount",value:function(){void 0!==window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){return this.props.nodeRef?this.props.nodeRef.current:o.default.findDOMNode(this)}},{key:"render",value:function(){var e,t=this.props,n=(t.axis,t.bounds,t.children),a=t.defaultPosition,o=t.defaultClassName,u=t.defaultClassNameDragging,d=t.defaultClassNameDragged,p=t.position,f=t.positionOffset,b=(t.scale,g(t,["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"])),h={},v=null,y=!Boolean(p)||this.state.dragging,E=p||a,j={x:(0,l.canDragX)(this)&&y?this.state.x:E.x,y:(0,l.canDragY)(this)&&y?this.state.y:E.y};this.state.isElementSVG?v=(0,c.createSVGTransform)(j,f):h=(0,c.createCSSTransform)(j,f);var w=(0,i.default)(n.props.className||"",o,(C(e={},u,this.state.dragging),C(e,d,this.state.dragged),e));return r.createElement(s.default,m({},b,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),r.cloneElement(r.Children.only(n),{className:w,style:O(O({},n.props.style),h),transform:v}))}}]),n}(r.Component);t.default=P,C(P,"displayName","Draggable"),C(P,"propTypes",O(O({},s.default.propTypes),{},{axis:a.default.oneOf(["both","x","y","none"]),bounds:a.default.oneOfType([a.default.shape({left:a.default.number,right:a.default.number,top:a.default.number,bottom:a.default.number}),a.default.string,a.default.oneOf([!1])]),defaultClassName:a.default.string,defaultClassNameDragging:a.default.string,defaultClassNameDragged:a.default.string,defaultPosition:a.default.shape({x:a.default.number,y:a.default.number}),positionOffset:a.default.shape({x:a.default.oneOfType([a.default.number,a.default.string]),y:a.default.oneOfType([a.default.number,a.default.string])}),position:a.default.shape({x:a.default.number,y:a.default.number}),className:u.dontSetMe,style:u.dontSetMe,transform:u.dontSetMe})),C(P,"defaultProps",O(O({},s.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null,scale:1}))},q7Gj:function(e,t,n){"use strict";var r=n("wx14"),a=n("zLVn"),o=n("q1tI"),i=n.n(o),c=n("17x9"),l=n.n(c),u=n("TSYQ"),s=n.n(u),d=n("33Jr"),p={tag:d.q,size:l.a.string,className:l.a.string,cssModule:l.a.object},f=function(e){var t=e.className,n=e.cssModule,o=e.tag,c=e.size,l=Object(a.a)(e,["className","cssModule","tag","size"]),u=Object(d.m)(s()(t,"input-group",c?"input-group-"+c:null),n);return i.a.createElement(o,Object(r.a)({},l,{className:u}))};f.propTypes=p,f.defaultProps={tag:"div"},t.a=f},rVTC:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,'@charset "UTF-8";\n.non-select {\n  user-select: none !important;\n  -webkit-user-select: none !important;\n  -moz-user-select: none !important;\n}\n\n.builder-field {\n  background-image: url("/img/grid.png");\n}\n\n.table-stripe-payment tr th, .table-stripe-payment tr td {\n  padding: 2px 4px 2px 2px;\n}\n.table-stripe-payment tr td {\n  white-space: nowrap;\n}\n\n.block {\n  background-color: #fff;\n  position: absolute;\n  width: 220px;\n  border-radius: 5px;\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.15);\n}\n.block.react-draggable-dragging {\n  z-index: 5 !important;\n}\n.block.selected {\n  box-shadow: 0 0 5px #5555e2;\n}\n.block .header {\n  cursor: pointer;\n  padding: 7px 14px;\n  background-color: #EDF2F6;\n  border-radius: 5px 5px 0 0;\n  color: black;\n  font-weight: bold;\n  font-size: 15px;\n}\n.block .header .context-menu {\n  color: #728CA3;\n  float: right;\n}\n.block .block-content {\n  padding: 10px;\n}\n.block .block-content .message {\n  color: #668AAA;\n}\n.block .block-content .message p {\n  padding-bottom: 0;\n}\n.block .block-content .api {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  color: #668AAA;\n}\n.block .block-content .api .api-method {\n  color: #AFAFAF;\n  margin-right: 10px;\n}\n.block .block-content .variable .variable-name {\n  font-style: italic;\n  color: #0abfe0;\n}\n.block .block-content var {\n  color: #0abfe0;\n}\n.block .block-button {\n  margin: 10px 13px;\n  background-color: #F5F5F5;\n  color: #668AAA;\n  padding: 6px 10px;\n}\n.block .block-button[connected=connected-right] .connect-right {\n  transition: none;\n  opacity: 1;\n  right: -24px;\n}\n.block .block-button[connected=connected-left] .connect-left {\n  transition: none;\n  opacity: 1;\n  left: -24px;\n}\n.block .block-button .connect {\n  border: 2px solid #fff;\n  width: 17px;\n  height: 17px;\n  background-size: 13px 13px;\n}\n.block .block-button .connect.connect-right {\n  top: calc(50% - 9px);\n}\n.block .block-button .connect.connect-left {\n  top: calc(50% - 9px);\n}\n.block .carousel.slide .card {\n  height: 180px;\n  overflow-y: scroll;\n}\n.block .carousel-control-next {\n  right: -15px;\n}\n.block .carousel-control-prev {\n  left: -15px;\n}\n.block .carousel-control-prev span, .block .carousel-control-next span {\n  background-color: rgba(0, 0, 0, 0.55);\n  border-radius: 50%;\n  padding: 10px;\n  background-size: 50%;\n}\n\n.connectable {\n  position: relative;\n}\n\n.connect {\n  z-index: 6;\n  opacity: 0;\n  background-color: transparent;\n  border-radius: 50%;\n  position: absolute;\n  cursor: pointer;\n  background-image: url("/img/eclipse.svg");\n  background-repeat: no-repeat;\n  background-position: center;\n  width: 38px;\n  height: 38px;\n  transition: 0.5s ease;\n}\n.connect.connect-top {\n  z-index: 4;\n  right: calc(50% - 20px);\n  top: -18px;\n}\n.connect.connect-right {\n  right: -18px;\n  top: calc(50% - 18px);\n}\n.connect.connect-bottom {\n  right: calc(50% - 20px);\n  bottom: -18px;\n}\n.connect.connect-left {\n  left: -18px;\n  top: calc(50% - 18px);\n}\n\n.connectable:hover > .connect, .connecting, .connect:hover {\n  opacity: 1;\n}\n.connectable:hover > .connect.connect-top, .connecting.connect-top, .connect:hover.connect-top {\n  top: -24px;\n}\n.connectable:hover > .connect.connect-right, .connecting.connect-right, .connect:hover.connect-right {\n  right: -24px;\n}\n.connectable:hover > .connect.connect-bottom, .connecting.connect-bottom, .connect:hover.connect-bottom {\n  bottom: -24px;\n}\n.connectable:hover > .connect.connect-left, .connecting.connect-left, .connect:hover.connect-left {\n  left: -24px;\n}\n\n.connect-content {\n  z-index: 5;\n  position: relative;\n}\n\n.configure {\n  background-color: rgba(0, 0, 0, 0.5);\n  padding: 5px;\n  position: fixed;\n  top: 20px;\n  right: 20px;\n}\n.configure .btn-success {\n  margin-right: 10px;\n}\n.configure .form-control {\n  width: 200px;\n  margin-right: 10px;\n  display: inline-block;\n}\n.configure .template-image-btn {\n  border: none;\n  background: none;\n  padding: 0;\n}\n\n.minimap {\n  background-color: rgba(0, 0, 0, 0.5);\n  position: fixed;\n  bottom: 20px;\n  right: 20px;\n}\n.minimap .buttons {\n  width: 220px;\n}\n.minimap .buttons .btn {\n  margin: 5px;\n}\n.minimap .buttons .counter {\n  color: #ffffff;\n}\n\n.panel {\n  overflow-y: scroll;\n  overflow-x: hidden;\n  background-color: #FBFDFE;\n  height: 100%;\n  position: absolute;\n  padding: 10px;\n  border: 1px solid #EEEEEE;\n  box-shadow: 0 0 5px rgba(0, 0, 0, 0.06);\n}\n.panel .panel-header {\n  padding: 15px 0;\n  font-style: italic;\n  font-size: 17px;\n}\n.panel .panel-header-group {\n  cursor: pointer;\n  margin: 8px 0;\n  padding: 0 0 0 20px;\n  font-size: 17px;\n  position: relative;\n}\n.panel .panel-header-group .color-label {\n  width: 6px;\n  top: 0;\n  bottom: 0;\n  position: absolute;\n  left: 0;\n}\n.panel .create-btn {\n  margin: 6px 0;\n  padding: 0 0 0 15px;\n}\n.panel .create-btn .drag-element {\n  color: #c2c2c2;\n}\n.panel .block-creation .plus-icon {\n  position: absolute;\n  top: -10px;\n  left: -16px;\n  font-size: 14px;\n}\n\n.remove-anchor {\n  position: absolute;\n  z-index: 1;\n  background-color: white;\n  border: 1px solid #94B3CB;\n  border-radius: 50%;\n  width: 20px;\n  height: 20px;\n  padding: 2px;\n  color: #94B3CB;\n  font-size: 10px;\n}\n\n.block-edit {\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  justify-content: space-between;\n  background-color: white;\n  z-index: 500;\n  width: 500px;\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  padding: 20px 20px;\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.25);\n}\n.block-edit .header {\n  margin: -20px -20px 20px -20px;\n  padding: 15px;\n}\n.block-edit .block-edit-body {\n  height: 100%;\n  position: relative;\n  overflow-x: hidden;\n  overflow-y: scroll;\n  scrollbar-width: none;\n}\n.block-edit .actions {\n  padding-top: 20px;\n}\n.block-edit .actions .btn {\n  margin-right: 10px;\n}\n.block-edit .api-edit-collapse {\n  padding: 8px 0;\n  border-bottom: 1px solid #cccccc;\n  margin-bottom: 10px;\n}\n.block-edit .api-edit-collapse .toggler {\n  float: right;\n  font-size: 18px;\n}\n.block-edit .value-group {\n  position: relative;\n}\n.block-edit .value-group .value-group-key,\n.block-edit .value-group .value-group-value {\n  margin-bottom: 10px;\n  font-size: 10px;\n  display: inline-block;\n}\n.block-edit .value-group .value-group-key {\n  margin-right: 10px;\n  width: 100px;\n}\n.block-edit .value-group .value-group-value {\n  width: 185px;\n}\n.block-edit .value-group .value-group-remove {\n  position: absolute;\n  top: 5px;\n  font-size: 12px;\n  right: 8px;\n}\n.block-edit .value-group .value-group-column, .block-edit .value-group .value-group-variable {\n  width: 102px;\n  display: inline-block;\n  margin-bottom: 10px;\n  font-size: 10px;\n  vertical-align: middle;\n}\n.block-edit .add-value-group {\n  display: block;\n  margin-top: 15px;\n}\n.block-edit .card-button-group {\n  position: relative;\n}\n.block-edit .card-button-group .card-button-group-type,\n.block-edit .card-button-group .card-button-group-text,\n.block-edit .card-button-group .card-button-group-value {\n  display: inline-block;\n  font-size: 10px;\n  margin-bottom: 5px;\n  margin-top: 5px;\n}\n.block-edit .card-button-group .card-button-group-type {\n  width: 75px;\n  margin-right: 5px;\n}\n.block-edit .card-button-group .card-button-group-text {\n  width: 75px;\n  margin-right: 5px;\n}\n.block-edit .card-button-group .card-button-group-value {\n  width: 105px;\n}\n.block-edit .card-button-group .card-button-group-remove {\n  top: 9px;\n  right: -11px;\n  font-size: 11px;\n  position: absolute;\n}\n.block-edit .plus-icon {\n  width: 10px;\n}\n.block-edit .btn-action {\n  width: 34px;\n  height: 34px;\n}\n\n.edit-bgdrop {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(255, 255, 255, 0.5);\n}\n\n.editable-block {\n  margin-bottom: 20px;\n  margin-right: 8px;\n}\n.editable-block .editable-label {\n  font-family: "Roboto Regular", Arial, sans-serif;\n  font-size: 16px;\n  line-height: 24px;\n  font-weight: 400;\n}\n\n.help-question {\n  margin-left: 10px;\n}\n\n.input-with-remove {\n  position: relative;\n}\n.input-with-remove .remove-btn {\n  position: absolute;\n  right: 30px;\n  top: 5px;\n}\n.input-with-remove input {\n  padding-right: 30px;\n}\n\n#wrapper .react-contextmenu, .page-navigation .react-contextmenu {\n  background-color: #fff;\n  background-clip: padding-box;\n  border: 1px solid rgba(0, 0, 0, 0.15);\n  border-radius: 0.25rem;\n  color: #373a3c;\n  font-size: 16px;\n  margin: 2px 0 0;\n  min-width: 160px;\n  outline: none;\n  opacity: 0;\n  padding: 5px 0;\n  pointer-events: none;\n  text-align: left;\n  transition: opacity 250ms ease !important;\n}\n#wrapper .react-contextmenu.react-contextmenu--visible, .page-navigation .react-contextmenu.react-contextmenu--visible {\n  opacity: 1;\n  pointer-events: auto;\n  z-index: 9999;\n}\n#wrapper .react-contextmenu-item, .page-navigation .react-contextmenu-item {\n  background: 0 0;\n  border: 0;\n  color: #373a3c;\n  cursor: pointer;\n  font-weight: 400;\n  line-height: 1.5;\n  padding: 3px 20px;\n  text-align: inherit;\n  white-space: nowrap;\n}\n#wrapper .react-contextmenu-item.react-contextmenu-item--active,\n#wrapper .react-contextmenu-item.react-contextmenu-item--selected, .page-navigation .react-contextmenu-item.react-contextmenu-item--active,\n.page-navigation .react-contextmenu-item.react-contextmenu-item--selected {\n  color: #fff;\n  background-color: #20a0ff;\n  border-color: #20a0ff;\n  text-decoration: none;\n}\n#wrapper .react-contextmenu-item.react-contextmenu-item--disabled,\n#wrapper .react-contextmenu-item.react-contextmenu-item--disabled:hover, .page-navigation .react-contextmenu-item.react-contextmenu-item--disabled,\n.page-navigation .react-contextmenu-item.react-contextmenu-item--disabled:hover {\n  background-color: transparent;\n  border-color: rgba(0, 0, 0, 0.15);\n  color: #878a8c;\n}\n#wrapper .react-contextmenu-item--divider, .page-navigation .react-contextmenu-item--divider {\n  border-bottom: 1px solid rgba(0, 0, 0, 0.15);\n  cursor: inherit;\n  margin-bottom: 3px;\n  padding: 2px 0;\n}\n#wrapper .react-contextmenu-item--divider:hover, .page-navigation .react-contextmenu-item--divider:hover {\n  background-color: transparent;\n  border-color: rgba(0, 0, 0, 0.15);\n}\n#wrapper .react-contextmenu-item.react-contextmenu-submenu, .page-navigation .react-contextmenu-item.react-contextmenu-submenu {\n  padding: 0;\n}\n#wrapper .react-contextmenu-item.react-contextmenu-submenu > .react-contextmenu-item:after, .page-navigation .react-contextmenu-item.react-contextmenu-submenu > .react-contextmenu-item:after {\n  content: "\\25B6";\n  display: inline-block;\n  position: absolute;\n  right: 7px;\n}',""])},rWSr:function(e,t,n){"use strict";var r=n("wx14"),a=n("q1tI"),o=n.n(a),i=n("TSYQ"),c=n.n(i),l=n("JX7q"),u=n("dI71"),s=n("17x9"),d=n.n(s),p=n("zLVn"),f=n("rePB"),b=n("i8i4"),m=n.n(b),g=n("9P9J"),h=n("33Jr"),v=n("gwnE");function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E={children:d.a.oneOfType([d.a.node,d.a.func]).isRequired,popperClassName:d.a.string,placement:d.a.string,placementPrefix:d.a.string,arrowClassName:d.a.string,hideArrow:d.a.bool,tag:h.q,isOpen:d.a.bool.isRequired,cssModule:d.a.object,offset:d.a.oneOfType([d.a.string,d.a.number]),fallbackPlacement:d.a.oneOfType([d.a.string,d.a.array]),flip:d.a.bool,container:h.r,target:h.r.isRequired,modifiers:d.a.object,boundariesElement:d.a.oneOfType([d.a.string,h.a]),onClosed:d.a.func,fade:d.a.bool,transition:d.a.shape(v.a.propTypes)},j={boundariesElement:"scrollParent",placement:"auto",hideArrow:!1,isOpen:!1,offset:0,fallbackPlacement:"flip",flip:!0,container:"body",modifiers:{},onClosed:function(){},fade:!0,transition:O({},v.a.defaultProps)},w=function(e){function t(t){var n;return(n=e.call(this,t)||this).setTargetNode=n.setTargetNode.bind(Object(l.a)(n)),n.getTargetNode=n.getTargetNode.bind(Object(l.a)(n)),n.getRef=n.getRef.bind(Object(l.a)(n)),n.onClosed=n.onClosed.bind(Object(l.a)(n)),n.state={isOpen:t.isOpen},n}Object(u.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.isOpen&&!t.isOpen?{isOpen:e.isOpen}:null};var n=t.prototype;return n.componentDidUpdate=function(){this._element&&this._element.childNodes&&this._element.childNodes[0]&&this._element.childNodes[0].focus&&this._element.childNodes[0].focus()},n.setTargetNode=function(e){this.targetNode="string"==typeof e?Object(h.j)(e):e},n.getTargetNode=function(){return this.targetNode},n.getContainerNode=function(){return Object(h.j)(this.props.container)},n.getRef=function(e){this._element=e},n.onClosed=function(){this.props.onClosed(),this.setState({isOpen:!1})},n.renderChildren=function(){var e=this.props,t=e.cssModule,n=e.children,a=e.isOpen,i=e.flip,l=(e.target,e.offset),u=e.fallbackPlacement,s=e.placementPrefix,d=e.arrowClassName,f=e.hideArrow,b=e.popperClassName,m=e.tag,y=(e.container,e.modifiers),E=e.boundariesElement,j=(e.onClosed,e.fade),w=e.transition,T=e.placement,x=Object(p.a)(e,["cssModule","children","isOpen","flip","target","offset","fallbackPlacement","placementPrefix","arrowClassName","hideArrow","popperClassName","tag","container","modifiers","boundariesElement","onClosed","fade","transition","placement"]),k=Object(h.m)(c()("arrow",d),t),S=Object(h.m)(c()(b,s?s+"-auto":""),this.props.cssModule),C=O({offset:{offset:l},flip:{enabled:i,behavior:u},preventOverflow:{boundariesElement:E}},y),P=O(O(O({},v.a.defaultProps),w),{},{baseClass:j?w.baseClass:"",timeout:j?w.timeout:0});return o.a.createElement(v.a,Object(r.a)({},P,x,{in:a,onExited:this.onClosed,tag:m}),o.a.createElement(g.a,{referenceElement:this.targetNode,modifiers:C,placement:T},(function(e){var t=e.ref,r=e.style,a=e.placement,i=e.outOfBoundaries,c=e.arrowProps,l=e.scheduleUpdate;return o.a.createElement("div",{ref:t,style:r,className:S,"x-placement":a,"x-out-of-boundaries":i?"true":void 0},"function"==typeof n?n({scheduleUpdate:l}):n,!f&&o.a.createElement("span",{ref:c.ref,className:k,style:c.style}))})))},n.render=function(){return this.setTargetNode(this.props.target),this.state.isOpen?"inline"===this.props.container?this.renderChildren():m.a.createPortal(o.a.createElement("div",{ref:this.getRef},this.renderChildren()),this.getContainerNode()):null},t}(o.a.Component);w.propTypes=E,w.defaultProps=j;var T=w,x={children:d.a.oneOfType([d.a.node,d.a.func]),placement:d.a.oneOf(h.b),target:h.r.isRequired,container:h.r,isOpen:d.a.bool,disabled:d.a.bool,hideArrow:d.a.bool,boundariesElement:d.a.oneOfType([d.a.string,h.a]),className:d.a.string,innerClassName:d.a.string,arrowClassName:d.a.string,popperClassName:d.a.string,cssModule:d.a.object,toggle:d.a.func,autohide:d.a.bool,placementPrefix:d.a.string,delay:d.a.oneOfType([d.a.shape({show:d.a.number,hide:d.a.number}),d.a.number]),modifiers:d.a.object,offset:d.a.oneOfType([d.a.string,d.a.number]),innerRef:d.a.oneOfType([d.a.func,d.a.string,d.a.object]),trigger:d.a.string,fade:d.a.bool,flip:d.a.bool},k={show:0,hide:50},S={isOpen:!1,hideArrow:!1,autohide:!1,delay:k,toggle:function(){},trigger:"click",fade:!0};function C(e,t){return t&&(e===t||t.contains(e))}function P(e,t){return void 0===t&&(t=[]),t&&t.length&&t.filter((function(t){return C(e,t)}))[0]}var I=function(e){function t(t){var n;return(n=e.call(this,t)||this)._targets=[],n.currentTargetElement=null,n.addTargetEvents=n.addTargetEvents.bind(Object(l.a)(n)),n.handleDocumentClick=n.handleDocumentClick.bind(Object(l.a)(n)),n.removeTargetEvents=n.removeTargetEvents.bind(Object(l.a)(n)),n.toggle=n.toggle.bind(Object(l.a)(n)),n.showWithDelay=n.showWithDelay.bind(Object(l.a)(n)),n.hideWithDelay=n.hideWithDelay.bind(Object(l.a)(n)),n.onMouseOverTooltipContent=n.onMouseOverTooltipContent.bind(Object(l.a)(n)),n.onMouseLeaveTooltipContent=n.onMouseLeaveTooltipContent.bind(Object(l.a)(n)),n.show=n.show.bind(Object(l.a)(n)),n.hide=n.hide.bind(Object(l.a)(n)),n.onEscKeyDown=n.onEscKeyDown.bind(Object(l.a)(n)),n.getRef=n.getRef.bind(Object(l.a)(n)),n.state={isOpen:t.isOpen},n._isMounted=!1,n}Object(u.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this.updateTarget()},n.componentWillUnmount=function(){this._isMounted=!1,this.removeTargetEvents(),this._targets=null,this.clearShowTimeout(),this.clearHideTimeout()},t.getDerivedStateFromProps=function(e,t){return e.isOpen&&!t.isOpen?{isOpen:e.isOpen}:null},n.onMouseOverTooltipContent=function(){this.props.trigger.indexOf("hover")>-1&&!this.props.autohide&&(this._hideTimeout&&this.clearHideTimeout(),this.state.isOpen&&!this.props.isOpen&&this.toggle())},n.onMouseLeaveTooltipContent=function(e){this.props.trigger.indexOf("hover")>-1&&!this.props.autohide&&(this._showTimeout&&this.clearShowTimeout(),e.persist(),this._hideTimeout=setTimeout(this.hide.bind(this,e),this.getDelay("hide")))},n.onEscKeyDown=function(e){"Escape"===e.key&&this.hide(e)},n.getRef=function(e){var t=this.props.innerRef;t&&("function"==typeof t?t(e):"object"==typeof t&&(t.current=e)),this._popover=e},n.getDelay=function(e){var t=this.props.delay;return"object"==typeof t?isNaN(t[e])?k[e]:t[e]:t},n.show=function(e){if(!this.props.isOpen){if(this.clearShowTimeout(),this.currentTargetElement=e?e.currentTarget||e.target:null,e&&e.composedPath&&"function"==typeof e.composedPath){var t=e.composedPath();this.currentTargetElement=t&&t[0]||this.currentTargetElement}this.toggle(e)}},n.showWithDelay=function(e){this._hideTimeout&&this.clearHideTimeout(),this._showTimeout=setTimeout(this.show.bind(this,e),this.getDelay("show"))},n.hide=function(e){this.props.isOpen&&(this.clearHideTimeout(),this.currentTargetElement=null,this.toggle(e))},n.hideWithDelay=function(e){this._showTimeout&&this.clearShowTimeout(),this._hideTimeout=setTimeout(this.hide.bind(this,e),this.getDelay("hide"))},n.clearShowTimeout=function(){clearTimeout(this._showTimeout),this._showTimeout=void 0},n.clearHideTimeout=function(){clearTimeout(this._hideTimeout),this._hideTimeout=void 0},n.handleDocumentClick=function(e){var t=this.props.trigger.split(" ");t.indexOf("legacy")>-1&&(this.props.isOpen||P(e.target,this._targets))?(this._hideTimeout&&this.clearHideTimeout(),this.props.isOpen&&!C(e.target,this._popover)?this.hideWithDelay(e):this.props.isOpen||this.showWithDelay(e)):t.indexOf("click")>-1&&P(e.target,this._targets)&&(this._hideTimeout&&this.clearHideTimeout(),this.props.isOpen?this.hideWithDelay(e):this.showWithDelay(e))},n.addEventOnTargets=function(e,t,n){this._targets.forEach((function(r){r.addEventListener(e,t,n)}))},n.removeEventOnTargets=function(e,t,n){this._targets.forEach((function(r){r.removeEventListener(e,t,n)}))},n.addTargetEvents=function(){if(this.props.trigger){var e=this.props.trigger.split(" ");-1===e.indexOf("manual")&&((e.indexOf("click")>-1||e.indexOf("legacy")>-1)&&document.addEventListener("click",this.handleDocumentClick,!0),this._targets&&this._targets.length&&(e.indexOf("hover")>-1&&(this.addEventOnTargets("mouseover",this.showWithDelay,!0),this.addEventOnTargets("mouseout",this.hideWithDelay,!0)),e.indexOf("focus")>-1&&(this.addEventOnTargets("focusin",this.show,!0),this.addEventOnTargets("focusout",this.hide,!0)),this.addEventOnTargets("keydown",this.onEscKeyDown,!0)))}},n.removeTargetEvents=function(){this._targets&&(this.removeEventOnTargets("mouseover",this.showWithDelay,!0),this.removeEventOnTargets("mouseout",this.hideWithDelay,!0),this.removeEventOnTargets("keydown",this.onEscKeyDown,!0),this.removeEventOnTargets("focusin",this.show,!0),this.removeEventOnTargets("focusout",this.hide,!0)),document.removeEventListener("click",this.handleDocumentClick,!0)},n.updateTarget=function(){var e=Object(h.j)(this.props.target,!0);e!==this._targets&&(this.removeTargetEvents(),this._targets=e?Array.from(e):[],this.currentTargetElement=this.currentTargetElement||this._targets[0],this.addTargetEvents())},n.toggle=function(e){return this.props.disabled||!this._isMounted?e&&e.preventDefault():this.props.toggle(e)},n.render=function(){var e=this;if(!this.props.isOpen)return null;this.updateTarget();var t=this.props,n=t.className,a=t.cssModule,i=t.innerClassName,c=t.isOpen,l=t.hideArrow,u=t.boundariesElement,s=t.placement,d=t.placementPrefix,p=t.arrowClassName,f=t.popperClassName,b=t.container,m=t.modifiers,g=t.offset,v=t.fade,y=t.flip,O=t.children,E=Object(h.n)(this.props,Object.keys(x)),j=Object(h.m)(f,a),w=Object(h.m)(i,a);return o.a.createElement(T,{className:n,target:this.currentTargetElement||this._targets[0],isOpen:c,hideArrow:l,boundariesElement:u,placement:s,placementPrefix:d,arrowClassName:p,popperClassName:j,container:b,modifiers:m,offset:g,cssModule:a,fade:v,flip:y},(function(t){var n=t.scheduleUpdate;return o.a.createElement("div",Object(r.a)({},E,{ref:e.getRef,className:w,role:"tooltip",onMouseOver:e.onMouseOverTooltipContent,onMouseLeave:e.onMouseLeaveTooltipContent,onKeyDown:e.onEscKeyDown}),"function"==typeof O?O({scheduleUpdate:n}):O)}))},t}(o.a.Component);I.propTypes=x,I.defaultProps=S;var N=I,R=function(e){var t=c()("tooltip","show",e.popperClassName),n=c()("tooltip-inner",e.innerClassName);return o.a.createElement(N,Object(r.a)({},e,{popperClassName:t,innerClassName:n}))};R.propTypes=x,R.defaultProps={placement:"top",autohide:!0,placementPrefix:"bs-tooltip",trigger:"hover focus"};t.a=R},re1l:function(e,t,n){"use strict";var r=n("wx14"),a=n("zLVn"),o=n("q1tI"),i=n.n(o),c=n("17x9"),l=n.n(c),u=n("TSYQ"),s=n.n(u),d=n("33Jr"),p=n("Z+s4"),f={tag:d.q,addonType:l.a.oneOf(["prepend","append"]).isRequired,children:l.a.node,className:l.a.string,cssModule:l.a.object},b=function(e){var t=e.className,n=e.cssModule,o=e.tag,c=e.addonType,l=e.children,u=Object(a.a)(e,["className","cssModule","tag","addonType","children"]),f=Object(d.m)(s()(t,"input-group-"+c),n);return"string"==typeof l?i.a.createElement(o,Object(r.a)({},u,{className:f}),i.a.createElement(p.a,{children:l})):i.a.createElement(o,Object(r.a)({},u,{className:f,children:l}))};b.propTypes=f,b.defaultProps={tag:"div"},t.a=b},sS6v:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){void 0}},vfse:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("Gyn+"),a=n("XvEU"),o=n("wRwD"),i=n("q1tI"),c=n("qvlS"),l=n("2k+j"),u=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=String(e).toLowerCase(),a=String(n.getOptionValue(t)).toLowerCase(),o=String(n.getOptionLabel(t)).toLowerCase();return a===r||o===r},d={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,t,n,r){return!(!e||t.some((function(t){return s(e,t,r)}))||n.some((function(t){return s(e,t,r)})))},getNewOptionData:function(e,t){return{label:t,value:e,__isNew__:!0}}};function p(e){var t=e.allowCreateWhileLoading,n=void 0!==t&&t,s=e.createOptionPosition,p=void 0===s?"last":s,f=e.formatCreateLabel,b=void 0===f?d.formatCreateLabel:f,m=e.isValidNewOption,g=void 0===m?d.isValidNewOption:m,h=e.getNewOptionData,v=void 0===h?d.getNewOptionData:h,y=e.onCreateOption,O=e.options,E=void 0===O?[]:O,j=e.onChange,w=Object(o.a)(e,u),T=w.getOptionValue,x=void 0===T?l.c:T,k=w.getOptionLabel,S=void 0===k?l.b:k,C=w.inputValue,P=w.isLoading,I=w.isMulti,N=w.value,R=w.name,M=Object(i.useMemo)((function(){return g(C,Object(c.i)(N),E,{getOptionValue:x,getOptionLabel:S})?v(C,b(C)):void 0}),[b,v,S,x,C,g,E,N]),_=Object(i.useMemo)((function(){return!n&&P||!M?E:"first"===p?[M].concat(Object(a.a)(E)):[].concat(Object(a.a)(E),[M])}),[n,p,P,M,E]),A=Object(i.useCallback)((function(e,t){if("select-option"!==t.action)return j(e,t);var n=Array.isArray(e)?e:[e];if(n[n.length-1]!==M)j(e,t);else if(y)y(C);else{var r=v(C,C),o={action:"create-option",name:R,option:r};j(Object(c.d)(I,[].concat(Object(a.a)(Object(c.i)(N)),[r]),r),o)}}),[v,C,I,R,M,y,j,N]);return Object(r.a)(Object(r.a)({},w),{},{options:_,onChange:A})}},vs2M:function(e,t,n){var r=n("rVTC");"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(r,a);r.locals&&(e.exports=r.locals)},vtrE:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("sPdi"),l=n("jrRI"),u=n("3OM0"),s=n("BAJy"),d=n("TSYQ"),p=n.n(d);function f(e){var t,n,r=e.label,o=e.errors,i=e.name,d=e.setFieldValue,f=e.value,b=e.options,m=e.labelListClass,g=e.labelClass,h=e.formGroupClass;return a.a.createElement(l.a,{className:p()(h)},a.a.createElement(u.a,{className:p()("d-flex checkbox-label",g)},r),a.a.createElement("div",{className:p()({"is-invalid":!!(null===(t=o[i])||void 0===t?void 0:t.length)})},b.map((function(e){var t,n=f.includes(e.value);return a.a.createElement(u.a,{key:e.value,htmlFor:e.value,className:p()("d-flex",m)},a.a.createElement(s.a,{id:e.value,name:"".concat(i,"[").concat(e.value,"]"),type:"checkbox",checked:n,onChange:function(){if(n)d(i,f.filter((function(t){return t!==e.value})));else{var t=f.slice();t.push(e.value),d(i,t)}},invalid:!!(null===(t=o[i])||void 0===t?void 0:t.length)}),a.a.createElement("span",null,e.label))}))),(null===(n=o[i])||void 0===n?void 0:n.length)?a.a.createElement(c.a,{errors:o[i]}):null)}f.propTypes={options:i.a.array.isRequired,errors:i.a.object.isRequired,id:i.a.oneOfType([i.a.string,i.a.number]),label:i.a.any,name:i.a.string.isRequired,setFieldValue:i.a.func.isRequired,value:i.a.array.isRequired,formGroupClass:i.a.string,labelClass:i.a.string,labelListClass:i.a.string}},wBLH:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("ngzn"),a=n("Gyn+"),o=n("TRVv"),i=n("wRwD"),c=n("q1tI"),l=n("qvlS"),u=["defaultOptions","cacheOptions","loadOptions","options","isLoading","onInputChange","filterOption"];function s(e){var t=e.defaultOptions,n=void 0!==t&&t,s=e.cacheOptions,d=void 0!==s&&s,p=e.loadOptions;e.options;var f=e.isLoading,b=void 0!==f&&f,m=e.onInputChange,g=e.filterOption,h=void 0===g?null:g,v=Object(i.a)(e,u),y=v.inputValue,O=Object(c.useRef)(void 0),E=Object(c.useRef)(!1),j=Object(c.useState)(Array.isArray(n)?n:void 0),w=Object(o.a)(j,2),T=w[0],x=w[1],k=Object(c.useState)(void 0!==y?y:""),S=Object(o.a)(k,2),C=S[0],P=S[1],I=Object(c.useState)(!0===n),N=Object(o.a)(I,2),R=N[0],M=N[1],_=Object(c.useState)(void 0),A=Object(o.a)(_,2),D=A[0],L=A[1],q=Object(c.useState)([]),Y=Object(o.a)(q,2),F=Y[0],V=Y[1],U=Object(c.useState)(!1),B=Object(o.a)(U,2),G=B[0],H=B[1],z=Object(c.useState)({}),X=Object(o.a)(z,2),W=X[0],K=X[1],J=Object(c.useState)(void 0),Q=Object(o.a)(J,2),$=Q[0],Z=Q[1],ee=Object(c.useState)(void 0),te=Object(o.a)(ee,2),ne=te[0],re=te[1];d!==ne&&(K({}),re(d)),n!==$&&(x(Array.isArray(n)?n:void 0),Z(n)),Object(c.useEffect)((function(){return E.current=!0,function(){E.current=!1}}),[]);var ae=Object(c.useCallback)((function(e,t){if(!p)return t();var n=p(e,t);n&&"function"==typeof n.then&&n.then(t,(function(){return t()}))}),[p]);Object(c.useEffect)((function(){!0===n&&ae(C,(function(e){E.current&&(x(e||[]),M(!!O.current))}))}),[]);var oe=Object(c.useCallback)((function(e,t){var n=Object(l.l)(e,t,m);if(!n)return O.current=void 0,P(""),L(""),V([]),M(!1),void H(!1);if(d&&W[n])P(n),L(n),V(W[n]),M(!1),H(!1);else{var o=O.current={};P(n),M(!0),H(!D),ae(n,(function(e){E&&o===O.current&&(O.current=void 0,M(!1),L(n),V(e||[]),H(!1),K(e?Object(a.a)(Object(a.a)({},W),{},Object(r.a)({},n,e)):W))}))}}),[d,ae,D,W,m]),ie=G?[]:C&&D?F:T||[];return Object(a.a)(Object(a.a)({},v),{},{options:ie,isLoading:R||b,onInputChange:oe,filterOption:h})}},y2Vs:function(e,t,n){"use strict";var r=n("HhE6"),a=n("4Jst"),o=n("q1tI"),i=n("2k+j"),c=(n("zIvK"),n("+1VY"),n("yUKz"),n("ROju"),n("EPfG"),n("cO97"),n("SKuE"),n("/ouT"),n("g/0L"),n("9IRi"),n("5KkY"),n("qEaO"),n("X4k0"),n("i8i4"),n("y74/"),Object(o.forwardRef)((function(e,t){var n=Object(r.a)(e);return o.createElement(i.a,Object(a.a)({ref:t},n))})));t.a=c},zwA0:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("q1tI"),a=n.n(r),o=n("9Koi");function i(){var e=Object(o.a)().t;return a.a.createElement("div",null,e("common.site-error-message"))}}}]);