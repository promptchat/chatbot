(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{"+AQ4":function(e,t,a){"use strict";var n=a("q1tI"),r=a.n(n),i=a("17x9"),o=a.n(i),l=a("8WGv");function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,r=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){r=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function m(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function d(e){var t=e.loadOptions,a=m(e,["loadOptions"]),i=c(Object(n.useState)(null),2),o=i[0],u=i[1];return Object(n.useEffect)((function(){o||t().then(u)}),[t,o]),o?r.a.createElement(l.a,s({},a,{options:o})):null}d.propTypes={loadOptions:o.a.func.isRequired},t.a=r.a.memo(d)},"/kxI":function(e,t,a){"use strict";var n=a("wx14"),r=a("zLVn"),i=a("q1tI"),o=a.n(i),l=a("17x9"),s=a.n(l),c=a("TSYQ"),u=a.n(c),m=a("33Jr"),d={tag:m.q,className:s.a.string,cssModule:s.a.object,innerRef:s.a.oneOfType([s.a.object,s.a.string,s.a.func])},f=function(e){var t=e.className,a=e.cssModule,i=e.innerRef,l=e.tag,s=Object(r.a)(e,["className","cssModule","innerRef","tag"]),c=Object(m.m)(u()(t,"card-body"),a);return o.a.createElement(l,Object(n.a)({},s,{className:c,ref:i}))};f.propTypes=d,f.defaultProps={tag:"div"},t.a=f},"4K7x":function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("83d4"),r=a("MwQV");function i(e,t){return function(e,t){var a=[{label:e("user.role.".concat(n.a)),value:n.a},{label:e("user.role.".concat(n.b)),value:n.b}];return function(){return new Promise((function(e){r.a.call("get","/methods/user-roles/search",{companyId:t}).data((function(t){var n=t.map((function(e){return{label:e.name,value:e.id}}));e(a.concat(n))}))}))}}(e,t)}},"8WGv":function(e,t,a){"use strict";var n=a("q1tI"),r=a.n(n),i=a("17x9"),o=a.n(i),l=a("sPdi"),s=a("jrRI"),c=a("3OM0"),u=a("y2Vs"),m=a("TSYQ"),d=a.n(m),f=a("9Koi");function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){v(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function v(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var h={control:function(e){return b(b({},e),{},{"&, &:hover, &:focus":{borderColor:"#ced4da",boxShadow:"none"}})}};function g(e){var t,a,n=e.id,i=e.label,o=e.errors,m=e.name,p=e.setFieldValue,b=e.options,v=e.value,g=e.className,y=e.placeholder,E=e.isClearable,O=e.isDisabled,j=Object(f.a)().t,S=b.find((function(e){return e.value===v}));return r.a.createElement(s.a,{className:d()(g)},r.a.createElement(c.a,{htmlFor:n},i),r.a.createElement(u.a,{id:n,name:m,isDisabled:O,onChange:function(e){return p(m,e?e.value:null)},options:b,value:S,isClearable:E,className:d()("select-field",{"is-invalid":!!(null===(t=o[m])||void 0===t?void 0:t.length)}),placeholder:y||j("common.default-select-placeholder"),styles:h}),(null===(a=o[m])||void 0===a?void 0:a.length)?r.a.createElement(l.a,{errors:o[m]}):null)}g.defaultProps={isClearable:!0},g.propTypes={errors:o.a.object.isRequired,id:o.a.oneOfType([o.a.string,o.a.number]),value:o.a.oneOfType([o.a.string,o.a.number]),label:o.a.any.isRequired,name:o.a.string.isRequired,setFieldValue:o.a.func.isRequired,options:o.a.array,className:o.a.string,placeholder:o.a.string,isClearable:o.a.bool,isDisabled:o.a.bool},t.a=r.a.memo(g)},BLzl:function(e,t,a){"use strict";var n=a("wx14"),r=a("zLVn"),i=a("q1tI"),o=a.n(i),l=a("17x9"),s=a.n(l),c=a("TSYQ"),u=a.n(c),m=a("33Jr"),d={tag:m.q,inverse:s.a.bool,color:s.a.string,body:s.a.bool,outline:s.a.bool,className:s.a.string,cssModule:s.a.object,innerRef:s.a.oneOfType([s.a.object,s.a.string,s.a.func])},f=function(e){var t=e.className,a=e.cssModule,i=e.color,l=e.body,s=e.inverse,c=e.outline,d=e.tag,f=e.innerRef,p=Object(r.a)(e,["className","cssModule","color","body","inverse","outline","tag","innerRef"]),b=Object(m.m)(u()(t,"card",!!s&&"text-white",!!l&&"card-body",!!i&&(c?"border":"bg")+"-"+i),a);return o.a.createElement(d,Object(n.a)({},p,{className:b,ref:f}))};f.propTypes=d,f.defaultProps={tag:"div"},t.a=f},P2Na:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("MwQV");function r(e){var t=new FormData;return t.append("file",e),n.a.call("post","/methods/image",{},t)}},Z04g:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a("q1tI"),r=a.n(n),i=a("17x9"),o=a.n(i),l=a("sOKU"),s=a("nsn4"),c=a("BLzl"),u=a("/kxI"),m=a("TSYQ"),d=a.n(m);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,r=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){r=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function b(e){var t=e.items,a=e.className,i=f(Object(n.useState)(0),2),o=i[0],m=i[1];return r.a.createElement("div",{className:d()("accordion",a)},t.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(l.a,{className:"btn-notification",color:"",onClick:function(){return m(o===t?null:t)}},e.renderButton()),r.a.createElement(s.a,{isOpen:o===t},r.a.createElement(c.a,{className:"accordion-card"},r.a.createElement(u.a,{className:"border-0"},e.renderContent()))))})))}b.propTypes={items:o.a.arrayOf(o.a.shape({renderButton:o.a.func.isRequired,renderContent:o.a.func.isRequired})).isRequired,className:o.a.string}},afej:function(e,t,a){"use strict";var n=a("wx14"),r=a("zLVn"),i=a("q1tI"),o=a.n(i),l=a("17x9"),s=a.n(l),c=a("TSYQ"),u=a.n(c),m=a("33Jr"),d={tag:m.q,className:s.a.string,cssModule:s.a.object},f=function(e){var t=e.className,a=e.cssModule,i=e.tag,l=Object(r.a)(e,["className","cssModule","tag"]),s=Object(m.m)(u()(t,"card-header"),a);return o.a.createElement(i,Object(n.a)({},l,{className:s}))};f.propTypes=d,f.defaultProps={tag:"div"},t.a=f},gmZo:function(e,t,a){"use strict";a("iYuL");var n=a("f0Wu");n.locale(window.locale),t.a=n},muO8:function(e,t,a){"use strict";var n=a("q1tI"),r=a.n(n),i=a("17x9"),o=a.n(i),l=a("sPdi"),s=a("jrRI"),c=a("3OM0"),u=a("y2Vs"),m=a("TSYQ"),d=a.n(m);function f(e){var t,a,n=e.id,i=e.label,o=e.errors,m=e.name,f=e.setFieldValue,p=e.options,b=e.value,v=e.formGroupClass;return r.a.createElement(s.a,{className:d()(v)},r.a.createElement(c.a,{htmlFor:n},i),r.a.createElement(u.a,{id:n,name:m,onChange:function(e){return f(m,e)},isMulti:!0,options:p,value:b,isClearable:!0,className:d()({"is-invalid":!!(null===(t=o[m])||void 0===t?void 0:t.length)})}),(null===(a=o[m])||void 0===a?void 0:a.length)?r.a.createElement(l.a,{errors:o[m]}):null)}f.propTypes={errors:o.a.object.isRequired,id:o.a.oneOfType([o.a.string,o.a.number]),value:o.a.array,label:o.a.any.isRequired,name:o.a.string.isRequired,setFieldValue:o.a.func.isRequired,options:o.a.array.isRequired,formGroupClass:o.a.string},t.a=r.a.memo(f)},nLSp:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("83d4"),r=a("ltXA");function i(e){var t=e.id,a=e.name;return[n.c,n.b,n.a].includes(t)?r.b.t("user.role.".concat(t)):a}},nsn4:function(e,t,a){"use strict";var n,r=a("wx14"),i=a("zLVn"),o=a("JX7q"),l=a("dI71"),s=a("rePB"),c=a("q1tI"),u=a.n(c),m=a("17x9"),d=a.n(m),f=a("TSYQ"),p=a.n(f),b=a("1w3K"),v=a("33Jr");function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach((function(t){Object(s.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var y=g(g({},b.Transition.propTypes),{},{isOpen:d.a.bool,children:d.a.oneOfType([d.a.arrayOf(d.a.node),d.a.node]),tag:v.q,className:d.a.node,navbar:d.a.bool,cssModule:d.a.object,innerRef:d.a.oneOfType([d.a.func,d.a.string,d.a.object])}),E=g(g({},b.Transition.defaultProps),{},{isOpen:!1,appear:!1,enter:!0,exit:!0,tag:"div",timeout:v.e.Collapse}),O=((n={})[v.d.ENTERING]="collapsing",n[v.d.ENTERED]="collapse show",n[v.d.EXITING]="collapsing",n[v.d.EXITED]="collapse",n);function j(e){return e.scrollHeight}var S=function(e){function t(t){var a;return(a=e.call(this,t)||this).state={height:null},["onEntering","onEntered","onExit","onExiting","onExited"].forEach((function(e){a[e]=a[e].bind(Object(o.a)(a))})),a}Object(l.a)(t,e);var a=t.prototype;return a.onEntering=function(e,t){this.setState({height:j(e)}),this.props.onEntering(e,t)},a.onEntered=function(e,t){this.setState({height:null}),this.props.onEntered(e,t)},a.onExit=function(e){this.setState({height:j(e)}),this.props.onExit(e)},a.onExiting=function(e){e.offsetHeight;this.setState({height:0}),this.props.onExiting(e)},a.onExited=function(e){this.setState({height:null}),this.props.onExited(e)},a.render=function(){var e=this,t=this.props,a=t.tag,n=t.isOpen,o=t.className,l=t.navbar,s=t.cssModule,c=t.children,m=(t.innerRef,Object(i.a)(t,["tag","isOpen","className","navbar","cssModule","children","innerRef"])),d=this.state.height,f=Object(v.o)(m,v.c),h=Object(v.n)(m,v.c);return u.a.createElement(b.Transition,Object(r.a)({},f,{in:n,onEntering:this.onEntering,onEntered:this.onEntered,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}),(function(t){var n=function(e){return O[e]||"collapse"}(t),i=Object(v.m)(p()(o,n,l&&"navbar-collapse"),s),m=null===d?null:{height:d};return u.a.createElement(a,Object(r.a)({},h,{style:g(g({},h.style),m),className:i,ref:e.props.innerRef}),c)}))},t}(c.Component);S.propTypes=y,S.defaultProps=E,t.a=S},pbA8:function(e,t,a){"use strict";var n=a("q1tI"),r=a.n(n),i=a("17x9"),o=a.n(i),l=a("sPdi"),s=a("jrRI"),c=a("3OM0"),u=a("TSYQ"),m=a.n(u),d=a("AEIT"),f=a("+z1p");function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function b(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function v(e){var t,a=e.value,n=e.label,i=e.errors,o=e.name,u=e.className,v=e.setFieldValue,h=b(e,["value","label","errors","name","className","setFieldValue"]);return r.a.createElement(s.a,{className:m()(u)},n?r.a.createElement(c.a,null,"function"==typeof n?n():n):null,r.a.createElement(d.CKEditor,p({editor:f.ClassicEditor,data:a,onChange:function(e,t){v(o,t.getData())},config:{toolbar:["bold","italic","underline","link","bulletedList","numberedList","undo","redo"]}},h)),i&&(null===(t=i[o])||void 0===t?void 0:t.length)?r.a.createElement(l.a,{errors:i[o]}):null)}v.propTypes={value:o.a.string,errors:o.a.object,label:o.a.any,name:o.a.string.isRequired,className:o.a.string,setFieldValue:o.a.func.isRequired},t.a=v},q6mc:function(e,t,a){"use strict";var n=a("q1tI"),r=a.n(n),i=a("17x9"),o=a.n(i),l=a("sPdi"),s=a("jrRI"),c=a("3OM0"),u=a("L3zb"),m=a("TSYQ"),d=a.n(m);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function b(e){var t,a,n=e.id,i=e.label,o=e.errors,m=e.name,b=e.onChange,v=e.className,h=p(e,["id","label","errors","name","onChange","className"]);return r.a.createElement(s.a,{className:d()(v)},r.a.createElement(c.a,{htmlFor:n},i),r.a.createElement(u.a,f({id:n,name:m,type:"tel",onChange:function(e){var t=e.target.value;/^[\+]?[0-9]*$/.test(t)&&b(e)}},h,{invalid:!!(null===(t=o[m])||void 0===t?void 0:t.length)})),(null===(a=o[m])||void 0===a?void 0:a.length)?r.a.createElement(l.a,{errors:o[m]}):null)}b.propTypes={onChange:o.a.func.isRequired,errors:o.a.object.isRequired,id:o.a.oneOfType([o.a.string,o.a.number]),label:o.a.any.isRequired,name:o.a.string.isRequired,className:o.a.string},t.a=r.a.memo(b)},sgT3:function(e,t,a){"use strict";a.r(t),a.d(t,"SCREEN_MAIN_SETTINGS",(function(){return le})),a.d(t,"SCREEN_NOTIFICATIONS_SETTINGS",(function(){return se})),a.d(t,"SCREEN_SETTINGS",(function(){return ce})),a.d(t,"SCREEN_DEFAULT_MESSAGE_SETTINGS",(function(){return ue})),a.d(t,"default",(function(){return me}));var n=a("q1tI"),r=a.n(n),i=a("TtP3"),o=a("17x9"),l=a.n(o),s=a("9Koi"),c=a("MwQV"),u=a("nc57"),m=a("ldny"),d=a("x37D"),f=a("83d4"),p=a("rhny");a("T+da");function b(e){var t=e.user,a=Object(s.a)().t;return r.a.createElement(p.a,{md:6},r.a.createElement(u.a,{initialValues:{password:"",password_confirmation:""},handleSubmit:function(e,n){var r=n.setSubmitting,i=n.setErrors;c.a.call("post","/methods/user/".concat(t.id,"/update-password"),{},e).notifiable({success:a("user.password.password-changed-message")}).validation((function(e,t){i(t)})),r(!1)},renderForm:function(e){var t=e.handleChange,n=e.handleBlur,i=e.values,o=e.errors,l=e.isSubmitting;return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{className:"limiter",id:"password",name:"password",label:a("user.password.password-label"),placeholder:a("user.password.password-placeholder"),onChange:t,onBlur:n,value:i.password,errors:o}),r.a.createElement(m.a,{className:"limiter",id:"password_confirmation",name:"password_confirmation",label:a("user.password.password-confirmation-label"),placeholder:a("user.password.password-confirmation-placeholder"),onChange:t,onBlur:n,value:i.password_confirmation,errors:o}),r.a.createElement(d.a,{className:"pt-2 px-4 my-4",disabled:l},a("common.saveBtnText")))}}))}b.propTypes={user:l.a.instanceOf(f.d).isRequired};var v=a("6Rhw"),h=a("q6mc"),g=a("CXWj"),y=a("8WGv"),E=a("gmZo"),O=a("rpa7");function j(e){var t=e.user,a=e.afterSave,n=Object(s.a)().t,i=Object(O.a)(),o=Object(E.a)();return r.a.createElement(p.a,{md:6},r.a.createElement(u.a,{initialValues:{name:t.name,email:t.email,phone:t.phone,is_am_pm:t.is_am_pm,preferred_date_format:t.preferred_date_format},handleSubmit:function(e,r){var i=r.setSubmitting,o=r.setErrors;c.a.call("patch","/methods/user/".concat(t.id),{},e).notifiable({success:n("user.user-info.info-changed-message")}).then((function(e){a(e.data)})).validation((function(e,t){o(t)})),i(!1)},renderForm:function(e){var t=e.handleChange,a=e.handleBlur,l=e.values,s=e.errors,c=e.isSubmitting,u=e.setFieldValue;return r.a.createElement(r.a.Fragment,null,i.hasAbility("ownAuth")&&r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{className:"limiter",id:"name",name:"name",label:n("user.user-info.name-label"),placeholder:n("user.user-info.name-placeholder"),onChange:t,onBlur:a,value:l.name||"",errors:s}),r.a.createElement(v.a,{className:"limiter",id:"email",name:"email",type:"email",label:n("user.user-info.email-label"),placeholder:n("user.user-info.email-placeholder"),onChange:t,onBlur:a,value:l.email||"",errors:s}),r.a.createElement(h.a,{className:"limiter",id:"phone",name:"phone",label:n("user.user-info.phone-label"),placeholder:n("user.user-info.phone-placeholder"),onChange:t,onBlur:a,value:l.phone||"",errors:s})),r.a.createElement(g.a,{id:"is-am-pm",name:"is_am_pm",label:n("user.user-info.show-am-pm-time-format-label"),setFieldValue:u,onBlur:a,value:l.is_am_pm,errors:s}),r.a.createElement(y.a,{className:"limiter",id:"preferred-format",label:n("user.user-info.date-format-label"),placeholder:n("user.user-info.date-format-placeholder"),name:"preferred_date_format",setFieldValue:u,onBlur:a,value:l.preferred_date_format,errors:s,options:[{label:o.format("MM/DD/YYYY"),value:"MM/DD/YYYY"},{label:o.format("DD.MM.YYYY"),value:"DD.MM.YYYY"}]}),r.a.createElement(d.a,{className:"pt-2 px-4 my-4",disabled:c},n("common.saveBtnText")))}}))}j.propTypes={user:l.a.instanceOf(f.d).isRequired,afterSave:l.a.func.isRequired};var S=a("Z04g"),w=a("ma3e"),_=a("h4JF"),N=a("sOKU");function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,r=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){r=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var C=function(e){var t=e.userId,a=Object(s.a)().t,i=x(Object(n.useState)(null),2),o=i[0],l=i[1],u=Object(n.useCallback)((function(){c.a.call("get","/methods/user/".concat(t,"/connection-code")).data((function(e){l(e)}))}),[t,l]);Object(n.useEffect)((function(){u()}),[u]);var m=Object(n.useCallback)((function(){l(null),c.a.call("post","/methods/user/".concat(t,"/disconnect")).finally((function(){return u()}))}),[t,u,l]);return o?o.client?r.a.createElement("div",null,a("user.notifications.connected-msg"),r.a.createElement(N.a,{type:"button",color:"link",onClick:m},a("user.notifications.disconnect-btn"))):r.a.createElement("div",null,r.a.createElement("p",null,a("user.notifications.code-label")),r.a.createElement("code",null,"CONNECT: #",o.code)):r.a.createElement(_.a,null)};function I(e){var t=e.user,a=Object(s.a)().t,n=t.user_notifications_setting;return r.a.createElement(p.a,{xl:7,lg:8},r.a.createElement(u.a,{initialValues:{site_short_notifications:n.site_short_notifications,site_long_notifications:n.site_long_notifications,email_notifications_chatbot_activity:n.email_notifications_chatbot_activity,integration_notifications_chatbot_activity:n.integration_notifications_chatbot_activity},handleSubmit:function(e,t){var r=t.setSubmitting,i=t.setErrors;c.a.call("patch","/methods/user/notifications-settings/".concat(n.id),{},e).notifiable({success:a("user.notifications.settings-changed-message")}).validation((function(e,t){i(t)})),r(!1)},renderForm:function(e){var n=e.handleBlur,i=e.values,o=e.errors,l=e.isSubmitting,s=e.setFieldValue;return r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{items:[{renderButton:function(){return r.a.createElement("div",null,r.a.createElement(w.j,{className:"icon-size-15 mr-2 color-gray"}),r.a.createElement("span",null,a("user.notifications.title-notification-sound")),r.a.createElement(w.nb,{className:"icon-size-15 color-gray mb-2"}))},renderContent:function(){return r.a.createElement("div",null,r.a.createElement(g.a,{formGroupClass:"p-2",id:"site_short_notifications",name:"site_short_notifications",label:a("user.notifications.site-short-notifications-label"),placeholder:a("user.notifications.site-short-notifications-placeholder"),setFieldValue:s,onBlur:n,value:i.site_short_notifications,errors:o}),r.a.createElement(g.a,{formGroupClass:"p-2",id:"site_long_notifications",name:"site_long_notifications",label:a("user.notifications.site-long-notifications-label"),placeholder:a("user.notifications.site-long-notifications-placeholder"),setFieldValue:s,onBlur:n,value:i.site_long_notifications,errors:o}))}},{renderButton:function(){return r.a.createElement("div",null,r.a.createElement(w.mb,{className:"icon-size-15 mr-2 color-gray"}),r.a.createElement("span",null,a("user.notifications.title-notification-text")),r.a.createElement(w.nb,{className:"icon-size-15 color-gray mb-2"}))},renderContent:function(){return r.a.createElement("div",null,r.a.createElement(g.a,{formGroupClass:"p-2",id:"email_notifications_chatbot_activity",name:"email_notifications_chatbot_activity",label:a("user.notifications.email-notifications-chatbot-activity-label"),placeholder:a("user.notifications.email-notifications-chatbot-activity-placeholder"),setFieldValue:s,onBlur:n,value:i.email_notifications_chatbot_activity,errors:o}),r.a.createElement("hr",null),r.a.createElement(g.a,{formGroupClass:"p-2",id:"integration_notifications_chatbot_activity",name:"integration_notifications_chatbot_activity",label:a("user.notifications.sms-notifications-chatbot-activity-label"),placeholder:a("user.notifications.sms-notifications-chatbot-activity-placeholder"),setFieldValue:s,onBlur:n,value:i.integration_notifications_chatbot_activity,errors:o}))}},{renderButton:function(){return r.a.createElement("div",null,r.a.createElement(w.j,{className:"icon-size-15 mr-2 color-gray"}),r.a.createElement("span",null,a("user.notifications.title-connection-code")),r.a.createElement(w.nb,{className:"icon-size-15 color-gray mb-2"}))},renderContent:function(){return r.a.createElement(C,{userId:t.id})}}],className:"change-notification-settings"}),r.a.createElement(d.a,{className:"pt-2 px-4 mt-5 mb-4",disabled:l},a("common.saveBtnText")))}}))}C.propTypes={userId:l.a.number.isRequired},I.propTypes={user:l.a.instanceOf(f.d).isRequired};var R=a("pbA8");function q(e){var t=e.user,a=Object(s.a)().t;return r.a.createElement(p.a,{md:7},r.a.createElement(u.a,{initialValues:{default_conversation_message:t.default_conversation_message},handleSubmit:function(e,n){var r=n.setSubmitting,i=n.setErrors;c.a.call("patch","/methods/user/".concat(t.id),{},e).notifiable({success:a("user.default-conversation-message.default-conversation-message-changed-message")}).validation((function(e,t){i(t)})),r(!1)},renderForm:function(e){var t=e.values,n=e.errors,i=e.isSubmitting,o=e.setFieldValue;return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{className:"default-message",name:"default_conversation_message",label:a("user.default-conversation-message.default-conversation-message-label"),placeholder:a("user.default-conversation-message.default-conversation-message-placeholder"),setFieldValue:o,value:t.default_conversation_message||"",errors:n}),r.a.createElement(d.a,{className:"pt-2 px-4 my-4",disabled:i},a("common.saveBtnText")))}}))}q.propTypes={user:l.a.instanceOf(f.d).isRequired};var A=a("muO8"),P=a("4K7x"),F=a("+AQ4");function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,r=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){r=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return V(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return V(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function M(e){var t=e.user,a=(e.afterSave,t.id),i=k(Object(n.useState)(null),2),o=i[0],l=i[1],m=Object(s.a)().t,f=Object(O.a)();Object(n.useEffect)((function(){c.a.call("get","/methods/user/".concat(a,"/departments")).then((function(e){var t=e.data.map((function(e){return{label:e.name,value:e.id}}));l(t)}))}),[a]);return o?r.a.createElement(p.a,{md:7},r.a.createElement(u.a,{initialValues:{departments:t.departments.map((function(e){return{label:e.name,value:e.id}})),role_id:t.role_id},handleSubmit:function(e,a){var n=e.departments,r=e.role_id,i=a.setSubmitting,o=a.setErrors;c.a.call("patch","/methods/user/".concat(t.id),{},{departments:n?n.map((function(e){return e.value})):[],role_id:r}).notifiable({success:m("user.settings.departments-changed-message")}).validation((function(e,t){o(t)})).finally((function(){i(!1)}))},renderForm:function(e){var a=e.setFieldValue,n=e.handleBlur,i=e.values,l=e.errors,s=e.isSubmitting;return r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a,{id:"departments",name:"departments",label:m("user.settings.departments-label"),options:o,setFieldValue:a,onBlur:n,value:i.departments,errors:l}),t.id!==f.id?r.a.createElement(F.a,{className:"limiter",id:"role_id",label:m("user.settings.role-label"),name:"role_id",setFieldValue:a,value:i.role_id,errors:l,loadOptions:Object(P.a)(m,t.company_id),isClearable:!1}):null,r.a.createElement(d.a,{className:"pt-2 px-4 my-4",disabled:s},m("common.saveBtnText")))}})):null}M.propTypes={user:l.a.instanceOf(f.d).isRequired,afterSave:l.a.func.isRequired};var B=a("ok1R"),Y=a("BLzl"),D=a("/kxI"),z=a("afej"),G=a("TSYQ"),L=a.n(G),Q=a("o0o1"),K=a.n(Q),U=a("P2Na"),J=a("/MKj"),X=a("hAFs"),$=a("a6YV");function W(e,t,a,n,r,i,o){try{var l=e[i](o),s=l.value}catch(e){return void a(e)}l.done?t(s):Promise.resolve(s).then(n,r)}function H(e){var t=e.user,a=e.afterSave,n=e.editable,i=Object(O.a)(),o=Object(J.d)(),l=function(){var e,n=(e=K.a.mark((function e(n){var r;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(r=n.target.files).length&&Object(U.a)(r[0]).then((function(e){var n,r,l=e.data;(n=t.id,r=l.id,c.a.call("patch","/methods/user/".concat(n),{},{image_id:r})).then((function(){t.id===i.id&&o(Object(X.c)(l)),a(l)}))}));case 2:case"end":return e.stop()}}),e)})),function(){var t=this,a=arguments;return new Promise((function(n,r){var i=e.apply(t,a);function o(e){W(i,n,r,o,l,"next",e)}function l(e){W(i,n,r,o,l,"throw",e)}o(void 0)}))});return function(e){return n.apply(this,arguments)}}();return r.a.createElement("label",{className:"user-avatar d-block position-relative mb-4 pb-2"},r.a.createElement("div",{className:"user-photo-block rounded-circle"},r.a.createElement("img",{src:Object($.a)(t.imageUrl),alt:t.name,className:"user-photo"})),r.a.createElement("input",{className:"d-none",type:"file",multiple:!1,accept:"image/*",onChange:l,disabled:!n}),n?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"photo-cam-bg position-absolute"}),r.a.createElement(w.m,{className:"photo-icon icon-size-25 color-gray position-absolute"})):null)}H.propTypes={user:l.a.instanceOf(f.d).isRequired,afterSave:l.a.func.isRequired,editable:l.a.bool};var Z=a("HgaL"),ee=a("nLSp");function te(e){var t,a=e.user,n=e.screen,i=e.children,o=e.setScreen,l=e.afterImageChanged,c=Object(s.a)().t,u=Object(O.a)(),m=u.id===a.id;return r.a.createElement(B.a,null,r.a.createElement(p.a,{xl:4},r.a.createElement(Y.a,{className:"mb-5 shadow"},r.a.createElement(D.a,{className:"d-flex flex-wrap"},r.a.createElement("div",{className:"mr-5"},r.a.createElement(H,{afterSave:l,user:a,editable:u.hasAbility("ownAuth")})),r.a.createElement("div",null,r.a.createElement("p",{className:"text-large font-weight-bold mb-1"},a.name),r.a.createElement("hr",null),r.a.createElement("table",{className:"user-info-table mb-3"},r.a.createElement("tbody",null,a.isSystemAdministrator?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,r.a.createElement("th",null,c("user.user-info-block.company")),r.a.createElement("td",null,null===(t=a.company)||void 0===t?void 0:t.name)),r.a.createElement("tr",null,r.a.createElement("th",null,c("user.user-info-block.department")),r.a.createElement("td",null,a.departments.map((function(e){return e.name})).join(", ")))),r.a.createElement("tr",null,r.a.createElement("th",null,c("user.user-info-block.role")),r.a.createElement("td",null,Object(ee.a)(a.role))))),m?r.a.createElement(Z.a,{toggleClass:"user-language px-0 btn-noShadow"}):null)))),r.a.createElement(p.a,{xl:8},r.a.createElement(Y.a,{className:"mb-5 card-navbar shadow"},r.a.createElement(z.a,{className:"p-0"},a.isSystemAdministrator?null:r.a.createElement("div",{className:"navigation-bar-wrapper"},r.a.createElement("div",{className:"navigation-bar w-100 d-flex"},r.a.createElement("button",{className:L()("navigation-item rounded-top w-100 py-2 px-3",{active:n===le}),onClick:function(){return o(le)}},c("user.settings-menu.personal-data")),r.a.createElement("button",{className:L()("navigation-item rounded-top w-100 py-2 px-3",{active:n===se}),onClick:function(){return o(se)}},c("user.settings-menu.notifications")),a.hasAbility("ownAuth")&&a.hasAbility("manageCompany")&&!m?r.a.createElement("button",{className:L()("navigation-item rounded-top w-100 py-2 px-3",{active:n===ce}),onClick:function(){return o(ce)}},c("user.settings-menu.settings")):null,r.a.createElement("button",{className:L()("navigation-item rounded-top w-100 py-2 px-3",{active:n===ue}),onClick:function(){return o(ue)}},c("user.settings-menu.live-chat"))))),r.a.createElement(D.a,{className:"px-4 rounded-bottom"},r.a.createElement(B.a,null,i)))))}te.propTypes={user:l.a.instanceOf(f.d).isRequired,screen:l.a.string.isRequired,setScreen:l.a.func.isRequired,afterImageChanged:l.a.func.isRequired,children:l.a.any};var ae=a("Ty5D"),ne=a("vDqi"),re=a.n(ne);function ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,r=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){r=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return oe(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return oe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var le="main-settings",se="notifications-settings",ce="additional-settings",ue="default-message-settings";function me(){var e=ie(Object(n.useState)(null),2),t=e[0],a=e[1],o=ie(Object(n.useState)(le),2),l=o[0],s=o[1],u=Object(ae.j)().id,m=Object(O.a)(),d=Object(J.d)(),p=function(e){s(t.isSystemAdministrator?le:e)};Object(n.useEffect)((function(){var e=re.a.CancelToken.source();return c.a.call("get","/methods/user/".concat(u),{},{},{cancelToken:e.token}).then((function(e){a(e.data?new f.d(e.data):null)})),function(){e.cancel()}}),[u,a]);var v=function(e){var n=t.set("role",e.role).set("name",e.name).set("email",e.email).set("phone",e.phone).set("image_id",e.image_id).set("image",e.image).set("departments",e.departments);a(n),+m.id==+u&&d(Object(X.a)(e))},h=function(e){a(t.set("image_id",e.id).set("image",e))},g=null;if(t)switch(l){case le:g=r.a.createElement(te,{user:t,screen:l,setScreen:p,afterImageChanged:h},r.a.createElement(j,{user:t,afterSave:v}),m.hasAbility("ownAuth")&&r.a.createElement(b,{user:t}));break;case se:g=r.a.createElement(te,{user:t,screen:l,setScreen:p,afterImageChanged:h},r.a.createElement(I,{user:t}));break;case ce:g=r.a.createElement(te,{user:t,screen:l,setScreen:p,afterImageChanged:h},r.a.createElement(M,{user:t,afterSave:v}));break;case ue:g=r.a.createElement(te,{user:t,screen:l,setScreen:p,afterImageChanged:h},r.a.createElement(q,{user:t}))}else g=r.a.createElement(_.a,null);return r.a.createElement(i.a,null,g)}},y2Vs:function(e,t,a){"use strict";var n=a("HhE6"),r=a("4Jst"),i=a("q1tI"),o=a("2k+j"),l=(a("zIvK"),a("+1VY"),a("yUKz"),a("ROju"),a("EPfG"),a("cO97"),a("SKuE"),a("/ouT"),a("g/0L"),a("9IRi"),a("5KkY"),a("qEaO"),a("X4k0"),a("i8i4"),a("y74/"),Object(i.forwardRef)((function(e,t){var a=Object(n.a)(e);return i.createElement(o.a,Object(r.a)({ref:t},a))})));t.a=l}}]);